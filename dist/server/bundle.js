/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/client/networking/api/restAPI.ts":
/*!**********************************************!*\
  !*** ./src/client/networking/api/restAPI.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "axios");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shared_system_util_errorUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/system/util/errorUtil */ "./src/shared/system/util/errorUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var RestAPI = {
    get: function (url, requestConfig) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, send("get", url, requestConfig)];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    }); },
    post: function (url, requestConfig) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, send("post", url, requestConfig)];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    }); },
    put: function (url, requestConfig) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, send("put", url, requestConfig)];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    }); },
    delete: function (url, requestConfig) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, send("delete", url, requestConfig)];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    }); },
};
function send(method, url, requestConfig) {
    return __awaiter(this, void 0, void 0, function () {
        var axiosResponse, err_1;
        var _a;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    _b.trys.push([0, 2, , 3]);
                    return [4 /*yield*/, (axios__WEBPACK_IMPORTED_MODULE_0___default())[method](url, requestConfig)];
                case 1:
                    axiosResponse = _b.sent();
                    return [2 /*return*/, { status: axiosResponse.status, data: axiosResponse.data }];
                case 2:
                    err_1 = _b.sent();
                    if (axios__WEBPACK_IMPORTED_MODULE_0___default().isAxiosError(err_1)) {
                        if (err_1.response)
                            return [2 /*return*/, { status: err_1.response.status, data: err_1.response.data }];
                        else
                            return [2 /*return*/, { status: (_a = err_1.status) !== null && _a !== void 0 ? _a : 500, data: err_1.message }];
                    }
                    else {
                        return [2 /*return*/, { status: 500, data: _shared_system_util_errorUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getErrorMessage(err_1) }];
                    }
                    // removed by dead control flow

                case 3: return [2 /*return*/];
            }
        });
    });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RestAPI);


/***/ }),

/***/ "./src/server/db/db.ts":
/*!*****************************!*\
  !*** ./src/server/db/db.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ "mysql2/promise");
/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _types_sqlQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types/sqlQuery */ "./src/server/db/types/sqlQuery.ts");
/* harmony import */ var _types_sqlTransaction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types/sqlTransaction */ "./src/server/db/types/sqlTransaction.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





dotenv__WEBPACK_IMPORTED_MODULE_2___default().config();
var dev = process.env.MODE == "dev";
var pool = undefined;
var DB = {
    getPool: function () {
        if (!pool)
            createPool();
        return pool;
    },
    runQuery: function (queryStr, queryParams) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, (new _types_sqlQuery__WEBPACK_IMPORTED_MODULE_3__["default"](queryStr, queryParams).run())];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    }); },
    runTransaction: function (queries) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, (new _types_sqlTransaction__WEBPACK_IMPORTED_MODULE_4__["default"](queries).run())];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    }); },
};
function createPool() {
    if (pool) {
        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_1__["default"].logRaw("DB connection pool is already created.", "high", "pink");
        return;
    }
    pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default().createPool({
        host: dev ? process.env.SQL_HOST_DEV : process.env.SQL_HOST_PROD,
        user: dev ? process.env.SQL_USER_DEV : process.env.SQL_USER_PROD,
        password: dev ? process.env.SQL_PASS_DEV : process.env.SQL_PASS_PROD,
        database: "main",
        waitForConnections: true,
        connectionLimit: 10,
        queueLimit: 0,
        enableKeepAlive: true,
        keepAliveInitialDelay: 0,
    });
    if (!pool) {
        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_1__["default"].logRaw("Failed to create a DB connection pool.", "high", "pink");
        return;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DB);


/***/ }),

/***/ "./src/server/db/roomDB.ts":
/*!*********************************!*\
  !*** ./src/server/db/roomDB.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ "./src/server/db/db.ts");
/* harmony import */ var _shared_room_types_room__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/room/types/room */ "./src/shared/room/types/room.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shared_room_roomGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/room/roomGenerator */ "./src/shared/room/roomGenerator.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




dotenv__WEBPACK_IMPORTED_MODULE_2___default().config();
var RoomDB = {
    getRoomContent: function (roomID) { return __awaiter(void 0, void 0, void 0, function () {
        var result;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT * FROM rooms WHERE rooms.roomID = ?;", [roomID])];
                case 1:
                    result = _a.sent();
                    if (!result.success || result.data.length == 0)
                        return [2 /*return*/, null];
                    return [2 /*return*/, _shared_room_types_room__WEBPACK_IMPORTED_MODULE_1__["default"].fromSQL(result.data[0])];
            }
        });
    }); },
    saveRoomContent: function (room) { return __awaiter(void 0, void 0, void 0, function () {
        var sqlRoom, result;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    sqlRoom = room.toSQL();
                    return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("UPDATE rooms\n            SET voxelGrid = ?, persistentObjectGroup = ?\n            WHERE roomID = ?", [Buffer.from(sqlRoom.voxelGrid), Buffer.from(sqlRoom.persistentObjectGroup),
                            room.roomID])];
                case 1:
                    result = _a.sent();
                    return [2 /*return*/, result.success];
            }
        });
    }); },
    createRoom: function (roomName, roomType, ownerUserName, floorTextureIndex, wallTextureIndex, ceilingTextureIndex, texturePackURL) { return __awaiter(void 0, void 0, void 0, function () {
        var _a, voxelGrid, persistentObjectGroup, room, sqlRoom, result;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    _a = _shared_room_roomGenerator__WEBPACK_IMPORTED_MODULE_3__["default"].generateEmptyRoom(floorTextureIndex, wallTextureIndex, ceilingTextureIndex), voxelGrid = _a.voxelGrid, persistentObjectGroup = _a.persistentObjectGroup;
                    room = new _shared_room_types_room__WEBPACK_IMPORTED_MODULE_1__["default"](0, roomName, roomType, ownerUserName, texturePackURL, voxelGrid, persistentObjectGroup);
                    sqlRoom = room.toSQL();
                    return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("INSERT INTO rooms\n            (roomName, roomType, ownerUserName, texturePackURL, voxelGrid, persistentObjectGroup)\n            VALUES (?, ?, ?, ?, ?, ?);", [sqlRoom.roomName, sqlRoom.roomType, sqlRoom.ownerUserName, sqlRoom.texturePackURL,
                            Buffer.from(sqlRoom.voxelGrid), Buffer.from(sqlRoom.persistentObjectGroup)])];
                case 1:
                    result = _b.sent();
                    return [2 /*return*/, result.success];
            }
        });
    }); },
    deleteRoom: function (roomID) { return __awaiter(void 0, void 0, void 0, function () {
        var result;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("DELETE FROM rooms WHERE roomID = ?;", [roomID])];
                case 1:
                    result = _a.sent();
                    return [2 /*return*/, result.success];
            }
        });
    }); },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoomDB);


/***/ }),

/***/ "./src/server/db/searchDB.ts":
/*!***********************************!*\
  !*** ./src/server/db/searchDB.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ "./src/server/db/db.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var SearchDB = {
    rooms: {
        all: function (page) { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT roomID, roomName, roomType FROM rooms\n                ORDER BY roomID LIMIT 10, ".concat(page * 10, ";"))];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        }); },
        withRoomName: function (roomName) { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT roomID, roomName, roomType FROM rooms WHERE roomName = ?;", [roomName])];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        }); },
        withRoomType: function (roomType) { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT roomID, roomName, roomType FROM rooms WHERE roomType = ?;", [roomType])];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        }); },
    },
    users: {
        all: function (page) { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT * FROM users\n                ORDER BY userID LIMIT 10, ".concat(page * 10, ";"))];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        }); },
        withUserName: function (userName) { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT * FROM users WHERE userName = ?;", [userName])];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        }); },
        withEmail: function (email) { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT * FROM users WHERE email = ?;", [email])];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        }); },
        withUserNameOrEmail: function (userName, email) { return __awaiter(void 0, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("SELECT * FROM users WHERE userName = ? OR email = ?;", [userName, email])];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        }); },
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchDB);


/***/ }),

/***/ "./src/server/db/tasks/dbTask_init.ts":
/*!********************************************!*\
  !*** ./src/server/db/tasks/dbTask_init.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ dbTask_init)
/* harmony export */ });
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ "./src/server/db/db.ts");
/* harmony import */ var _types_sqlQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/sqlQuery */ "./src/server/db/types/sqlQuery.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


function dbTask_init() {
    return __awaiter(this, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runTransaction([
                        new _types_sqlQuery__WEBPACK_IMPORTED_MODULE_1__["default"]("\n            CREATE TABLE IF NOT EXISTS users (\n                userID INT NOT NULL AUTO_INCREMENT,\n                userName VARCHAR(32) NOT NULL,\n                userType TINYINT NOT NULL,\n                passwordHash VARCHAR(72) NOT NULL,\n                email VARCHAR(64) NOT NULL,\n                tutorialStep TINYINT NOT NULL,\n                PRIMARY KEY (userID),\n                UNIQUE KEY (userName),\n                UNIQUE KEY (email)\n            );\n        "),
                        new _types_sqlQuery__WEBPACK_IMPORTED_MODULE_1__["default"]("\n            CREATE TABLE IF NOT EXISTS rooms (\n                roomID INT NOT NULL AUTO_INCREMENT,\n                roomName VARCHAR(64) NOT NULL,\n                roomType TINYINT NOT NULL,\n                ownerUserName VARCHAR(16) NOT NULL,\n                texturePackURL VARCHAR(128) NOT NULL,\n                voxelGrid BLOB NOT NULL,\n                persistentObjectGroup BLOB NOT NULL,\n                PRIMARY KEY (roomID),\n                UNIQUE KEY (roomName)\n            );\n        "),
                        new _types_sqlQuery__WEBPACK_IMPORTED_MODULE_1__["default"]("INSERT INTO globalData (dbVersion) VALUES (0);"),
                    ])];
                case 1: return [2 /*return*/, _a.sent()];
            }
        });
    });
}


/***/ }),

/***/ "./src/server/db/types/sqlQuery.ts":
/*!*****************************************!*\
  !*** ./src/server/db/types/sqlQuery.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ "./src/server/db/db.ts");
/* harmony import */ var _shared_system_util_errorUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/system/util/errorUtil */ "./src/shared/system/util/errorUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var SQLQuery = /** @class */ (function () {
    function SQLQuery(queryStr, queryParams) {
        this.queryStr = queryStr;
        this.queryParams = queryParams;
    }
    SQLQuery.prototype.run = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pool, _a, results, fields, err_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("SQL Query Started", { queryStr: this.queryStr /*, queryParams: this.queryParams*/ }, "low");
                        pool = _db__WEBPACK_IMPORTED_MODULE_1__["default"].getPool();
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        if (!pool) {
                            _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw("SQL Connection Pool Failed To Load", "high", "pink");
                            return [2 /*return*/, { success: false, data: [] }];
                        }
                        return [4 /*yield*/, pool.query(this.queryStr, this.queryParams)];
                    case 2:
                        _a = _b.sent(), results = _a[0], fields = _a[1];
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("SQL Query Succeeded", { queryStr: this.queryStr /*, queryParams: this.queryParams*/ }, "medium");
                        return [2 /*return*/, { success: true, data: results }];
                    case 3:
                        err_1 = _b.sent();
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("SQL Query Error", { errorMessage: _shared_system_util_errorUtil__WEBPACK_IMPORTED_MODULE_2__["default"].getErrorMessage(err_1) }, "high", "pink");
                        return [2 /*return*/, { success: false, data: [] }];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    return SQLQuery;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SQLQuery);


/***/ }),

/***/ "./src/server/db/types/sqlTransaction.ts":
/*!***********************************************!*\
  !*** ./src/server/db/types/sqlTransaction.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db */ "./src/server/db/db.ts");
/* harmony import */ var _shared_system_util_errorUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/system/util/errorUtil */ "./src/shared/system/util/errorUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var SQLTransaction = /** @class */ (function () {
    function SQLTransaction(queries) {
        this.queries = queries;
    }
    // Returns TRUE if the transaction succeeded, or FALSE otherwise.
    SQLTransaction.prototype.run = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pool, conn, successCount, _i, _a, query, err_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("SQL Transaction Began", { numQueries: this.queries.length }, "low");
                        pool = _db__WEBPACK_IMPORTED_MODULE_1__["default"].getPool();
                        conn = undefined;
                        successCount = 0;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 9, 11, 12]);
                        if (!pool) {
                            _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw("SQL Connection Pool Failed To Load", "high", "pink");
                            return [2 /*return*/, false];
                        }
                        return [4 /*yield*/, pool.getConnection()];
                    case 2:
                        conn = _b.sent();
                        if (!conn) {
                            _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw("SQL Transaction Connection Failed", "high", "pink");
                            return [2 /*return*/, false];
                        }
                        return [4 /*yield*/, conn.beginTransaction()];
                    case 3:
                        _b.sent();
                        _i = 0, _a = this.queries;
                        _b.label = 4;
                    case 4:
                        if (!(_i < _a.length)) return [3 /*break*/, 7];
                        query = _a[_i];
                        return [4 /*yield*/, conn.execute(query.queryStr, query.queryParams)];
                    case 5:
                        _b.sent();
                        successCount++;
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("SQL Transaction Query Succeeded", { progress: "".concat(successCount, "/").concat(this.queries.length), query: query }, "low");
                        _b.label = 6;
                    case 6:
                        _i++;
                        return [3 /*break*/, 4];
                    case 7: return [4 /*yield*/, conn.commit()];
                    case 8:
                        _b.sent();
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw("SQL Transaction Committed", "medium");
                        return [3 /*break*/, 12];
                    case 9:
                        err_1 = _b.sent();
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("SQL Transaction Error", { progress: "".concat(successCount, "/").concat(this.queries.length), errorMessage: _shared_system_util_errorUtil__WEBPACK_IMPORTED_MODULE_2__["default"].getErrorMessage(err_1) }, "high", "pink");
                        return [4 /*yield*/, (conn === null || conn === void 0 ? void 0 : conn.rollback())];
                    case 10:
                        _b.sent();
                        return [3 /*break*/, 12];
                    case 11:
                        conn === null || conn === void 0 ? void 0 : conn.release();
                        return [2 /*return*/, successCount == this.queries.length];
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    ;
    return SQLTransaction;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SQLTransaction);


/***/ }),

/***/ "./src/server/db/userDB.ts":
/*!*********************************!*\
  !*** ./src/server/db/userDB.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ "./src/server/db/db.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var UserDB = {
    createUser: function (userName, userType, passwordHash, email) { return __awaiter(void 0, void 0, void 0, function () {
        var result;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, _db__WEBPACK_IMPORTED_MODULE_0__["default"].runQuery("INSERT INTO users (userName, userType, passwordHash, email, tutorialStep)\n            VALUES (?, ?, ?, ?, 0);", [userName, userType, passwordHash, email])];
                case 1:
                    result = _a.sent();
                    return [2 /*return*/, result.success];
            }
        });
    }); },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserDB);


/***/ }),

/***/ "./src/server/networking/util/addressUtil.ts":
/*!***************************************************!*\
  !*** ./src/server/networking/util/addressUtil.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_0__);
var os = __webpack_require__(/*! os */ "os");

dotenv__WEBPACK_IMPORTED_MODULE_0___default().config();
// If this is set to TRUE, the local IP address will simply be "localhost" (This is for testing features which require the server URL to be based on "localhost" instead of an actual IP address).
var forceLocalhost = true;
var AddressUtil = {
    getErrorPageURL: function (errorPageName) {
        return "".concat(process.env.MODE == "dev" ? "http://".concat(AddressUtil.getLocalIpAddress(), ":").concat(process.env.PORT) : process.env.URL_STATIC, "/error/").concat(errorPageName, ".html");
    },
    getMyPageURL: function () {
        return "".concat(process.env.MODE == "dev" ? "http://".concat(AddressUtil.getLocalIpAddress(), ":").concat(process.env.PORT) : process.env.URL_DYNAMIC, "/mypage");
    },
    getLocalIpAddress: function () {
        if (forceLocalhost)
            return "localhost";
        if (process.env.MODE != "dev")
            throw new Error("Calling 'getLocalIpAddress' is not allowed in a non-dev mode.");
        var interfaces = os.networkInterfaces();
        for (var _i = 0, _a = Object.keys(interfaces); _i < _a.length; _i++) {
            var name = _a[_i];
            for (var _b = 0, _c = interfaces[name]; _b < _c.length; _b++) {
                var i = _c[_b];
                if (i.family == "IPv4" && !i.internal)
                    return i.address;
            }
        }
        return "127.0.0.1";
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressUtil);


/***/ }),

/***/ "./src/server/networking/util/cookieUtil.ts":
/*!**************************************************!*\
  !*** ./src/server/networking/util/cookieUtil.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shared_system_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/system/constants */ "./src/shared/system/constants.ts");


dotenv__WEBPACK_IMPORTED_MODULE_0___default().config();
var dev = process.env.MODE == "dev";
var CookieUtil = {
    getAuthTokenName: function () {
        return "".concat(_shared_system_constants__WEBPACK_IMPORTED_MODULE_1__.AUTH_TOKEN_NAME_BASE).concat(dev ? "_dev" : "");
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CookieUtil);


/***/ }),

/***/ "./src/server/networking/util/serverLogUtil.ts":
/*!*****************************************************!*\
  !*** ./src/server/networking/util/serverLogUtil.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _sockets_consoleSockets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../sockets/consoleSockets */ "./src/server/sockets/consoleSockets.ts");

var stackTrace = [];
var ServerLogUtil = {
    thresholdLogLevel: 0, // 0 = low importance, 1 = medium importance, 2 = high importance
    setThresholdLogLevel: function (logLevelOrName) {
        ServerLogUtil.thresholdLogLevel = isNaN(logLevelOrName) ?
            ServerLogUtil.getLogLevelFromName(logLevelOrName) : logLevelOrName;
    },
    getThresholdLogLevel: function () {
        return ServerLogUtil.thresholdLogLevel;
    },
    getLogLevelFromName: function (logLevelName) {
        switch (logLevelName) {
            case "low": return 0;
            case "medium": return 1;
            case "high": return 2;
            default: console.error("ERROR: Unknown log level name (\"".concat(logLevelName, "\")"));
        }
        return 0;
    },
    log: function (eventTitle, eventDescObj, logLevelName, highlightColor) {
        if (eventDescObj === void 0) { eventDescObj = undefined; }
        if (logLevelName === void 0) { logLevelName = "high"; }
        var details = "";
        if (eventDescObj != undefined)
            details = JSON.stringify(eventDescObj).substring(0, 1024);
        var origin = ServerLogUtil.getStackTrace();
        var logLevel = ServerLogUtil.getLogLevelFromName(logLevelName);
        if (logLevel >= ServerLogUtil.thresholdLogLevel)
            _sockets_consoleSockets__WEBPACK_IMPORTED_MODULE_0__["default"].log((highlightColor ? "<b style=\"color:".concat(highlightColor, "\">") : "") + eventTitle + (highlightColor ? "</b>" : ""), origin, details);
    },
    logRaw: function (message, logLevelName, highlightColor) {
        if (logLevelName === void 0) { logLevelName = "high"; }
        ServerLogUtil.log(message, undefined, logLevelName, highlightColor);
    },
    getStackTrace: function () {
        var arr = [];
        for (var i = stackTrace.length - 1; i >= 0; --i)
            arr.push(stackTrace[i]);
        return arr.join(" <- ");
    },
    pushStackTrace: function (traceName) {
        stackTrace.push(traceName);
        ServerLogUtil.logRaw("pushStackTrace: ".concat(traceName), "high", "gray");
    },
    popStackTrace: function (traceName) {
        if (stackTrace.length == 0) {
            ServerLogUtil.logRaw("No name to pop in stackTrace :: (traceName = ".concat(traceName, ")"), "high", "pink");
            return;
        }
        var expectedTraceName = stackTrace.pop();
        if (expectedTraceName != traceName) {
            ServerLogUtil.logRaw("Name mismatch in stackTrace :: (traceName = ".concat(traceName, ", expectedTraceName = ").concat(expectedTraceName, ")"), "high", "pink");
            return;
        }
        ServerLogUtil.logRaw("popStackTrace: ".concat(traceName), "high", "gray");
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ServerLogUtil);


/***/ }),

/***/ "./src/server/room/roomManager.ts":
/*!****************************************!*\
  !*** ./src/server/room/roomManager.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/physics/physicsManager */ "./src/shared/physics/physicsManager.ts");
/* harmony import */ var _shared_object_types_objectDesyncResolveParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/object/types/objectDesyncResolveParams */ "./src/shared/object/types/objectDesyncResolveParams.ts");
/* harmony import */ var _shared_object_types_objectSyncParams__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/object/types/objectSyncParams */ "./src/shared/object/types/objectSyncParams.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _util_roomUserUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util/roomUserUtil */ "./src/server/room/util/roomUserUtil.ts");
/* harmony import */ var _util_roomCoreUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/roomCoreUtil */ "./src/server/room/util/roomCoreUtil.ts");
/* harmony import */ var _util_roomVoxelUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util/roomVoxelUtil */ "./src/server/room/util/roomVoxelUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var roomRuntimeMemories = {};
var socketRoomContexts = {};
var currentRoomIDByUserName = {};
var RoomManager = {
    roomRuntimeMemories: roomRuntimeMemories,
    socketRoomContexts: socketRoomContexts,
    currentRoomIDByUserName: currentRoomIDByUserName,
    changeUserRoom: function (socketUserContext, roomID, prevRoomShouldExist) { return __awaiter(void 0, void 0, void 0, function () {
        var user, roomRuntimeMemory, mem, socketRoomContext;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    user = socketUserContext.socket.handshake.auth;
                    console.log("RoomManager.changeUserRoom :: roomID = ".concat(roomID, ", userName = ").concat(user.userName));
                    (0,_util_roomUserUtil__WEBPACK_IMPORTED_MODULE_4__.removeUserFromRoom)(socketUserContext, prevRoomShouldExist);
                    if (!roomID)
                        return [2 /*return*/];
                    roomRuntimeMemory = roomRuntimeMemories[roomID];
                    if (!!roomRuntimeMemory) return [3 /*break*/, 2];
                    return [4 /*yield*/, (0,_util_roomCoreUtil__WEBPACK_IMPORTED_MODULE_5__.loadRoom)(roomID)];
                case 1:
                    mem = _a.sent();
                    if (mem)
                        roomRuntimeMemory = mem;
                    _a.label = 2;
                case 2:
                    if (!roomRuntimeMemory) {
                        console.error("Failed to load room (ID = ".concat(roomID, ")"));
                        return [2 /*return*/];
                    }
                    (0,_util_roomUserUtil__WEBPACK_IMPORTED_MODULE_4__.addUserToRoom)(socketUserContext, roomRuntimeMemory, user.userName);
                    socketRoomContext = socketRoomContexts[roomID];
                    if (!socketRoomContext)
                        console.error("RoomManager.changeUserRoom :: SocketRoomContext not found (roomID = ".concat(roomID, ")"));
                    else
                        socketRoomContext.unicastSignal("roomRuntimeMemory", roomRuntimeMemory, user.userName);
                    return [2 /*return*/];
            }
        });
    }); },
    updateVoxelGrid: function (socketUserContext, params) {
        (0,_util_roomVoxelUtil__WEBPACK_IMPORTED_MODULE_6__.updateVoxelGrid)(socketUserContext, params);
    },
    sendObjectMessage: function (socketUserContext, params) {
        var user = socketUserContext.socket.handshake.auth;
        var roomID = currentRoomIDByUserName[user.userName];
        if (roomID == undefined) {
            console.error("RoomManager.sendObjectMessage :: RoomID not found (userName = ".concat(user.userName, ")"));
            return;
        }
        var roomRuntimeMemory = roomRuntimeMemories[roomID];
        if (roomRuntimeMemory == undefined) {
            console.error("RoomManager.sendObjectMessage :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ")"));
            return;
        }
        var objectRuntimeMemory = roomRuntimeMemory.objectRuntimeMemories[params.senderObjectId];
        if (objectRuntimeMemory == undefined) {
            console.error("RoomManager.sendObjectMessage :: ObjectRuntimeMemory doesn't exist (roomID = ".concat(roomID, ", objectId = ").concat(params.senderObjectId, ")"));
            return;
        }
        if (objectRuntimeMemory.objectSpawnParams.sourceUserName != user.userName) {
            console.error("RoomManager.sendObjectMessage :: User has no authority to control this object (roomID = ".concat(roomID, ", objectId = ").concat(params.senderObjectId, ")"));
            return;
        }
        params.message = params.message.trim().substring(0, 32);
        var socketRoomContext = socketRoomContexts[roomID];
        if (!socketRoomContext)
            console.error("RoomManager.sendObjectMessage :: SocketRoomContext not found (roomID = ".concat(roomID, ")"));
        else
            socketRoomContext.multicastSignal("objectMessageParams", params, user.userName);
    },
    updateObjectTransform: function (socketUserContext, objectId, transform) {
        var user = socketUserContext.socket.handshake.auth;
        var roomID = currentRoomIDByUserName[user.userName];
        if (roomID == undefined) {
            console.error("RoomManager.updateObjectTransform :: RoomID not found (userName = ".concat(user.userName, ")"));
            return;
        }
        var roomRuntimeMemory = roomRuntimeMemories[roomID];
        if (roomRuntimeMemory == undefined) {
            console.error("RoomManager.updateObjectTransform :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ")"));
            return;
        }
        var objectRuntimeMemory = roomRuntimeMemory.objectRuntimeMemories[objectId];
        if (objectRuntimeMemory == undefined) {
            console.error("RoomManager.updateObjectTransform :: ObjectRuntimeMemory doesn't exist (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
            return;
        }
        if (objectRuntimeMemory.objectSpawnParams.sourceUserName != user.userName) {
            console.error("RoomManager.updateObjectTransform :: User has no authority to control this object (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
            return;
        }
        var targetPos = { x: transform.x, y: transform.z };
        var result = _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_0__["default"].tryMoveObject(roomID, objectId, targetPos);
        transform.x = result.resolvedPos.x;
        transform.z = result.resolvedPos.y;
        Object.assign(objectRuntimeMemory.objectSpawnParams.transform, transform);
        if (result.desyncDetected) {
            var params = new _shared_object_types_objectDesyncResolveParams__WEBPACK_IMPORTED_MODULE_1__["default"](objectId, result.resolvedPos);
            var socketRoomContext = socketRoomContexts[roomID];
            if (!socketRoomContext)
                console.error("RoomManager.updateObjectTransform :: SocketRoomContext not found (roomID = ".concat(roomID, ")"));
            else
                socketRoomContext.multicastSignal("objectDesyncResolveParams", params);
        }
        else {
            var params = new _shared_object_types_objectSyncParams__WEBPACK_IMPORTED_MODULE_2__["default"](objectId, transform);
            var socketRoomContext = socketRoomContexts[roomID];
            if (!socketRoomContext)
                console.error("RoomManager.updateObjectTransform :: SocketRoomContext not found (roomID = ".concat(roomID, ")"));
            else
                socketRoomContext.multicastSignal("objectSyncParams", params, user.userName);
        }
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoomManager);


/***/ }),

/***/ "./src/server/room/util/roomCoreUtil.ts":
/*!**********************************************!*\
  !*** ./src/server/room/util/roomCoreUtil.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loadRoom: () => (/* binding */ loadRoom),
/* harmony export */   unloadRoom: () => (/* binding */ unloadRoom)
/* harmony export */ });
/* harmony import */ var _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/physics/physicsManager */ "./src/shared/physics/physicsManager.ts");
/* harmony import */ var _shared_room_types_roomRuntimeMemory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/room/types/roomRuntimeMemory */ "./src/shared/room/types/roomRuntimeMemory.ts");
/* harmony import */ var _db_roomDB__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../db/roomDB */ "./src/server/db/roomDB.ts");
/* harmony import */ var _sockets_types_socketRoomContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../sockets/types/socketRoomContext */ "./src/server/sockets/types/socketRoomContext.ts");
/* harmony import */ var _roomManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../roomManager */ "./src/server/room/roomManager.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





function loadRoom(roomID) {
    return __awaiter(this, void 0, void 0, function () {
        var room, roomRuntimeMemory;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    console.log("RoomManager.loadRoom :: roomID = ".concat(roomID));
                    if (_roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].roomRuntimeMemories[roomID] != undefined)
                        throw new Error("RoomManager.loadRoom :: RoomRuntimeMemory already exists (roomID = ".concat(roomID, ")"));
                    return [4 /*yield*/, _db_roomDB__WEBPACK_IMPORTED_MODULE_2__["default"].getRoomContent(roomID)];
                case 1:
                    room = _a.sent();
                    if (!room)
                        return [2 /*return*/, null];
                    roomRuntimeMemory = new _shared_room_types_roomRuntimeMemory__WEBPACK_IMPORTED_MODULE_1__["default"](room, {}, {});
                    _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].roomRuntimeMemories[roomID] = roomRuntimeMemory;
                    _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].socketRoomContexts[roomID] = new _sockets_types_socketRoomContext__WEBPACK_IMPORTED_MODULE_3__["default"]();
                    _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_0__["default"].load(roomRuntimeMemory);
                    return [2 /*return*/, roomRuntimeMemory];
            }
        });
    });
}
function unloadRoom(roomID) {
    console.log("RoomManager.unloadRoom :: roomID = ".concat(roomID));
    var roomRuntimeMemory = _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].roomRuntimeMemories[roomID];
    if (_roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].roomRuntimeMemories[roomID] == undefined)
        throw new Error("RoomManager.unloadRoom :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ")"));
    if (Object.keys(roomRuntimeMemory.participantUserNames).length > 0)
        throw new Error("RoomManager.unloadRoom :: There are still participants in the room (participants = [".concat(JSON.stringify(roomRuntimeMemory.participantUserNames), "])"));
    delete _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].roomRuntimeMemories[roomID];
    delete _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].socketRoomContexts[roomID];
    _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_0__["default"].unload(roomID);
}


/***/ }),

/***/ "./src/server/room/util/roomObjectUtil.ts":
/*!************************************************!*\
  !*** ./src/server/room/util/roomObjectUtil.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addObject: () => (/* binding */ addObject),
/* harmony export */   removeObject: () => (/* binding */ removeObject)
/* harmony export */ });
/* harmony import */ var _shared_object_maps_objectTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/object/maps/objectTypeConfigMap */ "./src/shared/object/maps/objectTypeConfigMap.ts");
/* harmony import */ var _shared_object_types_objectDespawnParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/object/types/objectDespawnParams */ "./src/shared/object/types/objectDespawnParams.ts");
/* harmony import */ var _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/physics/physicsManager */ "./src/shared/physics/physicsManager.ts");
/* harmony import */ var _roomManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../roomManager */ "./src/server/room/roomManager.ts");




function addObject(socketUserContext, objectRuntimeMemory) {
    var _a;
    var user = socketUserContext.socket.handshake.auth;
    var roomID = _roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].currentRoomIDByUserName[user.userName];
    var objectId = objectRuntimeMemory.objectSpawnParams.objectId;
    console.log("RoomManager.addObject :: roomID = ".concat(roomID, ", userName = ").concat(user.userName, ", objectId = ").concat(objectId));
    if (roomID == undefined) {
        console.error("RoomManager.addObject :: RoomID not found (userName = ".concat(user.userName, ", objectId = ").concat(objectId, ")"));
        return;
    }
    var roomRuntimeMemory = _roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].roomRuntimeMemories[roomID];
    if (roomRuntimeMemory == undefined) {
        console.error("RoomManager.addObject :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
        return;
    }
    if (roomRuntimeMemory.objectRuntimeMemories[objectId] != undefined) {
        console.error("RoomManager.addObject :: ObjectRuntimeMemory already exists (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
        return;
    }
    roomRuntimeMemory.objectRuntimeMemories[objectId] = objectRuntimeMemory;
    var config = _shared_object_maps_objectTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__["default"].getConfigByIndex(objectRuntimeMemory.objectSpawnParams.objectTypeIndex);
    var colliderConfig = (_a = config.components.spawnedByAny) === null || _a === void 0 ? void 0 : _a.collider;
    if (colliderConfig) {
        var halfSizeX = 0.5 * colliderConfig.hitboxSize.sizeX;
        var halfSizeY = 0.5 * colliderConfig.hitboxSize.sizeZ;
        var hitbox = {
            x: objectRuntimeMemory.objectSpawnParams.transform.x,
            y: objectRuntimeMemory.objectSpawnParams.transform.z,
            halfSizeX: halfSizeX,
            halfSizeY: halfSizeY,
        };
        _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_2__["default"].addObject(roomID, objectId, hitbox, colliderConfig.collisionLayerMaskAtGroundLevel);
    }
    var socketRoomContext = _roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].socketRoomContexts[roomID];
    if (!socketRoomContext)
        console.error("RoomManager.addObject :: SocketRoomContext not found (roomID = ".concat(roomID, ")"));
    else
        socketRoomContext.multicastSignal("objectSpawnParams", objectRuntimeMemory.objectSpawnParams, user.userName);
}
function removeObject(socketUserContext, objectId) {
    var _a;
    var user = socketUserContext.socket.handshake.auth;
    var roomID = _roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].currentRoomIDByUserName[user.userName];
    console.log("RoomManager.removeObject :: roomID = ".concat(roomID, ", userName = ").concat(user.userName, ", objectId = ").concat(objectId));
    if (roomID == undefined) {
        console.error("RoomManager.removeObject :: RoomID not found (userName = ".concat(user.userName, ", objectId = ").concat(objectId, ")"));
        return;
    }
    var roomRuntimeMemory = _roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].roomRuntimeMemories[roomID];
    if (roomRuntimeMemory == undefined) {
        console.error("RoomManager.removeObject :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
        return;
    }
    var objectRuntimeMemory = roomRuntimeMemory.objectRuntimeMemories[objectId];
    if (objectRuntimeMemory == undefined) {
        console.error("RoomManager.removeObject :: ObjectRuntimeMemory doesn't exist (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
        return;
    }
    delete roomRuntimeMemory.objectRuntimeMemories[objectId];
    var config = _shared_object_maps_objectTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__["default"].getConfigByIndex(objectRuntimeMemory.objectSpawnParams.objectTypeIndex);
    var colliderConfig = (_a = config.components.spawnedByAny) === null || _a === void 0 ? void 0 : _a.collider;
    if (colliderConfig)
        _shared_physics_physicsManager__WEBPACK_IMPORTED_MODULE_2__["default"].removeObject(roomID, objectId);
    var despawnParams = new _shared_object_types_objectDespawnParams__WEBPACK_IMPORTED_MODULE_1__["default"](objectId);
    var socketRoomContext = _roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].socketRoomContexts[roomID];
    if (!socketRoomContext)
        console.error("RoomManager.removeObject :: SocketRoomContext not found (roomID = ".concat(roomID, ")"));
    else
        socketRoomContext.multicastSignal("objectDespawnParams", despawnParams, user.userName);
}


/***/ }),

/***/ "./src/server/room/util/roomUserUtil.ts":
/*!**********************************************!*\
  !*** ./src/server/room/util/roomUserUtil.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addUserToRoom: () => (/* binding */ addUserToRoom),
/* harmony export */   getIdsOfObjectsSpawnedByUser: () => (/* binding */ getIdsOfObjectsSpawnedByUser),
/* harmony export */   removeUserFromRoom: () => (/* binding */ removeUserFromRoom)
/* harmony export */ });
/* harmony import */ var _shared_object_maps_objectTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/object/maps/objectTypeConfigMap */ "./src/shared/object/maps/objectTypeConfigMap.ts");
/* harmony import */ var _shared_object_types_objectRuntimeMemory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/object/types/objectRuntimeMemory */ "./src/shared/object/types/objectRuntimeMemory.ts");
/* harmony import */ var _shared_object_types_objectSpawnParams__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/object/types/objectSpawnParams */ "./src/shared/object/types/objectSpawnParams.ts");
/* harmony import */ var _shared_object_types_objectTransform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/object/types/objectTransform */ "./src/shared/object/types/objectTransform.ts");
/* harmony import */ var _roomManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../roomManager */ "./src/server/room/roomManager.ts");
/* harmony import */ var _roomObjectUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./roomObjectUtil */ "./src/server/room/util/roomObjectUtil.ts");





//import { unloadRoom } from "./roomCoreUtil";

var lastObjectIdNumber = 0;
function addUserToRoom(socketUserContext, roomRuntimeMemory, userName) {
    var user = socketUserContext.socket.handshake.auth;
    console.log("RoomManager.addUserToRoom :: roomID = ".concat(roomRuntimeMemory.room.roomID, ", userName = ").concat(userName));
    if (roomRuntimeMemory.participantUserNames[userName] != undefined) {
        console.error("RoomManager.addUserToRoom :: User is already registered (roomID = ".concat(roomRuntimeMemory.room.roomID, ", userName = ").concat(userName, ")"));
        return;
    }
    _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].currentRoomIDByUserName[userName] = roomRuntimeMemory.room.roomID;
    roomRuntimeMemory.participantUserNames[userName] = true;
    var socketRoomContext = _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].socketRoomContexts[roomRuntimeMemory.room.roomID];
    if (!socketRoomContext)
        console.error("RoomManager.addUserToRoom :: SocketRoomContext not found (roomID = ".concat(roomRuntimeMemory.room.roomID, ")"));
    else
        socketRoomContext.addSocketUserContext(userName, socketUserContext);
    // Create the user's player object
    (0,_roomObjectUtil__WEBPACK_IMPORTED_MODULE_5__.addObject)(socketUserContext, new _shared_object_types_objectRuntimeMemory__WEBPACK_IMPORTED_MODULE_1__["default"](new _shared_object_types_objectSpawnParams__WEBPACK_IMPORTED_MODULE_2__["default"](user.userName, _shared_object_maps_objectTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__["default"].getIndexByType("Player"), "#".concat(++lastObjectIdNumber), new _shared_object_types_objectTransform__WEBPACK_IMPORTED_MODULE_3__["default"](16, 0, 16, 0, 0, 1), "")));
}
function removeUserFromRoom(socketUserContext, prevRoomShouldExist) {
    var user = socketUserContext.socket.handshake.auth;
    var roomID = _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].currentRoomIDByUserName[user.userName];
    console.log("RoomManager.removeUserFromRoom :: roomID = ".concat(roomID, ", userName = ").concat(user.userName));
    if (roomID == undefined) {
        if (prevRoomShouldExist) // This may happen when the client disconnects before joining the very first room.
            console.warn("RoomManager.removeUserFromRoom :: Previous room not found :: userName = ".concat(user.userName));
        return;
    }
    var roomRuntimeMemory = _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].roomRuntimeMemories[roomID];
    if (roomRuntimeMemory == undefined) {
        console.error("RoomManager.removeUserFromRoom :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ")"));
        return;
    }
    var objectIds = getIdsOfObjectsSpawnedByUser(roomID, user.userName);
    for (var _i = 0, objectIds_1 = objectIds; _i < objectIds_1.length; _i++) {
        var objectId = objectIds_1[_i];
        (0,_roomObjectUtil__WEBPACK_IMPORTED_MODULE_5__.removeObject)(socketUserContext, objectId);
    }
    if (roomRuntimeMemory.participantUserNames[user.userName] == undefined) {
        console.error("RoomManager.removeUserFromRoom :: User is not registered as the room's participant (userName = ".concat(user.userName, ", roomID = ").concat(roomID, ")"));
        return;
    }
    delete _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].currentRoomIDByUserName[user.userName];
    delete roomRuntimeMemory.participantUserNames[user.userName];
    var socketRoomContext = _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].socketRoomContexts[roomID];
    if (!socketRoomContext)
        console.error("RoomManager.removeUserFromRoom :: SocketRoomContext not found (roomID = ".concat(roomID, ")"));
    else
        socketRoomContext.removeSocketUserContext(user.userName);
    // NOTE: For now, don't unload a room even if there's no user left in it.
    //if (Object.keys(roomRuntimeMemory.participantUserNames).length == 0)
    //    unloadRoom(roomID);
}
function getIdsOfObjectsSpawnedByUser(roomID, userName) {
    var roomRuntimeMemory = _roomManager__WEBPACK_IMPORTED_MODULE_4__["default"].roomRuntimeMemories[roomID];
    if (roomRuntimeMemory == undefined) {
        console.error("RoomManager.getIdsOfObjectsSpawnedByUser :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ")"));
        return [];
    }
    var ids = [];
    for (var _i = 0, _a = Object.entries(roomRuntimeMemory.objectRuntimeMemories); _i < _a.length; _i++) {
        var _b = _a[_i], objectId = _b[0], objectRuntimeMemory = _b[1];
        if (objectRuntimeMemory.objectSpawnParams.sourceUserName == userName)
            ids.push(objectId);
    }
    return ids;
}


/***/ }),

/***/ "./src/server/room/util/roomVoxelUtil.ts":
/*!***********************************************!*\
  !*** ./src/server/room/util/roomVoxelUtil.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateVoxelGrid: () => (/* binding */ updateVoxelGrid)
/* harmony export */ });
/* harmony import */ var _shared_system_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _shared_voxel_types_update_updateVoxelGridParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/voxel/types/update/updateVoxelGridParams */ "./src/shared/voxel/types/update/updateVoxelGridParams.ts");
/* harmony import */ var _shared_voxel_util_voxelBlockUpdateUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/voxel/util/voxelBlockUpdateUtil */ "./src/shared/voxel/util/voxelBlockUpdateUtil.ts");
/* harmony import */ var _shared_voxel_util_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/voxel/util/voxelQuadUpdateUtil */ "./src/shared/voxel/util/voxelQuadUpdateUtil.ts");
/* harmony import */ var _shared_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/voxel/util/voxelQueryUtil */ "./src/shared/voxel/util/voxelQueryUtil.ts");
/* harmony import */ var _roomManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../roomManager */ "./src/server/room/roomManager.ts");






function updateVoxelGrid(socketUserContext, params) {
    for (var _i = 0, _a = params.tasks; _i < _a.length; _i++) {
        var task = _a[_i];
        switch (task.type) {
            case _shared_system_constants__WEBPACK_IMPORTED_MODULE_0__.VOXEL_GRID_TASK_TYPE_MOVE:
                moveVoxelBlockTask(socketUserContext, task);
                break;
            case _shared_system_constants__WEBPACK_IMPORTED_MODULE_0__.VOXEL_GRID_TASK_TYPE_ADD:
                addVoxelBlockTask(socketUserContext, task);
                break;
            case _shared_system_constants__WEBPACK_IMPORTED_MODULE_0__.VOXEL_GRID_TASK_TYPE_REMOVE:
                removeVoxelBlockTask(socketUserContext, task);
                break;
            case _shared_system_constants__WEBPACK_IMPORTED_MODULE_0__.VOXEL_GRID_TASK_TYPE_TEX:
                setVoxelQuadTextureTask(socketUserContext, task);
                break;
            /*case VOXEL_GRID_TASK_TYPE_SHRINK_OR_EXPAND:
                shrinkOrExpandVoxelBlockTask(socketUserContext, task as ShrinkOrExpandVoxelBlockParams);
                break;*/
            default:
                console.error("Unknown task type :: ".concat(task.type));
                break;
        }
    }
}
function moveVoxelBlockTask(socketUserContext, params) {
    var room = getRoom(socketUserContext);
    if (!room || !(0,_shared_voxel_util_voxelBlockUpdateUtil__WEBPACK_IMPORTED_MODULE_2__.moveVoxelBlock)(room, params.quadIndex, params.rowOffset, params.colOffset, params.collisionLayerOffset)) {
        console.error("Voxel update failed (moveVoxelBlockTask) - params: ".concat(JSON.stringify(params)));
        return;
    }
    broadcast(socketUserContext, room, params, "moveVoxelBlock");
}
function addVoxelBlockTask(socketUserContext, params) {
    var room = getRoom(socketUserContext);
    if (!room || !(0,_shared_voxel_util_voxelBlockUpdateUtil__WEBPACK_IMPORTED_MODULE_2__.addVoxelBlock)(room, params.quadIndex, /*params.xShrink, params.zShrink,*/ params.quadTextureIndicesWithinLayer)) {
        console.error("Voxel update failed (addVoxelBlockTask) - params: ".concat(JSON.stringify(params)));
        return;
    }
    broadcast(socketUserContext, room, params, "addVoxelBlock");
}
function removeVoxelBlockTask(socketUserContext, params) {
    var room = getRoom(socketUserContext);
    if (!room || !(0,_shared_voxel_util_voxelBlockUpdateUtil__WEBPACK_IMPORTED_MODULE_2__.removeVoxelBlock)(room, params.quadIndex)) {
        console.error("Voxel update failed (removeVoxelBlockTask) - params: ".concat(JSON.stringify(params)));
        return;
    }
    broadcast(socketUserContext, room, params, "removeVoxelBlock");
}
function setVoxelQuadTextureTask(socketUserContext, params) {
    var room = getRoom(socketUserContext);
    if (!room) {
        console.error("Voxel update failed (setVoxelQuadTextureTask) - room not found - params: ".concat(JSON.stringify(params)));
        return;
    }
    var quadIndex = params.quadIndex;
    var row = (0,_shared_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getVoxelRowFromQuadIndex)(quadIndex);
    var col = (0,_shared_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getVoxelColFromQuadIndex)(quadIndex);
    var voxel = (0,_shared_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getVoxel)(room, row, col);
    if (!voxel) {
        console.error("Voxel update failed (setVoxelQuadTextureTask) - voxel not found - params: ".concat(JSON.stringify(params)));
        return;
    }
    var facingAxis = (0,_shared_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getVoxelQuadFacingAxisFromQuadIndex)(quadIndex);
    var orientation = (0,_shared_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getVoxelQuadOrientationFromQuadIndex)(quadIndex);
    var collisionLayer = (0,_shared_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getVoxelQuadCollisionLayerFromQuadIndex)(quadIndex);
    if (!(0,_shared_voxel_util_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_3__.setVoxelQuadVisible)(true, voxel, facingAxis, orientation, collisionLayer, params.textureIndex)) {
        console.error("Voxel update failed (setVoxelQuadTextureTask) - params: ".concat(JSON.stringify(params)));
        return;
    }
    broadcast(socketUserContext, room, params, "setVoxelQuadTexture");
}
/*function shrinkOrExpandVoxelBlockTask(socketUserContext: SocketUserContext, params: ShrinkOrExpandVoxelBlockParams)
{
    const room = getRoom(socketUserContext);
    if (!room || !shrinkOrExpandVoxelBlock(room, params.quadIndex))
    {
        console.error(`Voxel update failed (shrinkOrExpandVoxelBlock) - params: ${JSON.stringify(params)}`);
        return;
    }
    broadcast(socketUserContext, room, params, "shrinkOrExpandVoxelBlock");
}*/
function broadcast(socketUserContext, room, signal, updateType) {
    var user = socketUserContext.socket.handshake.auth;
    var socketRoomContext = _roomManager__WEBPACK_IMPORTED_MODULE_5__["default"].socketRoomContexts[room.roomID];
    if (!socketRoomContext)
        console.error("SocketRoomContext not found (roomID = ".concat(room.roomID, ")"));
    else {
        Object.entries(socketRoomContext.getUserContexts()).forEach(function (kvp) {
            if (user.userName != kvp[0]) // Exclude the broadcast sender from the group of broadcast recipients (in order to prevent an infinite cycle).
             {
                var ctx = kvp[1];
                var success = ctx.tryUpdateLatestPendingSignal("updateVoxelGridParams", function (existingSignal) {
                    var updateVoxelGridParams = existingSignal;
                    updateVoxelGridParams.tasks.push(signal);
                });
                if (!success) {
                    ctx.addPendingSignal("updateVoxelGridParams", new _shared_voxel_types_update_updateVoxelGridParams__WEBPACK_IMPORTED_MODULE_1__["default"]([signal]));
                }
            }
        });
    }
}
function getRoom(socketUserContext) {
    var user = socketUserContext.socket.handshake.auth;
    var roomID = _roomManager__WEBPACK_IMPORTED_MODULE_5__["default"].currentRoomIDByUserName[user.userName];
    if (roomID == undefined) {
        console.error("getRoom :: RoomID not found (userName = ".concat(user.userName, ")"));
        return undefined;
    }
    var roomRuntimeMemory = _roomManager__WEBPACK_IMPORTED_MODULE_5__["default"].roomRuntimeMemories[roomID];
    if (roomRuntimeMemory == undefined) {
        console.error("getRoom :: RoomRuntimeMemory doesn't exist (roomID = ".concat(roomID, ")"));
        return undefined;
    }
    return roomRuntimeMemory.room;
}


/***/ }),

/***/ "./src/server/router/api/userRouter.ts":
/*!*********************************************!*\
  !*** ./src/server/router/api/userRouter.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _user_util_userAuthPasswordUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../user/util/userAuthPasswordUtil */ "./src/server/user/util/userAuthPasswordUtil.ts");
/* harmony import */ var _user_util_userAuthGoogleUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../user/util/userAuthGoogleUtil */ "./src/server/user/util/userAuthGoogleUtil.ts");
/* harmony import */ var _user_util_userTokenUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../user/util/userTokenUtil */ "./src/server/user/util/userTokenUtil.ts");
/* harmony import */ var _networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../networking/util/addressUtil */ "./src/server/networking/util/addressUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var UserRouter = express__WEBPACK_IMPORTED_MODULE_0___default().Router();
// req.body = {userName, password}
UserRouter.post("/register_password", function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, _user_util_userAuthPasswordUtil__WEBPACK_IMPORTED_MODULE_1__["default"].register(req, res)];
            case 1:
                _a.sent();
                if (res.statusCode >= 200 && res.statusCode <= 299)
                    res.end();
                return [2 /*return*/];
        }
    });
}); });
// req.body = {userName, password}
UserRouter.post("/login_password", function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, _user_util_userAuthPasswordUtil__WEBPACK_IMPORTED_MODULE_1__["default"].login(req, res)];
            case 1:
                _a.sent();
                if (res.statusCode >= 200 && res.statusCode <= 299)
                    res.end();
                return [2 /*return*/];
        }
    });
}); });
UserRouter.get("/login_google", function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, _user_util_userAuthGoogleUtil__WEBPACK_IMPORTED_MODULE_2__["default"].login(req, res)];
            case 1:
                _a.sent();
                if (res.statusCode >= 200 && res.statusCode <= 299)
                    res.end();
                return [2 /*return*/];
        }
    });
}); });
UserRouter.get("/login_google_callback", function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, _user_util_userAuthGoogleUtil__WEBPACK_IMPORTED_MODULE_2__["default"].loginCallback(req, res)];
            case 1:
                _a.sent();
                if (res.statusCode >= 200 && res.statusCode <= 299)
                    res.redirect(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getMyPageURL());
                return [2 /*return*/];
        }
    });
}); });
UserRouter.get("/logout", function (req, res) {
    _user_util_userTokenUtil__WEBPACK_IMPORTED_MODULE_3__["default"].clearTokenFromUser(req, res);
    if (res.statusCode >= 200 && res.statusCode <= 299)
        res.end();
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserRouter);


/***/ }),

/***/ "./src/server/router/router.ts":
/*!*************************************!*\
  !*** ./src/server/router/router.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Router)
/* harmony export */ });
/* harmony import */ var _ui_pageRouter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/pageRouter */ "./src/server/router/ui/pageRouter.ts");
/* harmony import */ var _api_userRouter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api/userRouter */ "./src/server/router/api/userRouter.ts");
/* harmony import */ var _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ssg/util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ssg/util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _shared_system_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/system/constants */ "./src/shared/system/constants.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





function Router(app) {
    var _this = this;
    // If you are in dev mode, also emulate the behavior of the static web server.
    if (process.env.MODE == "dev") {
        app.get("/", function (req, res) { return __awaiter(_this, void 0, void 0, function () {
            var staticContent;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_2__["default"].read(req.url + "index.html")];
                    case 1:
                        staticContent = _a.sent();
                        res.status(200).setHeader("content-type", "text/html")
                            .send(_ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_3__["default"].postProcessHTML(staticContent));
                        return [2 /*return*/];
                }
            });
        }); });
        app.get(/.*\.html$/, function (req, res) { return __awaiter(_this, void 0, void 0, function () {
            var staticContent;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_2__["default"].read(req.url)];
                    case 1:
                        staticContent = _a.sent();
                        res.status(200).setHeader("content-type", "text/html")
                            .send(_ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_3__["default"].postProcessHTML(staticContent));
                        return [2 /*return*/];
                }
            });
        }); });
        app.get(/.*\.js$/, function (req, res) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                res.status(200).setHeader("content-type", "text/javascript")
                    .sendFile(_ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_2__["default"].getAbsoluteFilePath(req.url));
                return [2 /*return*/];
            });
        }); });
        app.get(/(.*\.css)|(.*\.jpg)|(.*\.png)|(.*\.ico)|(.*\.atom)|(.*\.xml)|(.*\.pdf)|(.*\.glb)$/, function (req, res) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                res.sendFile(_ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_2__["default"].getAbsoluteFilePath(req.url));
                return [2 /*return*/];
            });
        }); });
    }
    app.use("/".concat(_shared_system_constants__WEBPACK_IMPORTED_MODULE_4__.USER_API_ROUTE_PATH), _api_userRouter__WEBPACK_IMPORTED_MODULE_1__["default"]);
    app.use("/", _ui_pageRouter__WEBPACK_IMPORTED_MODULE_0__["default"]);
}


/***/ }),

/***/ "./src/server/router/ui/pageRouter.ts":
/*!********************************************!*\
  !*** ./src/server/router/ui/pageRouter.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ssg/util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _ssg_data_arcadeData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ssg/data/arcadeData */ "./src/server/ssg/data/arcadeData.ts");
/* harmony import */ var _user_util_userIdentificationUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../user/util/userIdentificationUtil */ "./src/server/user/util/userIdentificationUtil.ts");





dotenv__WEBPACK_IMPORTED_MODULE_2___default().config();
var PageRouter = express__WEBPACK_IMPORTED_MODULE_1___default().Router();
PageRouter.get("/mypage", _user_util_userIdentificationUtil__WEBPACK_IMPORTED_MODULE_4__["default"].identifyAnyUser, function (req, res) {
    _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].render(req, res, "page/dynamic/mypage", {
        loginDestination: "".concat(process.env.URL_DYNAMIC, "/mypage"),
    });
});
if (process.env.MODE == "dev") {
    PageRouter.get("/admin", function (req, res) {
        _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].render(req, res, "page/development/admin", {});
    });
    PageRouter.get("/console", function (req, res) {
        _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].render(req, res, "page/development/console", {});
    });
    PageRouter.get("/test-ui", function (req, res) {
        _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].render(req, res, "page/development/test_ui", {
            gameEntries: _ssg_data_arcadeData__WEBPACK_IMPORTED_MODULE_3__.ArcadeData.gameEntries
        });
    });
    PageRouter.get("/tailwind_test", function (req, res) {
        _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].render(req, res, "page/development/tailwind_test", {
            loginDestination: "".concat(process.env.URL_DYNAMIC, "/tailwind_test"),
        });
    });
}
else {
    PageRouter.get("/admin", _user_util_userIdentificationUtil__WEBPACK_IMPORTED_MODULE_4__["default"].identifyAdmin, function (req, res) {
        _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].render(req, res, "page/development/admin", {});
    });
    PageRouter.get("/console", _user_util_userIdentificationUtil__WEBPACK_IMPORTED_MODULE_4__["default"].identifyAdmin, function (req, res) {
        _ssg_util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].render(req, res, "page/development/console", {});
    });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PageRouter);


/***/ }),

/***/ "./src/server/sockets/consoleSockets.ts":
/*!**********************************************!*\
  !*** ./src/server/sockets/consoleSockets.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");

var nsp;
var col1 = "<td style=\"color: #e0e020; background-color: #202090;\">";
var col2 = "<td style=\"color: #20e020; background-color: #101010;\">";
var col3 = "<td style=\"color: #303030; background-color: #c0c0c0;\">";
var end = "</td>";
var row = function (txt1, txt2, txt3) {
    return "".concat(col1).concat(txt1).concat(end).concat(col2).concat(txt2).concat(end).concat(col3).concat(txt3).concat(end);
};
var ConsoleSockets = {
    init: function (io, authMiddleware) {
        nsp = io.of("/console_sockets");
        nsp.use(authMiddleware);
        nsp.on("connection", function (socket) {
            console.log("(ConsoleSockets) Client connected :: ".concat(JSON.stringify(socket.handshake.auth)));
            socket.on("command", function (command) {
                console.log("(ConsoleSockets) Command received :: [".concat(command, "] - sent by :: ").concat(JSON.stringify(socket.handshake.auth.user)));
                var words = command.split(" ");
                switch (words[0]) {
                    case "print":
                        words.shift();
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw((words.length == 0) ? "-" : words.join(" "), "high");
                        break;
                    case "reboot":
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw("Rebooting...", "high");
                        process.exit(0);
                        break;
                    default:
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw("Unknown command \"".concat(words[0], "\"."), "high", "pink");
                        break;
                }
            });
            socket.on("disconnect", function () {
                console.log("(ConsoleSockets) Client disconnected :: ".concat(JSON.stringify(socket.handshake.auth)));
            });
        });
    },
    log: function (message, origin, details) {
        if (nsp)
            nsp.emit("log", row(message, origin, details));
        else
            console.log("".concat(message, " (ORIGIN: ").concat(origin, ") (DETAILS: ").concat(details, ")"));
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ConsoleSockets);


/***/ }),

/***/ "./src/server/sockets/gameSockets.ts":
/*!*******************************************!*\
  !*** ./src/server/sockets/gameSockets.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _shared_object_types_objectMessageParams__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/object/types/objectMessageParams */ "./src/shared/object/types/objectMessageParams.ts");
/* harmony import */ var _shared_object_types_objectSyncParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/object/types/objectSyncParams */ "./src/shared/object/types/objectSyncParams.ts");
/* harmony import */ var _shared_room_types_roomChangeRequestParams__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/room/types/roomChangeRequestParams */ "./src/shared/room/types/roomChangeRequestParams.ts");
/* harmony import */ var _room_roomManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../room/roomManager */ "./src/server/room/roomManager.ts");
/* harmony import */ var _types_socketUserContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types/socketUserContext */ "./src/server/sockets/types/socketUserContext.ts");
/* harmony import */ var _shared_networking_types_bufferState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/networking/types/bufferState */ "./src/shared/networking/types/bufferState.ts");
/* harmony import */ var _shared_voxel_types_update_updateVoxelGridParams__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shared/voxel/types/update/updateVoxelGridParams */ "./src/shared/voxel/types/update/updateVoxelGridParams.ts");
/* harmony import */ var _shared_system_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shared/system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _db_searchDB__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../db/searchDB */ "./src/server/db/searchDB.ts");
/* harmony import */ var _shared_room_types_roomType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shared/room/types/roomType */ "./src/shared/room/types/roomType.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var nsp;
var signalProcessingInterval;
var socketUserContexts = {};
var GameSockets = {
    init: function (io, authMiddleware) {
        nsp = io.of("/game_sockets");
        nsp.use(authMiddleware);
        nsp.on("connection", function (socket) { return __awaiter(void 0, void 0, void 0, function () {
            var socketUserContext, user, roomSearchResult, roomID;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        socketUserContext = new _types_socketUserContext__WEBPACK_IMPORTED_MODULE_4__["default"](socket);
                        user = socket.handshake.auth;
                        console.log("(GameSockets) Client connected :: ".concat(JSON.stringify(user)));
                        if (socketUserContexts[user.userName] != undefined) {
                            console.error("SocketUserContext with userName already exists (userName = ".concat(user.userName, ")"));
                            return [2 /*return*/];
                        }
                        socketUserContexts[user.userName] = socketUserContext;
                        socket.on("objectSync", function (buffer) {
                            var bufferState = new _shared_networking_types_bufferState__WEBPACK_IMPORTED_MODULE_5__["default"](new Uint8Array(buffer));
                            var params = _shared_object_types_objectSyncParams__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState);
                            _room_roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].updateObjectTransform(socketUserContext, params.objectId, params.transform);
                        });
                        socket.on("objectMessage", function (buffer) {
                            var bufferState = new _shared_networking_types_bufferState__WEBPACK_IMPORTED_MODULE_5__["default"](new Uint8Array(buffer));
                            var params = _shared_object_types_objectMessageParams__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState);
                            _room_roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].sendObjectMessage(socketUserContext, params);
                        });
                        socket.on("updateVoxelGrid", function (buffer) {
                            var bufferState = new _shared_networking_types_bufferState__WEBPACK_IMPORTED_MODULE_5__["default"](new Uint8Array(buffer));
                            var params = _shared_voxel_types_update_updateVoxelGridParams__WEBPACK_IMPORTED_MODULE_6__["default"].decode(bufferState);
                            _room_roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].updateVoxelGrid(socketUserContext, params);
                        });
                        socket.on("roomChangeRequest", function (buffer) { return __awaiter(void 0, void 0, void 0, function () {
                            var bufferState, params;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        bufferState = new _shared_networking_types_bufferState__WEBPACK_IMPORTED_MODULE_5__["default"](new Uint8Array(buffer));
                                        params = _shared_room_types_roomChangeRequestParams__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState);
                                        return [4 /*yield*/, _room_roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].changeUserRoom(socketUserContext, params.roomID, true)];
                                    case 1:
                                        _a.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                        socket.on("disconnect", function () { return __awaiter(void 0, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        console.log("(GameSockets) Client disconnected :: ".concat(JSON.stringify(user)));
                                        if (socketUserContexts[user.userName] == undefined) {
                                            console.error("SocketUserContext with userName doesn't exist (userName = ".concat(user.userName, ")"));
                                            return [2 /*return*/];
                                        }
                                        delete socketUserContexts[user.userName];
                                        return [4 /*yield*/, _room_roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].changeUserRoom(socketUserContext, undefined, false)];
                                    case 1:
                                        _a.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                        return [4 /*yield*/, _db_searchDB__WEBPACK_IMPORTED_MODULE_8__["default"].rooms.withRoomType(_shared_room_types_roomType__WEBPACK_IMPORTED_MODULE_9__.RoomTypeEnumMap.Hub)];
                    case 1:
                        roomSearchResult = _a.sent();
                        if (!(roomSearchResult.success && roomSearchResult.data.length > 0)) return [3 /*break*/, 3];
                        roomID = roomSearchResult.data[0].roomID;
                        return [4 /*yield*/, _room_roomManager__WEBPACK_IMPORTED_MODULE_3__["default"].changeUserRoom(socketUserContext, roomID, false)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        }); });
        signalProcessingInterval = setInterval(function () {
            for (var _i = 0, _a = Object.values(socketUserContexts); _i < _a.length; _i++) {
                var socketUserContext = _a[_i];
                socketUserContext.processAllPendingSignals();
            }
        }, _shared_system_constants__WEBPACK_IMPORTED_MODULE_7__.SIGNAL_BATCH_SEND_INTERVAL);
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameSockets);


/***/ }),

/***/ "./src/server/sockets/sockets.ts":
/*!***************************************!*\
  !*** ./src/server/sockets/sockets.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Sockets)
/* harmony export */ });
/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io */ "socket.io");
/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(socket_io__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _consoleSockets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./consoleSockets */ "./src/server/sockets/consoleSockets.ts");
/* harmony import */ var _gameSockets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gameSockets */ "./src/server/sockets/gameSockets.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../networking/util/addressUtil */ "./src/server/networking/util/addressUtil.ts");
/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cookie */ "cookie");
/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shared/user/types/userType */ "./src/shared/user/types/userType.ts");
/* harmony import */ var _user_util_userTokenUtil__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../user/util/userTokenUtil */ "./src/server/user/util/userTokenUtil.ts");
/* harmony import */ var _networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../networking/util/cookieUtil */ "./src/server/networking/util/cookieUtil.ts");









dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var connectedUserNames = new Set();
function Sockets(server) {
    var io = new (socket_io__WEBPACK_IMPORTED_MODULE_0___default().Server)(server);
    _consoleSockets__WEBPACK_IMPORTED_MODULE_1__["default"].init(io, (process.env.MODE == "dev")
        ? function (_, next) { return next(); } // Don't authenticate in dev mode
        : makeAuthMiddleware(function (user) { return user.userType == _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_6__.UserTypeEnumMap.Admin; }));
    _gameSockets__WEBPACK_IMPORTED_MODULE_2__["default"].init(io, makeAuthMiddleware(function (user) { return true; }));
}
function makeAuthMiddleware(passCondition) {
    return function (socket, next) {
        var cookieStr = socket.request.headers.cookie;
        console.log("Authenticating socket (ID: ".concat(socket.id, ")"));
        if (!cookieStr) {
            next(new Error(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getErrorPageURL("auth-failure")));
            return;
        }
        var cookieMap = cookie__WEBPACK_IMPORTED_MODULE_5__.parse(cookieStr);
        var token = cookieMap[_networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_8__["default"].getAuthTokenName()];
        if (!token) {
            next(new Error(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getErrorPageURL("auth-failure")));
            return;
        }
        var user = _user_util_userTokenUtil__WEBPACK_IMPORTED_MODULE_7__["default"].getUserFromToken(token);
        if (!user) {
            next(new Error(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getErrorPageURL("auth-failure")));
            return;
        }
        if (connectedUserNames.has(user.userName)) {
            next(new Error(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getErrorPageURL("auth-duplication")));
            return;
        }
        if (!passCondition(user)) {
            next(new Error(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getErrorPageURL("auth-no-permission")));
            return;
        }
        connectedUserNames.add(user.userName);
        socket.on("disconnect", function () {
            if (!connectedUserNames.has(user.userName)) {
                console.error("User \"".concat(user.userName, "\" is already disconnected."));
                return;
            }
            connectedUserNames.delete(user.userName);
        });
        socket.handshake.auth = user;
        next();
    };
}


/***/ }),

/***/ "./src/server/sockets/types/socketRoomContext.ts":
/*!*******************************************************!*\
  !*** ./src/server/sockets/types/socketRoomContext.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var SocketRoomContext = /** @class */ (function () {
    function SocketRoomContext() {
        this.socketUserContexts = {};
    }
    SocketRoomContext.prototype.getUserContexts = function () {
        return this.socketUserContexts;
    };
    SocketRoomContext.prototype.multicastSignal = function (signalType, signalData, userNameToExclude) {
        if (userNameToExclude === void 0) { userNameToExclude = undefined; }
        for (var _i = 0, _a = Object.entries(this.socketUserContexts); _i < _a.length; _i++) {
            var _b = _a[_i], userName = _b[0], socketUserContext = _b[1];
            if (userName != userNameToExclude)
                socketUserContext.addPendingSignal(signalType, signalData);
        }
    };
    SocketRoomContext.prototype.unicastSignal = function (signalType, signalData, targetUserName) {
        var socketUserContext = this.socketUserContexts[targetUserName];
        if (socketUserContext == undefined) {
            console.error("SocketUserContext not found (targetUserName = ".concat(targetUserName, ")"));
            return;
        }
        socketUserContext.addPendingSignal(signalType, signalData);
    };
    SocketRoomContext.prototype.addSocketUserContext = function (userName, socketUserContext) {
        if (this.socketUserContexts[userName] != undefined) {
            console.error("SocketUserContext already exists (userName = ".concat(userName, ")"));
            return;
        }
        this.socketUserContexts[userName] = socketUserContext;
    };
    SocketRoomContext.prototype.removeSocketUserContext = function (userName) {
        if (this.socketUserContexts[userName] == undefined) {
            console.error("SocketUserContext doesn't exist (userName = ".concat(userName, ")"));
            return;
        }
        delete this.socketUserContexts[userName];
    };
    return SocketRoomContext;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocketRoomContext);


/***/ }),

/***/ "./src/server/sockets/types/socketUserContext.ts":
/*!*******************************************************!*\
  !*** ./src/server/sockets/types/socketUserContext.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _shared_networking_maps_signalTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/networking/maps/signalTypeConfigMap */ "./src/shared/networking/maps/signalTypeConfigMap.ts");
/* harmony import */ var _shared_networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/networking/types/encodableArray */ "./src/shared/networking/types/encodableArray.ts");
/* harmony import */ var _shared_networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
/* harmony import */ var _shared_networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/networking/util/encodingUtil */ "./src/shared/networking/util/encodingUtil.ts");




var SocketUserContext = /** @class */ (function () {
    function SocketUserContext(socket) {
        this.socket = socket;
        this.pendingSignalsByTypeIndex = new Array(_shared_networking_maps_signalTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__["default"].getMaxIndex() + 1);
    }
    SocketUserContext.prototype.addPendingSignal = function (signalType, signalData) {
        var typeIndex = _shared_networking_maps_signalTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__["default"].getIndexByType(signalType);
        if (typeIndex == undefined) {
            console.error("Failed to add the incoming signal. The signal's type is unknown (signalType = ".concat(signalType, ")"));
            return;
        }
        var pendingSignals = this.pendingSignalsByTypeIndex[typeIndex];
        if (pendingSignals == undefined) {
            pendingSignals = [];
            this.pendingSignalsByTypeIndex[typeIndex] = pendingSignals;
        }
        pendingSignals.push(signalData);
    };
    SocketUserContext.prototype.tryUpdateLatestPendingSignal = function (signalType, signalDataUpdateMethod) {
        var typeIndex = _shared_networking_maps_signalTypeConfigMap__WEBPACK_IMPORTED_MODULE_0__["default"].getIndexByType(signalType);
        if (typeIndex == undefined) {
            console.error("Failed to add the incoming signal. The signal's type is unknown (signalType = ".concat(signalType, ")"));
            return false;
        }
        var pendingSignals = this.pendingSignalsByTypeIndex[typeIndex];
        if (pendingSignals == undefined)
            return false;
        var lastIndex = pendingSignals.length - 1;
        if (lastIndex < 0)
            return false;
        signalDataUpdateMethod(pendingSignals[lastIndex]);
        return true;
    };
    SocketUserContext.prototype.processAllPendingSignals = function () {
        var bufferState = _shared_networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_3__["default"].startEncoding();
        for (var typeIndex = 0; typeIndex < this.pendingSignalsByTypeIndex.length; ++typeIndex) {
            var pendingSignals = this.pendingSignalsByTypeIndex[typeIndex];
            if (pendingSignals && pendingSignals.length > 0) {
                //console.log(`preparing to send signal of type [${SignalTypeConfigMap.getConfigByIndex(typeIndex).signalType}] - length = ${pendingSignals.length}`);
                new _shared_networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_2__["default"](typeIndex).encode(bufferState);
                new _shared_networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_1__["default"](pendingSignals, 65535).encode(bufferState);
                pendingSignals.length = 0;
            }
        }
        var subBuffer = _shared_networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_3__["default"].endEncoding(bufferState);
        if (bufferState.byteIndex > 0) {
            //console.log(`signalBatch sent :: ${bufferState.byteIndex}`);
            this.socket.emit("signalBatch", subBuffer);
        }
    };
    return SocketUserContext;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocketUserContext);


/***/ }),

/***/ "./src/server/ssg/builder/atomFeedBuilder.ts":
/*!***************************************************!*\
  !*** ./src/server/ssg/builder/atomFeedBuilder.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ssg/util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var AtomFeedBuilder = /** @class */ (function () {
    function AtomFeedBuilder() {
        this.lines = ["</feed>"];
        this.globalLatestUpdate = new Date(process.env.GLOBAL_LAST_MOD);
    }
    AtomFeedBuilder.prototype.addEntry = function (url, title, lastmod, description) {
        var date = new Date(lastmod);
        if (date > this.globalLatestUpdate)
            this.globalLatestUpdate = date;
        this.lines.push("</entry>");
        this.lines.push("  <summary>".concat(description, "</summary>"));
        this.lines.push("  <updated>".concat(date.toISOString(), "</updated>"));
        this.lines.push("  <id>".concat(url, "</id>")); // not ideal to use the url as unique never changing id but there is no other id for each article.
        this.lines.push("  <link href=\"".concat(url, "\"/>"));
        this.lines.push("  <title>".concat(title, "</title>"));
        this.lines.push("<entry>");
    };
    AtomFeedBuilder.prototype.build = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.lines.push("<id>urn:uuid:02210672-5391-4cc8-800a-2a88f3a6d00c</id>"); // uuid randomly generated
                        this.lines.push("</author>");
                        this.lines.push("  <name>Youngjin Kang</name>");
                        this.lines.push("<author>");
                        this.lines.push("<updated>".concat(this.globalLatestUpdate.toISOString(), "</updated>"));
                        this.lines.push("<link href=\"".concat(process.env.URL_STATIC, "\"/>"));
                        this.lines.push("<link rel=\"self\" type=\"application/atom+xml\" href=\"".concat(process.env.URL_STATIC, "/feed.atom\"/>"));
                        this.lines.push("<title>ThingsPool</title>");
                        this.lines.push("<feed xmlns=\"http://www.w3.org/2005/Atom\">");
                        this.lines.push("<?xml version=\"1.0\" encoding=\"utf-8\"?>");
                        this.lines.reverse();
                        return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].write("feed.atom", this.lines.join("\n"))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return AtomFeedBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AtomFeedBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/embeddedScriptBuilder.ts":
/*!*********************************************************!*\
  !*** ./src/server/ssg/builder/embeddedScriptBuilder.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ssg/util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var EmbeddedScriptBuilder = /** @class */ (function () {
    function EmbeddedScriptBuilder() {
    }
    EmbeddedScriptBuilder.prototype.build = function (sourceDir, targetDir) {
        return __awaiter(this, void 0, void 0, function () {
            var relativeFilePaths, _i, relativeFilePaths_1, relativeFilePath, sourceCode;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (sourceDir == undefined)
                            sourceDir = "".concat(process.env.SRC_ROOT_DIR, "/shared/embeddedScripts");
                        if (targetDir == undefined)
                            targetDir = "".concat(process.env.VIEWS_ROOT_DIR, "/partial/embeddedScript");
                        return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].getAllRelativePathsInDirRecursively(sourceDir)];
                    case 1:
                        relativeFilePaths = _a.sent();
                        relativeFilePaths = relativeFilePaths.filter(function (x) { return x.endsWith(".js"); });
                        _i = 0, relativeFilePaths_1 = relativeFilePaths;
                        _a.label = 2;
                    case 2:
                        if (!(_i < relativeFilePaths_1.length)) return [3 /*break*/, 6];
                        relativeFilePath = relativeFilePaths_1[_i];
                        return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].read(relativeFilePath, sourceDir)];
                    case 3:
                        sourceCode = (_a.sent())
                            .split("\n")
                            .filter(function (line) { return !line.startsWith("export "); }) // Remove 'export' statements.
                            .join("\n").trim();
                        return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].write(relativeFilePath.replace(".js", ".ejs"), "\n<%_ if (!locals.globalDictionary[\"script_included_(".concat(relativeFilePath, ")\"]) { _%>\n<!-- NOTE: This EJS partial is auto-generated by 'embeddedScriptBuilder.ts' -->\n<%_ locals.globalDictionary[\"script_included_(").concat(relativeFilePath, ")\"] = true; _%>\n<script>\n").concat(sourceCode, "\n</script>\n<%_ } _%>\n").trim(), targetDir)];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5:
                        _i++;
                        return [3 /*break*/, 2];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    return EmbeddedScriptBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EmbeddedScriptBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/page/arcadeGamePageBuilder.ts":
/*!**************************************************************!*\
  !*** ./src/server/ssg/builder/page/arcadeGamePageBuilder.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_fileUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _textFileBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../textFileBuilder */ "./src/server/ssg/builder/textFileBuilder.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var ArcadeGamePageBuilder = /** @class */ (function () {
    function ArcadeGamePageBuilder(sitemapBuilder, atomFeedBuilder) {
        this.sitemapBuilder = sitemapBuilder;
        this.atomFeedBuilder = atomFeedBuilder;
    }
    ArcadeGamePageBuilder.prototype.build = function (entry) {
        return __awaiter(this, void 0, void 0, function () {
            var relativeURL, rawText, lines, playLinkImagePath, description, keywords, contentLines, imageIndex, paragraphLinesPending, endParagraph, i, line, paragraphTitle, imgName, imgPath, builder, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        relativeURL = "".concat(entry.dirName, "/page.html");
                        return [4 /*yield*/, _util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].read("".concat(entry.dirName, "/source.txt"))];
                    case 1:
                        rawText = _c.sent();
                        lines = rawText.split(/\r?\n/);
                        playLinkImagePath = (entry.playLinkImagePathOverride == undefined) ? "play.png" : entry.playLinkImagePathOverride;
                        description = "";
                        keywords = "";
                        if (lines[0].startsWith(":d:"))
                            description = lines[0].substring(3);
                        else
                            console.error(":d: is missing in -> " + entry.title);
                        if (lines[1].startsWith(":k:"))
                            keywords = lines[1].substring(3).toLowerCase().replaceAll("-", " ");
                        else
                            console.error(":k: is missing in -> " + entry.title);
                        contentLines = [];
                        imageIndex = 1;
                        paragraphLinesPending = [];
                        endParagraph = function () {
                            if (paragraphLinesPending.length > 0) {
                                contentLines.push("<p>".concat(paragraphLinesPending.join("<br>"), "</p>"));
                                paragraphLinesPending.length = 0;
                            }
                        };
                        for (i = 2; i < lines.length; ++i) {
                            line = lines[i];
                            line = line.trim();
                            if (line.length == 0) // empty line
                             {
                                endParagraph();
                            }
                            else if (line.startsWith("[")) // Paragraph Title
                             {
                                endParagraph();
                                paragraphTitle = line.match(/\[(.*?)\]/)[1].trim();
                                if (paragraphTitle.length > 0) {
                                    contentLines.push("<h2>".concat(paragraphTitle, "</h2>"));
                                }
                            }
                            else if (line.startsWith("<")) // image reference
                             {
                                endParagraph();
                                imgName = line.match(/<(.*?)>/)[1];
                                if (imgName.length > 0) {
                                    imgPath = "".concat(process.env.URL_STATIC, "/").concat(entry.dirName, "/").concat(imgName, ".jpg");
                                    contentLines.push("<img class=\"l_image\" src=\"".concat(imgPath, "\" alt=\"ThingsPool - ").concat(entry.title, " (Screenshot ").concat(imageIndex++, ")\">"));
                                }
                            }
                            else // plain text
                             {
                                line = line.replaceAll("<", "&lt;").replaceAll(">", "&gt;").replaceAll("{%", "<").replaceAll("%}", ">");
                                paragraphLinesPending.push(line);
                            }
                        }
                        endParagraph();
                        if (entry.videoTag != null && entry.videoTag != undefined) {
                            contentLines.push(entry.videoTag);
                        }
                        builder = new _textFileBuilder__WEBPACK_IMPORTED_MODULE_2__["default"]();
                        _b = (_a = builder).addLine;
                        return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].createStaticHTMLFromEJS("page/static/arcadeGame.ejs", {
                                entry: entry,
                                relativeURL: relativeURL,
                                description: description,
                                keywords: keywords,
                                playLinkImagePath: playLinkImagePath,
                                content: contentLines.join("\n")
                            })];
                    case 2:
                        _b.apply(_a, [_c.sent()]);
                        this.sitemapBuilder.addEntry(relativeURL, entry.lastmod);
                        this.atomFeedBuilder.addEntry("".concat(process.env.URL_STATIC, "/").concat(relativeURL), entry.title, entry.lastmod, entry.title);
                        return [4 /*yield*/, builder.build(relativeURL)];
                    case 3:
                        _c.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ;
    return ArcadeGamePageBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ArcadeGamePageBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/page/arcadePageBuilder.ts":
/*!**********************************************************!*\
  !*** ./src/server/ssg/builder/page/arcadePageBuilder.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _textFileBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../textFileBuilder */ "./src/server/ssg/builder/textFileBuilder.ts");
/* harmony import */ var _arcadeGamePageBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./arcadeGamePageBuilder */ "./src/server/ssg/builder/page/arcadeGamePageBuilder.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _data_arcadeData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../data/arcadeData */ "./src/server/ssg/data/arcadeData.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var ArcadePageBuilder = /** @class */ (function () {
    function ArcadePageBuilder(sitemapBuilder, atomFeedBuilder) {
        this.sitemapBuilder = sitemapBuilder;
        this.atomFeedBuilder = atomFeedBuilder;
    }
    ArcadePageBuilder.prototype.build = function () {
        return __awaiter(this, void 0, void 0, function () {
            var builder, _a, _b, _i, _c, entry;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        builder = new _textFileBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]();
                        _b = (_a = builder).addLine;
                        return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].createStaticHTMLFromEJS("page/static/arcade.ejs", {
                                entries: _data_arcadeData__WEBPACK_IMPORTED_MODULE_4__.ArcadeData.gameEntries,
                            })];
                    case 1:
                        _b.apply(_a, [_d.sent()]);
                        return [4 /*yield*/, builder.build("arcade.html")];
                    case 2:
                        _d.sent();
                        this.sitemapBuilder.addEntry("arcade.html", "2025-02-28");
                        _i = 0, _c = _data_arcadeData__WEBPACK_IMPORTED_MODULE_4__.ArcadeData.gameEntries;
                        _d.label = 3;
                    case 3:
                        if (!(_i < _c.length)) return [3 /*break*/, 6];
                        entry = _c[_i];
                        return [4 /*yield*/, new _arcadeGamePageBuilder__WEBPACK_IMPORTED_MODULE_2__["default"](this.sitemapBuilder, this.atomFeedBuilder).build(entry)];
                    case 4:
                        _d.sent();
                        _d.label = 5;
                    case 5:
                        _i++;
                        return [3 /*break*/, 3];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    return ArcadePageBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ArcadePageBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/page/errorPageBuilder.ts":
/*!*********************************************************!*\
  !*** ./src/server/ssg/builder/page/errorPageBuilder.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _util_fileUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var _textFileBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../textFileBuilder */ "./src/server/ssg/builder/textFileBuilder.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var ErrorPageBuilder = /** @class */ (function () {
    function ErrorPageBuilder() {
    }
    ErrorPageBuilder.prototype.build = function (sourceDir, targetDir) {
        return __awaiter(this, void 0, void 0, function () {
            var relativeFilePaths, _i, relativeFilePaths_1, relativeFilePath, builder, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (sourceDir == undefined)
                            sourceDir = "".concat(process.env.VIEWS_ROOT_DIR, "/page/static/error");
                        if (targetDir == undefined)
                            targetDir = "".concat(process.env.STATIC_PAGE_ROOT_DIR, "/error");
                        return [4 /*yield*/, _util_fileUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getAllRelativePathsInDirRecursively(sourceDir)];
                    case 1:
                        relativeFilePaths = _c.sent();
                        relativeFilePaths = relativeFilePaths.filter(function (x) { return x.endsWith(".ejs"); });
                        _i = 0, relativeFilePaths_1 = relativeFilePaths;
                        _c.label = 2;
                    case 2:
                        if (!(_i < relativeFilePaths_1.length)) return [3 /*break*/, 6];
                        relativeFilePath = relativeFilePaths_1[_i];
                        builder = new _textFileBuilder__WEBPACK_IMPORTED_MODULE_2__["default"]();
                        _b = (_a = builder).addLine;
                        return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].createStaticHTMLFromEJS("/page/static/error/" + relativeFilePath, {})];
                    case 3:
                        _b.apply(_a, [_c.sent()]);
                        return [4 /*yield*/, builder.build(relativeFilePath.replace(".ejs", ".html"), targetDir)];
                    case 4:
                        _c.sent();
                        _c.label = 5;
                    case 5:
                        _i++;
                        return [3 /*break*/, 2];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    return ErrorPageBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorPageBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/page/libraryPageBuilder.ts":
/*!***********************************************************!*\
  !*** ./src/server/ssg/builder/page/libraryPageBuilder.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _textFileBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../textFileBuilder */ "./src/server/ssg/builder/textFileBuilder.ts");
/* harmony import */ var _libraryPostListPageBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./libraryPostListPageBuilder */ "./src/server/ssg/builder/page/libraryPostListPageBuilder.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _data_libraryData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../data/libraryData */ "./src/server/ssg/data/libraryData.ts");
/* harmony import */ var _data_arcadeData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/arcadeData */ "./src/server/ssg/data/arcadeData.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var LibraryPageBuilder = /** @class */ (function () {
    function LibraryPageBuilder(sitemapBuilder, atomFeedBuilder) {
        this.sitemapBuilder = sitemapBuilder;
        this.atomFeedBuilder = atomFeedBuilder;
    }
    LibraryPageBuilder.prototype.build = function () {
        return __awaiter(this, void 0, void 0, function () {
            var builder, _a, _b, _i, _c, _d, category, entries;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        builder = new _textFileBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]();
                        _b = (_a = builder).addLine;
                        return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].createStaticHTMLFromEJS("page/static/library.ejs", {
                                entriesByCategory: _data_libraryData__WEBPACK_IMPORTED_MODULE_4__.LibraryData.entriesByCategory,
                                gameEntries: _data_arcadeData__WEBPACK_IMPORTED_MODULE_5__.ArcadeData.gameEntries,
                            })];
                    case 1:
                        _b.apply(_a, [_e.sent()]);
                        return [4 /*yield*/, builder.build("library.html")];
                    case 2:
                        _e.sent();
                        this.sitemapBuilder.addEntry("library.html", "2025-02-28");
                        _i = 0, _c = Object.entries(_data_libraryData__WEBPACK_IMPORTED_MODULE_4__.LibraryData.entriesByCategory);
                        _e.label = 3;
                    case 3:
                        if (!(_i < _c.length)) return [3 /*break*/, 6];
                        _d = _c[_i], category = _d[0], entries = _d[1];
                        return [4 /*yield*/, new _libraryPostListPageBuilder__WEBPACK_IMPORTED_MODULE_2__["default"](this.sitemapBuilder, this.atomFeedBuilder).build(category, entries)];
                    case 4:
                        _e.sent();
                        _e.label = 5;
                    case 5:
                        _i++;
                        return [3 /*break*/, 3];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    return LibraryPageBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LibraryPageBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/page/libraryPostListPageBuilder.ts":
/*!*******************************************************************!*\
  !*** ./src/server/ssg/builder/page/libraryPostListPageBuilder.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _textFileBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../textFileBuilder */ "./src/server/ssg/builder/textFileBuilder.ts");
/* harmony import */ var _libraryPostPageBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./libraryPostPageBuilder */ "./src/server/ssg/builder/page/libraryPostPageBuilder.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var LibraryPostListPageBuilder = /** @class */ (function () {
    function LibraryPostListPageBuilder(sitemapBuilder, atomFeedBuilder) {
        this.sitemapBuilder = sitemapBuilder;
        this.atomFeedBuilder = atomFeedBuilder;
    }
    LibraryPostListPageBuilder.prototype.build = function (category, entries) {
        return __awaiter(this, void 0, void 0, function () {
            var i, entry, postInfoList, listRelativeURL, builder, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        i = 0;
                        _c.label = 1;
                    case 1:
                        if (!(i < entries.length)) return [3 /*break*/, 6];
                        entry = entries[i];
                        return [4 /*yield*/, new _libraryPostPageBuilder__WEBPACK_IMPORTED_MODULE_2__["default"](this.sitemapBuilder, this.atomFeedBuilder).build(entry)];
                    case 2:
                        postInfoList = _c.sent();
                        listRelativeURL = "".concat(entry.dirName, "/list.html");
                        builder = new _textFileBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]();
                        _b = (_a = builder).addLine;
                        return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_0__["default"].createStaticHTMLFromEJS("page/static/libraryPostList.ejs", {
                                entry: entry,
                                listRelativeURL: listRelativeURL,
                                postInfoList: postInfoList
                            })];
                    case 3:
                        _b.apply(_a, [_c.sent()]);
                        return [4 /*yield*/, builder.build("".concat(entry.dirName, "/list.html"))];
                    case 4:
                        _c.sent();
                        this.sitemapBuilder.addEntry("".concat(entry.dirName, "/list.html"), postInfoList
                            .sort(function (info1, info2) { return Date.parse(info2.lastmod) - Date.parse(info1.lastmod); })
                            .pop().lastmod);
                        _c.label = 5;
                    case 5:
                        ++i;
                        return [3 /*break*/, 1];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    ;
    return LibraryPostListPageBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LibraryPostListPageBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/page/libraryPostPageBuilder.ts":
/*!***************************************************************!*\
  !*** ./src/server/ssg/builder/page/libraryPostPageBuilder.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_fileUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _textFileBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../textFileBuilder */ "./src/server/ssg/builder/textFileBuilder.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var LibraryPostPageBuilder = /** @class */ (function () {
    function LibraryPostPageBuilder(sitemapBuilder, atomFeedBuilder) {
        this.sitemapBuilder = sitemapBuilder;
        this.atomFeedBuilder = atomFeedBuilder;
    }
    LibraryPostPageBuilder.prototype.build = function (entry) {
        return __awaiter(this, void 0, void 0, function () {
            var isFirstArticle, title, pageNumber, imageNumber, customOGImagePath, snippetOn, excerptOn, paragraphLinesPending, postInfoList, contentLines, desc, keywords, lastmod, prev_title, prev_desc, prev_keywords, prev_lastmod, endParagraph, buildPostPage, rawText, lines, i, line, date, imgName, imgPath;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        isFirstArticle = true;
                        title = "???";
                        pageNumber = 1;
                        imageNumber = 1;
                        customOGImagePath = undefined;
                        snippetOn = false;
                        excerptOn = false;
                        paragraphLinesPending = [];
                        postInfoList = [];
                        contentLines = [];
                        desc = "A writing by ThingsPool.";
                        keywords = "thingspool, software, engineering, philosophy";
                        lastmod = process.env.GLOBAL_LAST_MOD;
                        prev_title = title;
                        prev_desc = desc;
                        prev_keywords = keywords;
                        prev_lastmod = lastmod;
                        endParagraph = function () {
                            if (paragraphLinesPending.length > 0) {
                                if (snippetOn)
                                    contentLines.push("<div class=\"snippet\"><pre><code>".concat(paragraphLinesPending.join("\n"), "</code></pre></div>"));
                                else if (excerptOn)
                                    contentLines.push("<pre><div class=\"excerpt\">".concat(paragraphLinesPending.join("\n"), "</div></pre>"));
                                else
                                    contentLines.push("<p>".concat(paragraphLinesPending.join("<br>"), "</p>"));
                                paragraphLinesPending.length = 0;
                            }
                        };
                        buildPostPage = function (title, lastmod, desc, keywords, isLastPage) { return __awaiter(_this, void 0, void 0, function () {
                            var postRelativeURL, builder, _a, _b;
                            return __generator(this, function (_c) {
                                switch (_c.label) {
                                    case 0:
                                        postRelativeURL = "".concat(entry.dirName, "/page-").concat(pageNumber, ".html");
                                        builder = new _textFileBuilder__WEBPACK_IMPORTED_MODULE_2__["default"]();
                                        _b = (_a = builder).addLine;
                                        return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].createStaticHTMLFromEJS("page/static/libraryPost.ejs", {
                                                title: title,
                                                desc: desc,
                                                keywords: keywords,
                                                customOGImagePath: customOGImagePath,
                                                entry: entry,
                                                pageNumber: pageNumber,
                                                isLastPage: isLastPage,
                                                content: contentLines.join("\n"),
                                            })];
                                    case 1:
                                        _b.apply(_a, [_c.sent()]);
                                        return [4 /*yield*/, builder.build(postRelativeURL)];
                                    case 2:
                                        _c.sent();
                                        contentLines.length = 0;
                                        this.sitemapBuilder.addEntry(postRelativeURL, lastmod);
                                        this.atomFeedBuilder.addEntry("".concat(process.env.URL_STATIC, "/").concat(postRelativeURL), title, lastmod, desc);
                                        postInfoList.push({ pageNumber: pageNumber, title: title, lastmod: lastmod, desc: desc, keywords: keywords, customOGImagePath: customOGImagePath });
                                        pageNumber++;
                                        imageNumber = 1;
                                        customOGImagePath = undefined;
                                        return [2 /*return*/];
                                }
                            });
                        }); };
                        return [4 /*yield*/, _util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].read("".concat(entry.dirName, "/source.txt"))];
                    case 1:
                        rawText = _a.sent();
                        lines = rawText.split(/\r?\n/);
                        i = 0;
                        _a.label = 2;
                    case 2:
                        if (!(i < lines.length)) return [3 /*break*/, 8];
                        line = lines[i];
                        if (!snippetOn && !excerptOn)
                            line = line.trim();
                        if (!(line.length == 0)) return [3 /*break*/, 3];
                        if (snippetOn || excerptOn)
                            paragraphLinesPending.push("\n");
                        else
                            endParagraph();
                        return [3 /*break*/, 7];
                    case 3:
                        if (!line.startsWith("[")) return [3 /*break*/, 6];
                        endParagraph();
                        if (!isFirstArticle)
                            prev_title = title;
                        title = line.match(/\[(.*?)\]/)[1].trim();
                        date = line.match(/\](.*?)$/)[1].trim();
                        if (!!isFirstArticle) return [3 /*break*/, 5];
                        return [4 /*yield*/, buildPostPage(prev_title, prev_lastmod, prev_desc, prev_keywords, false)];
                    case 4:
                        _a.sent();
                        prev_desc = desc;
                        prev_keywords = keywords;
                        prev_lastmod = lastmod;
                        _a.label = 5;
                    case 5:
                        isFirstArticle = false;
                        contentLines.push("<h1>".concat(title, "</h1>"));
                        contentLines.push("<p class=\"dim\">Author: Youngjin Kang&nbsp;&nbsp;&nbsp;Date: ".concat(date, "</p>"));
                        return [3 /*break*/, 7];
                    case 6:
                        if (line.startsWith("<") && !snippetOn && !excerptOn) // image reference
                         {
                            endParagraph();
                            imgName = line.match(/<(.*?)>/)[1];
                            if (imgName.length > 0) {
                                imgPath = "".concat(process.env.URL_STATIC, "/").concat(entry.dirName, "/").concat(imgName, ".jpg");
                                if (customOGImagePath == undefined || line.endsWith("*"))
                                    customOGImagePath = imgPath;
                                contentLines.push("<img class=\"l_image\" src=\"".concat(imgPath, "\" alt=\"").concat(title.replaceAll("\"", "&quot;"), " (Figure ").concat(imageNumber++, ")\">"));
                            }
                        }
                        else if (line.startsWith("@@")) // Custom HTML tag
                         {
                            contentLines.push(line.substring(2));
                        }
                        else if (line.startsWith("#$")) // snippet
                         {
                            endParagraph();
                            snippetOn = !snippetOn;
                        }
                        else if (line.startsWith("#\"")) // excerpt
                         {
                            endParagraph();
                            excerptOn = !excerptOn;
                        }
                        else if (line.startsWith(":d:")) {
                            if (!isFirstArticle)
                                prev_desc = desc;
                            desc = line.substring(3);
                        }
                        else if (line.startsWith(":k:")) {
                            if (!isFirstArticle)
                                prev_keywords = keywords;
                            keywords = line.substring(3).toLowerCase().replaceAll("-", " ");
                        }
                        else if (line.startsWith(":l:")) {
                            if (!isFirstArticle)
                                prev_lastmod = lastmod;
                            lastmod = line.substring(3);
                        }
                        else // plain text
                         {
                            line = line.replaceAll("<", "&lt;").replaceAll(">", "&gt;").replaceAll("{%", "<").replaceAll("%}", ">");
                            paragraphLinesPending.push(line);
                        }
                        _a.label = 7;
                    case 7:
                        ++i;
                        return [3 /*break*/, 2];
                    case 8:
                        endParagraph();
                        return [4 /*yield*/, buildPostPage(title, lastmod, desc, keywords, true)];
                    case 9:
                        _a.sent();
                        return [2 /*return*/, postInfoList];
                }
            });
        });
    };
    ;
    return LibraryPostPageBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LibraryPostPageBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/sitemapBuilder.ts":
/*!**************************************************!*\
  !*** ./src/server/ssg/builder/sitemapBuilder.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ssg/util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var SitemapBuilder = /** @class */ (function () {
    function SitemapBuilder() {
        this.lines = ["</urlset>"];
    }
    SitemapBuilder.prototype.addEntry = function (relativeURL, lastmod) {
        this.lines.push("</url>");
        this.lines.push("  <lastmod>".concat(lastmod, "</lastmod>"));
        this.lines.push("  <loc>".concat(process.env.URL_STATIC, "/").concat(relativeURL, "</loc>"));
        this.lines.push("<url>");
    };
    SitemapBuilder.prototype.build = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.lines.push("<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">");
                        this.lines.push("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
                        this.lines.reverse();
                        return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].write("sitemap.xml", this.lines.join("\n"))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return SitemapBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SitemapBuilder);


/***/ }),

/***/ "./src/server/ssg/builder/textFileBuilder.ts":
/*!***************************************************!*\
  !*** ./src/server/ssg/builder/textFileBuilder.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ssg/util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var TextFileBuilder = /** @class */ (function () {
    function TextFileBuilder() {
        this.lines = [];
    }
    TextFileBuilder.prototype.addLine = function (line) {
        this.lines.push(line);
    };
    TextFileBuilder.prototype.getText = function () {
        return this.lines.join("\n");
    };
    TextFileBuilder.prototype.build = function (relativeFilePath, rootDir) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (rootDir == undefined)
                            rootDir = process.env.STATIC_PAGE_ROOT_DIR;
                        return [4 /*yield*/, _ssg_util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].write(relativeFilePath, this.lines.join("\n"), rootDir)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return TextFileBuilder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextFileBuilder);


/***/ }),

/***/ "./src/server/ssg/data/arcadeData.ts":
/*!*******************************************!*\
  !*** ./src/server/ssg/data/arcadeData.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArcadeData: () => (/* binding */ ArcadeData)
/* harmony export */ });
var ArcadeData = {
    gameEntries: [
        {
            dirName: "ArtRaider",
            title: "ArtRaider",
            playLinkImagePathOverride: "badge_onestore.png",
            playLinkURL: "https://onesto.re/0001000383",
            videoTag: "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/RuLgOJrNtKA?si=Ts_Yu_jdpB1qmNiT\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>",
            lastmod: "2025-04-15",
        },
        {
            dirName: "Water-vs-Fire",
            title: "Water vs Fire",
            playLinkURL: "https://www.gamearter.com/game/water-vs-fire",
            videoTag: "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/6DeA_m8Iq4M?si=hC1uzkEtBWpYcM8z\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>",
            lastmod: "2023-09-10",
        },
        {
            dirName: "HuntLand",
            title: "HuntLand",
            playLinkURL: "https://www.gamearter.com/game/huntland",
            videoTag: "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/3dRg6vvoPqc?si=FlnKVyzQq0_55sL2\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>",
            lastmod: "2023-09-10",
        },
        {
            dirName: "PoliceChase",
            title: "Police Chase",
            playLinkURL: "https://www.gamearter.com/game/policechase",
            videoTag: "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/kABg0j2mZqQ?si=3-JUZQnh3omVXSJd\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>",
            lastmod: "2023-09-10",
        },
        {
            dirName: "SpaceTown",
            title: "SpaceTown",
            playLinkURL: "https://www.gamearter.com/game/spacetown",
            videoTag: "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/NoiQzEKJM-A?si=o8vTNqW1kxCJ4MnW\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>",
            lastmod: "2023-09-20",
        },
    ]
};


/***/ }),

/***/ "./src/server/ssg/data/libraryData.ts":
/*!********************************************!*\
  !*** ./src/server/ssg/data/libraryData.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LibraryData: () => (/* binding */ LibraryData)
/* harmony export */ });
var LibraryData = {
    entriesByCategory: {
        "Nonfiction": [
            { dirName: "metaphysics", title: " (2013 - 2014)" },
            { dirName: "game-analysis", title: " (2019)" },
            { dirName: "essays", title: "Miscellaneous Writings (2022 - 2024)" },
            { dirName: "blockchains", title: "On Legitimacy of Blockchains (2022)" },
            { dirName: "software-development", title: "Software Development (2022 - 2024)" },
            { dirName: "game-design", title: "Universal Laws of Game Design (2023)" },
            { dirName: "reality", title: "The Origin of Reality (2023)" },
            { dirName: "bridge-to-math", title: "A Layman's Bridge to Mathematics (2024)" },
            { dirName: "read-rec", title: "Recommended Readings (2024)" },
            { dirName: "morsels", title: "Morsels of Thought (2024)" },
            { dirName: "concepts-of-plan", title: "Concepts of a Plan (2025)" },
        ],
        "Fiction": [
            { dirName: "novels", title: " (2012 - 2013)" },
            { dirName: "alien-job-interview", title: "Alien Job Interview (2022)" },
            { dirName: "infinite-treasures", title: "The Island of Infinite Treasures (2022)" },
            { dirName: "infsoc", title: "Influential Social Posts (2023)" },
            { dirName: "gamedev-journey", title: "A Game Developer's Journey (2023)" },
            { dirName: "sandwich", title: "Sandwich Engineering (2025)" },
        ],
        "Arts": [
            { dirName: "illustrations", title: "Illustrations (2009 - 2014)" },
            { dirName: "cartoons", title: "Cartoons (2011 - 2015)" },
        ],
    }
};


/***/ }),

/***/ "./src/server/ssg/ssg.ts":
/*!*******************************!*\
  !*** ./src/server/ssg/ssg.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SSG)
/* harmony export */ });
/* harmony import */ var _util_fileUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/ejsUtil */ "./src/server/ssg/util/ejsUtil.ts");
/* harmony import */ var _builder_sitemapBuilder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./builder/sitemapBuilder */ "./src/server/ssg/builder/sitemapBuilder.ts");
/* harmony import */ var _builder_atomFeedBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./builder/atomFeedBuilder */ "./src/server/ssg/builder/atomFeedBuilder.ts");
/* harmony import */ var _builder_page_arcadePageBuilder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./builder/page/arcadePageBuilder */ "./src/server/ssg/builder/page/arcadePageBuilder.ts");
/* harmony import */ var _builder_page_libraryPageBuilder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./builder/page/libraryPageBuilder */ "./src/server/ssg/builder/page/libraryPageBuilder.ts");
/* harmony import */ var _builder_textFileBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./builder/textFileBuilder */ "./src/server/ssg/builder/textFileBuilder.ts");
/* harmony import */ var _builder_embeddedScriptBuilder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./builder/embeddedScriptBuilder */ "./src/server/ssg/builder/embeddedScriptBuilder.ts");
/* harmony import */ var _style_styleDictionary__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./style/styleDictionary */ "./src/server/ssg/style/styleDictionary.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _builder_page_errorPageBuilder__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./builder/page/errorPageBuilder */ "./src/server/ssg/builder/page/errorPageBuilder.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











dotenv__WEBPACK_IMPORTED_MODULE_9___default().config();
function SSG() {
    return __awaiter(this, void 0, void 0, function () {
        var sitemapB, atomFeedB, tb, _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
        return __generator(this, function (_l) {
            switch (_l.label) {
                case 0:
                    console.log("SSG START");
                    sitemapB = new _builder_sitemapBuilder__WEBPACK_IMPORTED_MODULE_2__["default"]();
                    atomFeedB = new _builder_atomFeedBuilder__WEBPACK_IMPORTED_MODULE_3__["default"]();
                    tb = new _builder_textFileBuilder__WEBPACK_IMPORTED_MODULE_6__["default"]();
                    _b = (_a = tb).addLine;
                    return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].createStaticHTMLFromEJS("page/static/index.ejs", {})];
                case 1:
                    _b.apply(_a, [_l.sent()]);
                    return [4 /*yield*/, tb.build("index.html")];
                case 2:
                    _l.sent();
                    tb = new _builder_textFileBuilder__WEBPACK_IMPORTED_MODULE_6__["default"]();
                    _d = (_c = tb).addLine;
                    return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].createStaticHTMLFromEJS("page/static/portfolio.ejs", {})];
                case 3:
                    _d.apply(_c, [_l.sent()]);
                    return [4 /*yield*/, tb.build("portfolio.html")];
                case 4:
                    _l.sent();
                    tb = new _builder_textFileBuilder__WEBPACK_IMPORTED_MODULE_6__["default"]();
                    _f = (_e = tb).addLine;
                    return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].createStaticHTMLFromEJS("page/static/portfolio_minimal.ejs", {})];
                case 5:
                    _f.apply(_e, [_l.sent()]);
                    return [4 /*yield*/, tb.build("portfolio_minimal.html")];
                case 6:
                    _l.sent();
                    tb = new _builder_textFileBuilder__WEBPACK_IMPORTED_MODULE_6__["default"]();
                    _h = (_g = tb).addLine;
                    return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].createStaticHTMLFromEJS("page/static/privacyPolicy.ejs", {})];
                case 7:
                    _h.apply(_g, [_l.sent()]);
                    return [4 /*yield*/, tb.build("privacy-policy.html")];
                case 8:
                    _l.sent();
                    tb = new _builder_textFileBuilder__WEBPACK_IMPORTED_MODULE_6__["default"]();
                    _k = (_j = tb).addLine;
                    return [4 /*yield*/, _util_ejsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].createStaticHTMLFromEJS("page/static/termsOfService.ejs", {})];
                case 9:
                    _k.apply(_j, [_l.sent()]);
                    return [4 /*yield*/, tb.build("terms-of-service.html")];
                case 10:
                    _l.sent();
                    return [4 /*yield*/, new _builder_page_arcadePageBuilder__WEBPACK_IMPORTED_MODULE_4__["default"](sitemapB, atomFeedB).build()];
                case 11:
                    _l.sent();
                    return [4 /*yield*/, new _builder_page_libraryPageBuilder__WEBPACK_IMPORTED_MODULE_5__["default"](sitemapB, atomFeedB).build()];
                case 12:
                    _l.sent();
                    return [4 /*yield*/, new _builder_page_errorPageBuilder__WEBPACK_IMPORTED_MODULE_10__["default"]().build()];
                case 13:
                    _l.sent();
                    return [4 /*yield*/, sitemapB.build()];
                case 14:
                    _l.sent();
                    return [4 /*yield*/, atomFeedB.build()];
                case 15:
                    _l.sent();
                    // Generate CSS
                    return [4 /*yield*/, _util_fileUtil__WEBPACK_IMPORTED_MODULE_0__["default"].write("style.css", _style_styleDictionary__WEBPACK_IMPORTED_MODULE_8__["default"])];
                case 16:
                    // Generate CSS
                    _l.sent();
                    // Generate embedded scripts
                    return [4 /*yield*/, new _builder_embeddedScriptBuilder__WEBPACK_IMPORTED_MODULE_7__["default"]().build()];
                case 17:
                    // Generate embedded scripts
                    _l.sent();
                    console.log("SSG END");
                    return [2 /*return*/];
            }
        });
    });
}


/***/ }),

/***/ "./src/server/ssg/style/styleDictionary.ts":
/*!*************************************************!*\
  !*** ./src/server/ssg/style/styleDictionary.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
//------------------------------------------------------------------------
// Global Parameters
//------------------------------------------------------------------------
var extraDarkColor = "#101010";
var darkColor = "#303030";
var dimColor = "#707070";
var mediumColor = "#a0a0a0";
var lightColor = "#c0c0c0";
var lightYellowColor = "#d0c090";
var lightGreenColor = "#70c060";
var mediumYellowColor = "#b0a070";
var defaultTextAlign = "left";
var fullscreenBarTextAlign = "center";
var fullscreenLeftBarWidthPercent = 14;
var fullscreenTopBarHeightPercent = 12;
var fullscreenLeftBarLogoAreaHeightPercent = 14;
var fullscreenTopBarLogoAreaHeightPercent = 65;
var fullscreenPanelWidthPaddingPercent = 2.5;
var scrollbar_thickness = "17px";
var scrollbar_border_radius = "8px";
var scrollbar_border_thickness = "4px";
var space = {
    unit: {
        landscape: {
            vertical: 0.6,
            horizontal: 1,
        },
        portrait: {
            vertical: 1,
            horizontal: 2.5,
        },
    },
};
var regular_font_weight = 400;
var bold_font_weight = 800;
var fontScaleFactor_vmax = 0.7;
var fontScaleFactor_px = 1.0;
var font_vmax_min = 2.6;
var font_px_min = 16;
var fontScaleInc = 1.2;
var fontScaleInc2 = fontScaleInc * fontScaleInc;
var fontScaleInc3 = fontScaleInc * fontScaleInc * fontScaleInc;
var fontScaleInc4 = fontScaleInc * fontScaleInc * fontScaleInc * fontScaleInc;
//------------------------------------------------------------------------
// Functions
//------------------------------------------------------------------------
// Areas
var absoluteArea = function (leftPercent, rightPercent, topPercent, bottomPercent, widthPercent, heightPercent) {
    return "position: absolute;\n\tdisplay: block;\n\tleft: ".concat(leftPercent, "%;\n\tright: ").concat(rightPercent, "%;\n\ttop: ").concat(topPercent, "%;\n\tbottom: ").concat(bottomPercent, "%;\n\twidth: ").concat(widthPercent, "%;\n\theight: ").concat(heightPercent, "%;");
};
var relativeArea = function (nextline, maxWidth) {
    return "position: relative;\n\tdisplay: ".concat(nextline ? "block" : "inline-block", ";\n\tmax-width: ").concat(maxWidth, ";");
};
var relativeAndFlexibleArea = function (nextline) {
    return "position: relative;\n\tdisplay: ".concat(nextline ? "block" : "inline-block", ";\n\tmax-width: none;\n\twidth: fit-content;\n\tblock-size: fit-content;");
};
var relativeFixedSizeArea = function (nextline, width, height) {
    return "position: relative;\n\tdisplay: ".concat(nextline ? "block" : "inline-block", ";\n\twidth: ").concat(width, ";\n\theight: ").concat(height, ";");
};
// Spacing
var spacing = function (landscape, verticalScale, horizontalScale, suppressMargin, suppressPadding) {
    if (suppressMargin === void 0) { suppressMargin = false; }
    if (suppressPadding === void 0) { suppressPadding = false; }
    var unit = space.unit[landscape ? "landscape" : "portrait"];
    var verticalSize = (unit.vertical * verticalScale).toFixed(2);
    var horizontalSize = (unit.horizontal * horizontalScale).toFixed(2);
    var verticalPadding = suppressPadding ? "0" : "".concat(verticalSize, "%");
    var horizontalPadding = suppressPadding ? "0" : "".concat(horizontalSize, "%");
    var verticalMargin = suppressMargin ? "0" : "".concat(verticalSize, "%");
    var horizontalMargin = suppressMargin ? "0" : "".concat(horizontalSize, "%");
    return "padding: ".concat(verticalPadding, " ").concat(horizontalPadding, " ").concat(verticalPadding, " ").concat(horizontalPadding, ";\n\tmargin: ").concat(verticalMargin, " ").concat(horizontalMargin, " ").concat(verticalMargin, " 0;");
};
// Font
var font = function (fontSize, isItalic, fontWeight) {
    return "font-size: ".concat(fontSize, ";\n\tfont-family: \"Lucida Console\", \"Lucida Sans Typewriter\", \"Monaco\", Consolas, monospace;\n\tfont-style: ").concat(isItalic ? "italic" : "normal", ";\n\tfont-weight: ").concat(fontWeight, ";");
};
// Frames
var simpleFrame = function (backgroundColor, foregroundColor, opacity) {
    if (opacity === void 0) { opacity = 1; }
    return "background-color: ".concat(backgroundColor, ";\n\tcolor: ").concat(foregroundColor, ";").concat((opacity < 1) ? "\n\topacity: ".concat(opacity, ";") : "");
};
var roundedFrame = function (backgroundColor, foregroundColor, opacity) {
    if (opacity === void 0) { opacity = 1; }
    return simpleFrame(backgroundColor, foregroundColor, opacity) + "\n" +
        "\tborder-radius: 2vmin;";
};
var elevatedFrame = function (backgroundColor, foregroundColor, borderColor, borderThickness, opacity) {
    if (borderThickness === void 0) { borderThickness = "1.25"; }
    if (opacity === void 0) { opacity = 1; }
    return roundedFrame(backgroundColor, foregroundColor, opacity) + "\n" +
        "\tborder-bottom: ".concat(borderThickness, "vmin ").concat(borderColor, " solid;") + "\n" +
        "\tborder-right: ".concat(borderThickness, "vmin ").concat(borderColor, " solid;");
};
var outlinedFrame = function (backgroundColor, foregroundColor, borderColor, borderThickness, opacity) {
    if (borderThickness === void 0) { borderThickness = "1.25"; }
    if (opacity === void 0) { opacity = 1; }
    return roundedFrame(backgroundColor, foregroundColor, opacity) + "\n" +
        "\tborder: ".concat(borderThickness, "vmin ").concat(borderColor, " solid;");
};
var underlinedFrame = function (backgroundColor, foregroundColor, underlineColor, underlineThickness, opacity) {
    if (underlineThickness === void 0) { underlineThickness = "1.25"; }
    if (opacity === void 0) { opacity = 1; }
    return simpleFrame(backgroundColor, foregroundColor, opacity) + "\n" +
        "\tborder-bottom: ".concat(underlineThickness, "vmin ").concat(underlineColor, " solid;");
};
//------------------------------------------------------------------------
// Elementary Styles
//------------------------------------------------------------------------
var fullscreen_whole_area = absoluteArea(0, 0, 0, 0, 100, 100);
var fullscreen_left_bar_area = absoluteArea(0, 100 - fullscreenLeftBarWidthPercent, 0, 0, fullscreenLeftBarWidthPercent, 100);
var fullscreen_top_bar_area = absoluteArea(0, 0, 0, 100 - fullscreenTopBarHeightPercent, 100, fullscreenTopBarHeightPercent);
var fullscreen_right_panel_area = absoluteArea(fullscreenLeftBarWidthPercent, 2 * fullscreenPanelWidthPaddingPercent, 0, 0, 100 - (fullscreenLeftBarWidthPercent + 2 * fullscreenPanelWidthPaddingPercent), 100);
var fullscreen_bottom_panel_area = absoluteArea(0, fullscreenPanelWidthPaddingPercent, fullscreenTopBarHeightPercent, 0, 100 - 2 * fullscreenPanelWidthPaddingPercent, 100 - fullscreenTopBarHeightPercent);
var fullscreen_left_bar_logo_area = absoluteArea(0, 0, 0, 100 - fullscreenLeftBarLogoAreaHeightPercent, 100, fullscreenLeftBarLogoAreaHeightPercent);
var fullscreen_left_bar_menu_area = absoluteArea(0, 0, fullscreenLeftBarLogoAreaHeightPercent, 0, 100, 80);
var fullscreen_top_bar_logo_area = absoluteArea(0, 0, 0, 100 - fullscreenTopBarLogoAreaHeightPercent, 100, fullscreenTopBarLogoAreaHeightPercent);
var fullscreen_top_bar_menu_area = absoluteArea(0, 0, fullscreenTopBarLogoAreaHeightPercent, 0, 100, 100 - fullscreenTopBarLogoAreaHeightPercent);
var list_scroll_panel_area = function (_) { return relativeFixedSizeArea(true, "".concat((100).toFixed(2), "%"), "".concat((70).toFixed(2), "%")); };
var getGraceWidthPercent = function (landscape) {
    return 2 * space.unit[landscape ? "landscape" : "portrait"].horizontal;
};
var full_row_area = function (landscape) { return relativeArea(true, "".concat((100).toFixed(2), "%")); };
var near_full_row_area = function (landscape) { return relativeArea(true, "".concat((98).toFixed(2), "%")); };
var twoThirds_row_area = function (landscape) { return relativeArea(true, "".concat((66 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var half_row_area = function (landscape) { return relativeArea(true, "".concat((50 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var third_row_area = function (landscape) { return relativeArea(true, "".concat((33 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var quarter_row_area = function (landscape) { return relativeArea(true, "".concat((25 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var fifth_row_area = function (landscape) { return relativeArea(true, "".concat((20 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var tiny_row_area = function (_) { return relativeArea(true, "1%"); };
var flexible_row_area = function (_) { return relativeAndFlexibleArea(true); };
var full_col_area = function (landscape) { return relativeArea(false, "".concat((100).toFixed(2), "%")); };
var near_full_col_area = function (landscape) { return relativeArea(false, "".concat((98).toFixed(2), "%")); };
var twoThirds_col_area = function (landscape) { return relativeArea(false, "".concat((66 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var half_col_area = function (landscape) { return relativeArea(false, "".concat((50 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var third_col_area = function (landscape) { return relativeArea(false, "".concat((33 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var quarter_col_area = function (landscape) { return relativeArea(false, "".concat((25 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var fifth_col_area = function (landscape) { return relativeArea(false, "".concat((20 - getGraceWidthPercent(landscape)).toFixed(2), "%")); };
var tiny_col_area = function (_) { return relativeArea(false, "1%"); };
var flexible_col_area = function (_) { return relativeAndFlexibleArea(false); };
var zero_spacing = function (_) { return "padding: 0 0 0 0; margin: 0 0 0 0;"; };
var xs_spacing = function (landscape) { return spacing(landscape, 0.5, 1); };
var s_spacing = function (landscape) { return spacing(landscape, 1, 1); };
var m_spacing = function (landscape) { return spacing(landscape, 2, 2); };
var l_spacing = function (landscape) { return spacing(landscape, 3, 3); };
var xl_spacing = function (landscape) { return spacing(landscape, 4, 4); };
var xxl_spacing = function (landscape) { return spacing(landscape, 6, 6); };
var xs_spacing_paddingOnly = function (landscape) { return spacing(landscape, 0.5, 1, true, false); };
var xs_spacing_marginOnly = function (landscape) { return spacing(landscape, 0.5, 1, false, true); };
var s_spacing_paddingOnly = function (landscape) { return spacing(landscape, 1, 1, true, false); };
var s_spacing_marginOnly = function (landscape) { return spacing(landscape, 1, 1, false, true); };
var m_spacing_paddingOnly = function (landscape) { return spacing(landscape, 2, 1, true, false); };
var m_spacing_marginOnly = function (landscape) { return spacing(landscape, 2, 1, false, true); };
var l_spacing_paddingOnly = function (landscape) { return spacing(landscape, 3, 1, true, false); };
var l_spacing_marginOnly = function (landscape) { return spacing(landscape, 3, 1, false, true); };
var xl_spacing_paddingOnly = function (landscape) { return spacing(landscape, 4, 1, true, false); };
var xl_spacing_marginOnly = function (landscape) { return spacing(landscape, 4, 1, false, true); };
var size_s_font = "min(".concat((font_vmax_min * fontScaleFactor_vmax).toFixed(2), "vmax, ").concat((font_px_min * fontScaleFactor_px).toFixed(2), "px)");
var size_m_font = "min(".concat((font_vmax_min * fontScaleInc * fontScaleFactor_vmax).toFixed(2), "vmax, ").concat((font_px_min * fontScaleInc * fontScaleFactor_px).toFixed(2), "px)");
var size_l_font = "min(".concat((font_vmax_min * fontScaleInc2 * fontScaleFactor_vmax).toFixed(2), "vmax, ").concat((font_px_min * fontScaleInc2 * fontScaleFactor_px).toFixed(2), "px)");
var size_xl_font = "min(".concat((font_vmax_min * fontScaleInc3 * fontScaleFactor_vmax).toFixed(2), "vmax, ").concat((font_px_min * fontScaleInc3 * fontScaleFactor_px).toFixed(2), "px)");
var size_xxl_font = "min(".concat((font_vmax_min * fontScaleInc4 * fontScaleFactor_vmax).toFixed(2), "vmax, ").concat((font_px_min * fontScaleInc4 * fontScaleFactor_px).toFixed(2), "px)");
var s_font = font(size_s_font, false, regular_font_weight);
var s_italic_font = font(size_s_font, true, regular_font_weight);
var s_bold_font = font(size_s_font, false, bold_font_weight);
var m_font = font(size_m_font, true, regular_font_weight);
var m_bold_font = font(size_m_font, true, bold_font_weight);
var l_font = font(size_l_font, true, regular_font_weight);
var l_bold_font = font(size_l_font, true, bold_font_weight);
var xl_font = font(size_xl_font, true, regular_font_weight);
var xl_bold_font = font(size_xl_font, true, bold_font_weight);
var xxl_font = font(size_xxl_font, true, regular_font_weight);
var xxl_bold_font = font(size_xxl_font, true, bold_font_weight);
var transparent_frame = "opacity: 0;";
var loading_screen_background_frame = simpleFrame("#000000", lightColor, 0.7);
var loading_screen_content_frame = elevatedFrame(lightYellowColor, darkColor, mediumYellowColor, "1.25");
var popup_screen_background_frame = simpleFrame("#000000", lightColor, 0.7);
var popup_screen_content_frame = elevatedFrame(darkColor, mediumColor, lightColor, "1.25");
var light_color_frame = simpleFrame(darkColor, lightColor);
var underlined_light_color_frame = underlinedFrame(darkColor, lightColor, lightColor);
var medium_color_frame = simpleFrame(darkColor, mediumColor);
var inverted_medium_color_frame = simpleFrame(mediumColor, darkColor);
var dim_color_frame = simpleFrame(darkColor, dimColor);
var lightYellow_color_frame = simpleFrame(darkColor, lightYellowColor);
var mediumYellow_color_frame = simpleFrame(darkColor, mediumYellowColor);
var linkImage_frame = elevatedFrame(darkColor, mediumColor, mediumColor);
var img_frame = roundedFrame(darkColor, lightColor);
var snippet_frame = roundedFrame(extraDarkColor, lightGreenColor);
var excerpt_frame = roundedFrame(extraDarkColor, lightGreenColor);
var button_frame = elevatedFrame(extraDarkColor, mediumColor, dimColor, "0.5");
var big_button_frame = elevatedFrame(extraDarkColor, mediumColor, dimColor, "0.75");
var text_input_frame = elevatedFrame(dimColor, lightColor, mediumColor, "0.25");
var list_scroll_panel_frame = outlinedFrame(darkColor, lightColor, dimColor, "0.1");
var list_item_frame = outlinedFrame(mediumColor, lightColor, lightColor, "0.1");
//------------------------------------------------------------------------
// Orientation-Dependent Styles
//------------------------------------------------------------------------
var stylesForOrientation = function (landscape) {
    return "\n@supports(-moz-appearance:none) {\n\t* {\n\t\tscrollbar-width: ".concat(landscape ? "auto" : "none", ";\n\t\tscrollbar-color: ").concat(dimColor, " ").concat(extraDarkColor, ";\n\t}\n}\n::-webkit-scrollbar {\n\twidth: ").concat(landscape ? scrollbar_thickness : "0", ";\n\theight: ").concat(landscape ? scrollbar_thickness : "0", ";\n}\n::-webkit-scrollbar-track {\n\tbackground: ").concat(extraDarkColor, ";\n}\n::-webkit-scrollbar-thumb {\n\tbackground: ").concat(dimColor, ";\n\tborder-radius: ").concat(scrollbar_border_radius, ";\n\tborder: ").concat(scrollbar_border_thickness, " solid ").concat(extraDarkColor, ";\n}\n::-webkit-scrollbar-thumb:hover {\n\tbackground: ").concat(mediumColor, ";\n}\niframe {\n\t").concat(full_row_area(landscape), "\n\t").concat(m_spacing_marginOnly(landscape), "\n\t").concat(l_bold_font, "\n\t").concat(medium_color_frame, "\n}\np {\n\t").concat(full_row_area(landscape), "\n\t").concat(xl_spacing_marginOnly(landscape), "\n\t").concat(s_font, "\n\t").concat(light_color_frame, "\n}\nh3 {\n\t").concat(full_row_area(landscape), "\n\t").concat(xl_spacing_marginOnly(landscape), "\n\t").concat(m_bold_font, "\n\t").concat(mediumYellow_color_frame, "\n}\nh2 {\n\t").concat(full_row_area(landscape), "\n\t").concat(xl_spacing_marginOnly(landscape), "\n\t").concat(xl_bold_font, "\n\t").concat(dim_color_frame, "\n}\nh1 {\n\t").concat(full_row_area(landscape), "\n\t").concat(xl_spacing_marginOnly(landscape), "\n\t").concat(xxl_bold_font, "\n\t").concat(lightYellow_color_frame, "\n}\nhr {\n\t").concat(full_row_area(landscape), "\n\t").concat(m_spacing_marginOnly(landscape), "\n\t").concat(light_color_frame, "\n}\n.fullscreenBar {\n\t").concat(landscape ? fullscreen_left_bar_area : fullscreen_top_bar_area, "\n\t").concat(zero_spacing(landscape), "\n\t").concat(m_bold_font, "\n\t").concat(inverted_medium_color_frame, "\n\ttext-align: ").concat(fullscreenBarTextAlign, ";\n\tz-index: 1;\n\toverflow: hidden;\n}\n.fullscreenPanel {\n\t").concat(landscape ? fullscreen_right_panel_area : fullscreen_bottom_panel_area, "\n\tmargin: 0 0 0 0;\n\tpadding: 0 ").concat(fullscreenPanelWidthPaddingPercent, "% 0 ").concat(fullscreenPanelWidthPaddingPercent, "%;\n\t").concat(l_bold_font, "\n\t").concat(medium_color_frame, "\n\toverflow-y: scroll;\n\toverflow-x: auto;\n}\n.fullscreenBarLogo {\n\t").concat(landscape ? fullscreen_left_bar_logo_area : fullscreen_top_bar_logo_area, "\n}\n.fullscreenBarLogoImage {\n\tposition: relative;\n\tdisplay: block;\n\tmax-width: 80%;\n\tmax-height: 70%;\n\tmargin: auto;\n  \ttop: 50%;\n  \t-ms-transform: translateY(-50%);\n  \ttransform: translateY(-50%);\n}\n.fullscreenBarMenu {\n\t").concat(landscape ? fullscreen_left_bar_menu_area : fullscreen_top_bar_menu_area, "\n}\n.fullscreenBarMenuButton {\n\tposition: relative;\n\tdisplay: ").concat(landscape ? "block" : "inline-block", ";\n\t").concat(landscape ? "width: 100%;" : "top: 100%; -ms-transform: translateY(-100%); transform: translateY(-100%);", "\n\tmax-height: 100%;\n\t").concat(landscape ? xl_spacing_paddingOnly(landscape) : s_spacing_paddingOnly(landscape), "\n\tbox-sizing: border-box;\n\ttext-decoration: none;\n}\n.fullscreenBarMenuButton.idle {\n\t").concat(inverted_medium_color_frame, "\n}\n.fullscreenBarMenuButton.selected {\n\t").concat(medium_color_frame, "\n}\n.fullscreenBarMenuButton.idle:hover {\n\tcolor: ").concat(lightYellowColor, ";\n}\n.fullscreenBarMenuButton.selected:hover {\n\tcolor: ").concat(lightYellowColor, ";\n}\n.loadingScreen {\n\t").concat(fullscreen_whole_area, "\n\t").concat(zero_spacing(landscape), "\n\tz-index: 900;\n\n\t.background {\n\t\t").concat(fullscreen_whole_area, "\n\t\t").concat(zero_spacing(landscape), "\n\t\t").concat(loading_screen_background_frame, "\n\t}\n\t.content {\n\t\tposition: absolute;\n\t\tmin-width: 50%;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\t").concat(xxl_bold_font, "\n\t\t").concat(xl_spacing(landscape), "\n\t\t").concat(loading_screen_content_frame, "\n\t\ttext-align: center;\n\t\tz-index: 901;\n\t}\n}\n.popupScreen {\n\t").concat(fullscreen_whole_area, "\n\t").concat(zero_spacing(landscape), "\n\tz-index: 500;\n\n\t.background {\n\t\t").concat(fullscreen_whole_area, "\n\t\t").concat(zero_spacing(landscape), "\n\t\t").concat(popup_screen_background_frame, "\n\t}\n\t.content {\n\t\tposition: absolute;\n\t\twidth: 80%;\n\t\twidth: 80%;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\t").concat(s_font, "\n\t\t").concat(m_spacing(landscape), "\n\t\t").concat(popup_screen_content_frame, "\n\t\toverflow-y: scroll;\n\t\tz-index: 501;\n\t}\n}\n.s_image {\n\t").concat(landscape ? quarter_col_area(landscape) : half_col_area(landscape), "\n\t").concat(m_spacing_marginOnly(landscape), "\n\t").concat(l_bold_font, "\n\t").concat(img_frame, "\n}\n.m_image {\n\t").concat(landscape ? third_col_area(landscape) : full_col_area(landscape), "\n\t").concat(m_spacing_marginOnly(landscape), "\n\t").concat(l_bold_font, "\n\t").concat(img_frame, "\n}\n.m_linkImage {\n\t").concat(landscape ? third_col_area(landscape) : near_full_col_area(landscape), "\n\t").concat(m_spacing_marginOnly(landscape), "\n\t").concat(l_bold_font, "\n\t").concat(linkImage_frame, "\n}\n.m_linkImage:hover {\n\tborder-color: ").concat(lightYellowColor, ";\n}\n.l_image {\n\t").concat(landscape ? half_col_area(landscape) : full_col_area(landscape), "\n\t").concat(m_spacing_marginOnly(landscape), "\n\t").concat(l_bold_font, "\n\t").concat(img_frame, "\n}\n.portal {\n\tposition: relative;\n\tdisplay: block;\n\tmargin: ").concat(landscape ? "5%" : "12.5%", " 0;\n\tpadding: 0 0;\n\tmax-width: ").concat(landscape ? "30%" : "70%", ";\n}\n.postEntryButton {\n\t").concat(flexible_row_area(landscape), "\n\t").concat(s_spacing(landscape), "\n\t").concat(s_bold_font, "\n\t").concat(button_frame, "\n\ttext-decoration: none;\n}\n.postEntryButton:hover {\n\tborder-color: ").concat(lightYellowColor, ";\n}\n.bigButton {\n\t").concat(flexible_row_area(landscape), "\n\t").concat(xxl_spacing(landscape), "\n\t").concat(m_bold_font, "\n\t").concat(big_button_frame, "\n\ttext-decoration: none;\n\ttext-align: center;\n}\n.bigButton:hover {\n\tborder-color: ").concat(lightYellowColor, ";\n}\n.pagePath {\n\t").concat(s_spacing_marginOnly(landscape), "\n\t").concat(s_font, "\n}\n.listScrollPanel {\n\t").concat(list_scroll_panel_area(landscape), "\n\t").concat(s_spacing(landscape), "\n\t").concat(list_scroll_panel_frame, "\n\toverflow: auto;\n}\n.listItem {\n\t").concat(flexible_row_area(landscape), "\n\t").concat(s_spacing(landscape), "\n\t").concat(s_font, "\n\t").concat(list_item_frame, "\n\ttext-decoration: none;\n}\n.inlineTextInput {\n\t").concat(landscape ? flexible_col_area(landscape) : flexible_row_area(landscape), "\n\t").concat(landscape ? s_spacing(landscape) : s_spacing(landscape), "\n\t").concat(s_font, "\n\t").concat(text_input_frame, "\n}\n.inlineLabel {\n\t").concat(flexible_col_area(landscape), "\n\t").concat(s_spacing(landscape), "\n\t").concat(s_font, "\n\t").concat(medium_color_frame, "\n}\n.inlineButton {\n\t").concat(flexible_col_area(landscape), "\n\t").concat(s_spacing(landscape), "\n\t").concat(s_font, "\n\t").concat(button_frame, "\n\ttext-decoration: none;\n}\n.inlineButton:hover {\n\tborder-color: ").concat(lightYellowColor, ";\n\tcursor: pointer;\n}\n.inlineButton:disabled {\n\topacity: 0.25;\n\tcursor: not-allowed;\n}\n.inlineTabButton {\n\t").concat(flexible_col_area(landscape), "\n\t").concat(s_spacing(landscape), "\n\t").concat(s_font, "\n\ttext-decoration: none;\n}\n.inlineTabButton.idle {\n\t").concat(light_color_frame, "\n}\n.inlineTabButton.selected {\n\t").concat(underlined_light_color_frame, "\n}\n.inlineTabButton.idle:hover {\n\tcolor: ").concat(lightYellowColor, ";\n}\n.inlineTabButton.selected:hover {\n\tcolor: ").concat(lightYellowColor, ";\n}\n.snippet {\n\t").concat(flexible_row_area(landscape), "\n\t").concat(m_spacing(landscape), "\n\t").concat(s_bold_font, "\n\t").concat(snippet_frame, "\n\twhite-space: nowrap;\n}\n.excerpt {\n\t").concat(full_row_area(landscape), "\n\t").concat(m_spacing(landscape), "\n\t").concat(s_italic_font, "\n\t").concat(excerpt_frame, "\n\twhite-space: pre-wrap;\n\twhite-space: -moz-pre-wrap;\n\twhite-space: -pre-wrap;\n\twhite-space: -o-pre-wrap;\n\tword-wrap: break-word;\n}\n.zero_row {\n\t").concat(tiny_row_area(), "\n\t").concat(zero_spacing(), "\n\t").concat(transparent_frame, "\n}\n.xs_row {\n\t").concat(tiny_row_area(landscape), "\n\t").concat(xs_spacing(landscape), "\n\t").concat(transparent_frame, "\n}\n.s_row {\n\t").concat(tiny_row_area(landscape), "\n\t").concat(s_spacing(landscape), "\n\t").concat(transparent_frame, "\n}\n.m_row {\n\t").concat(tiny_row_area(landscape), "\n\t").concat(m_spacing(landscape), "\n\t").concat(transparent_frame, "\n}\n.l_row {\n\t").concat(tiny_row_area(landscape), "\n\t").concat(l_spacing(landscape), "\n\t").concat(transparent_frame, "\n}\n.xl_row {\n\t").concat(tiny_row_area(landscape), "\n\t").concat(xl_spacing(landscape), "\n\t").concat(transparent_frame, "\n}\n");
};
//------------------------------------------------------------------------
// CSS
//------------------------------------------------------------------------
var css = "* {\n\toverflow: hidden;\n\tvertical-align: middle;\n}\nbody {\n\t".concat(fullscreen_whole_area, "\n\t").concat(zero_spacing(), "\n\t").concat(s_font, "\n\t").concat(light_color_frame, "\n\ttext-align: ").concat(defaultTextAlign, ";\n\tz-index: 0;\n}\na:link {\n  color: ").concat(mediumColor, ";\n}\na:visited {\n  color: ").concat(mediumColor, ";\n}\na:hover {\n  color: ").concat(lightYellowColor, ";\n}\na:active {\n  color: ").concat(mediumColor, ";\n}\n.dim {\n\t").concat(dim_color_frame, "\n}\n.noTextDeco {\n\ttext-decoration: none;\n}\n.horizontallyCentered {\n\tleft: 50%;\n\ttransform: translate(-50%, 0);\n}\n\n@media (orientation: landscape) {\n\t").concat(stylesForOrientation(true), "\n}\n\n@media (orientation: portrait) {\n\t").concat(stylesForOrientation(false), "\n}");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (css);


/***/ }),

/***/ "./src/server/ssg/util/ejsUtil.ts":
/*!****************************************!*\
  !*** ./src/server/ssg/util/ejsUtil.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var _fileUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fileUtil */ "./src/server/ssg/util/fileUtil.ts");
/* harmony import */ var _shared_embeddedScripts_config_uiConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/embeddedScripts/config/uiConfig */ "./src/shared/embeddedScripts/config/uiConfig.js");
/* harmony import */ var _shared_embeddedScripts_util_textUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/embeddedScripts/util/textUtil */ "./src/shared/embeddedScripts/util/textUtil.js");
/* harmony import */ var ejs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ejs */ "ejs");
/* harmony import */ var ejs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ejs__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../networking/util/addressUtil */ "./src/server/networking/util/addressUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};







dotenv__WEBPACK_IMPORTED_MODULE_5___default().config();
var ejsPartialRootPath = "".concat(process.env.PWD, "/").concat(process.env.VIEWS_ROOT_DIR, "/partial");
var baseStaticPageEJSParams = {
    TextUtil: _shared_embeddedScripts_util_textUtil__WEBPACK_IMPORTED_MODULE_3__["default"],
    UIConfig: _shared_embeddedScripts_config_uiConfig__WEBPACK_IMPORTED_MODULE_2__["default"],
    ejsPartialRootPath: ejsPartialRootPath,
    isStaticPage: true,
};
var baseDynamicPageEJSParams = {
    TextUtil: _shared_embeddedScripts_util_textUtil__WEBPACK_IMPORTED_MODULE_3__["default"],
    UIConfig: _shared_embeddedScripts_config_uiConfig__WEBPACK_IMPORTED_MODULE_2__["default"],
    ejsPartialRootPath: ejsPartialRootPath,
    isStaticPage: false,
};
var cachedEJSStrings = {};
var EJSUtil = {
    render: function (req, res, ejsViewPath, customEJSParams) {
        res.render(ejsViewPath, EJSUtil.makeEJSParams(req, customEJSParams), function (err, html) {
            if (err) {
                res.status(500).send(err.message);
            }
            else {
                html = EJSUtil.postProcessHTML(html);
                res.status(200).setHeader("content-type", "text/html").send(html);
            }
        });
    },
    postProcessHTML: function (html) {
        if (process.env.MODE == "dev") {
            var ip = _networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_6__["default"].getLocalIpAddress();
            html = html
                .replaceAll("\n", "!*NEW_LINE*!")
                .replace(/(PROD_CODE_BEGIN).*?(PROD_CODE_END)/g, "REMOVED_PROD_CODE")
                .replaceAll("!*NEW_LINE*!", "\n")
                .replaceAll(process.env.URL_STATIC, "http://".concat(ip, ":").concat(process.env.PORT)) // In dev mode, the dynamic server will also play the role of the static server simultaneously.
                .replaceAll(process.env.URL_DYNAMIC, "http://".concat(ip, ":").concat(process.env.PORT));
            return html;
        }
        else {
            return html;
        }
    },
    makeEJSParams: function (req, customEJSParams) {
        var mergedEJSParams = {};
        Object.assign(mergedEJSParams, baseDynamicPageEJSParams);
        Object.assign(mergedEJSParams, customEJSParams);
        if (mergedEJSParams.userString)
            _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("'userString' shouldn't be defined manually in EJS params.", { mergedEJSParams: mergedEJSParams }, "high", "pink");
        mergedEJSParams.userString = req.userString;
        if (mergedEJSParams.globalDictionary)
            _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("'globalDictionary' shouldn't be defined manually in EJS params.", { mergedEJSParams: mergedEJSParams }, "high", "pink");
        mergedEJSParams.globalDictionary = {};
        return mergedEJSParams;
    },
    makeEJSParamsStatic: function (customEJSParams) {
        var mergedEJSParams = {};
        Object.assign(mergedEJSParams, baseStaticPageEJSParams);
        Object.assign(mergedEJSParams, customEJSParams);
        return mergedEJSParams;
    },
    createStaticHTMLFromEJS: function (relativeEJSFilePath_1) {
        var args_1 = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args_1[_i - 1] = arguments[_i];
        }
        return __awaiter(void 0, __spreadArray([relativeEJSFilePath_1], args_1, true), void 0, function (relativeEJSFilePath, customEJSParams) {
            var ejsString, template, htmlString;
            if (customEJSParams === void 0) { customEJSParams = {}; }
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        ejsString = cachedEJSStrings[relativeEJSFilePath];
                        if (!(ejsString == undefined)) return [3 /*break*/, 2];
                        return [4 /*yield*/, _fileUtil__WEBPACK_IMPORTED_MODULE_1__["default"].read(relativeEJSFilePath, process.env.VIEWS_ROOT_DIR)];
                    case 1:
                        ejsString = _a.sent();
                        cachedEJSStrings[relativeEJSFilePath] = ejsString;
                        _a.label = 2;
                    case 2:
                        template = ejs__WEBPACK_IMPORTED_MODULE_4___default().compile(ejsString);
                        htmlString = template(EJSUtil.makeEJSParamsStatic(customEJSParams));
                        return [2 /*return*/, htmlString];
                }
            });
        });
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EJSUtil);


/***/ }),

/***/ "./src/server/ssg/util/fileUtil.ts":
/*!*****************************************!*\
  !*** ./src/server/ssg/util/fileUtil.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ "fs/promises");
/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_3__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




dotenv__WEBPACK_IMPORTED_MODULE_3___default().config();
var FileUtil = {
    read: function (relativeFilePath, rootDir) { return __awaiter(void 0, void 0, void 0, function () {
        var absoluteFilePath, data, err_1;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, 2, , 3]);
                    absoluteFilePath = FileUtil.getAbsoluteFilePath(relativeFilePath, rootDir);
                    return [4 /*yield*/, fs_promises__WEBPACK_IMPORTED_MODULE_1___default().readFile(absoluteFilePath, { encoding: 'utf8' })];
                case 1:
                    data = _a.sent();
                    return [2 /*return*/, data];
                case 2:
                    err_1 = _a.sent();
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_2__["default"].log("Failed to read file", { relativeFilePath: relativeFilePath, err: err_1 }, "high", "pink");
                    return [2 /*return*/, ""];
                case 3: return [2 /*return*/];
            }
        });
    }); },
    write: function (relativeFilePath, content, rootDir) { return __awaiter(void 0, void 0, void 0, function () {
        var absoluteFilePath, err_2;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, 2, , 3]);
                    absoluteFilePath = FileUtil.getAbsoluteFilePath(relativeFilePath, rootDir);
                    //console.log(`Writing ---> ${absoluteFilePath}`);
                    return [4 /*yield*/, fs_promises__WEBPACK_IMPORTED_MODULE_1___default().writeFile(absoluteFilePath, content)];
                case 1:
                    //console.log(`Writing ---> ${absoluteFilePath}`);
                    _a.sent();
                    return [3 /*break*/, 3];
                case 2:
                    err_2 = _a.sent();
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_2__["default"].log("Failed to write file", { relativeFilePath: relativeFilePath, err: err_2 }, "high", "pink");
                    return [3 /*break*/, 3];
                case 3: return [2 /*return*/];
            }
        });
    }); },
    getAllRelativePathsInDirRecursively: function (dir) { return __awaiter(void 0, void 0, void 0, function () {
        var absoluteDirPath, result;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    absoluteDirPath = path__WEBPACK_IMPORTED_MODULE_0___default().join(process.env.PWD, dir);
                    result = [];
                    return [4 /*yield*/, FileUtil.getAllRelativePathsInDirRecursively_internal(absoluteDirPath, [], result)];
                case 1:
                    _a.sent();
                    return [2 /*return*/, result];
            }
        });
    }); },
    getAbsoluteFilePath: function (relativeFilePath, rootDir) {
        if (rootDir == undefined)
            rootDir = process.env.STATIC_PAGE_ROOT_DIR;
        return path__WEBPACK_IMPORTED_MODULE_0___default().join(process.env.PWD, rootDir + "/" + relativeFilePath);
    },
    getAllRelativePathsInDirRecursively_internal: function (absoluteDirPath, subDirs, result) {
        return __awaiter(this, void 0, void 0, function () {
            var fileNames, _i, fileNames_1, fileName, subDirsNew, absoluteFilePath, lstat;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, fs_promises__WEBPACK_IMPORTED_MODULE_1___default().readdir(absoluteDirPath)];
                    case 1:
                        fileNames = _a.sent();
                        _i = 0, fileNames_1 = fileNames;
                        _a.label = 2;
                    case 2:
                        if (!(_i < fileNames_1.length)) return [3 /*break*/, 7];
                        fileName = fileNames_1[_i];
                        subDirsNew = subDirs.concat(fileName);
                        absoluteFilePath = "".concat(absoluteDirPath, "/").concat(fileName);
                        return [4 /*yield*/, fs_promises__WEBPACK_IMPORTED_MODULE_1___default().lstat(absoluteFilePath)];
                    case 3:
                        lstat = _a.sent();
                        if (!lstat.isFile()) return [3 /*break*/, 4];
                        result.push(subDirsNew.join("/"));
                        return [3 /*break*/, 6];
                    case 4: return [4 /*yield*/, FileUtil.getAllRelativePathsInDirRecursively_internal(absoluteFilePath, subDirsNew, result)];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        _i++;
                        return [3 /*break*/, 2];
                    case 7: return [2 /*return*/];
                }
            });
        });
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FileUtil);


/***/ }),

/***/ "./src/server/user/util/userAuthGoogleUtil.ts":
/*!****************************************************!*\
  !*** ./src/server/user/util/userAuthGoogleUtil.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shared_user_types_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/user/types/user */ "./src/shared/user/types/user.ts");
/* harmony import */ var _userTokenUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./userTokenUtil */ "./src/server/user/util/userTokenUtil.ts");
/* harmony import */ var _userSearchUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./userSearchUtil */ "./src/server/user/util/userSearchUtil.ts");
/* harmony import */ var _db_userDB__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../db/userDB */ "./src/server/db/userDB.ts");
/* harmony import */ var _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/user/types/userType */ "./src/shared/user/types/userType.ts");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! crypto */ "crypto");
/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _client_networking_api_restAPI__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../client/networking/api/restAPI */ "./src/client/networking/api/restAPI.ts");
/* harmony import */ var _db_searchDB__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../db/searchDB */ "./src/server/db/searchDB.ts");
/* harmony import */ var _shared_system_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../networking/util/addressUtil */ "./src/server/networking/util/addressUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var dev = process.env.MODE == "dev";
var UserAuthGoogleUtil = {
    login: function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            res.redirect(generateOAuthURL());
            return [2 /*return*/];
        });
    }); },
    loginCallback: function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
        var query, accessTokenRes, accessToken, userInfoRes, userInfo, email, userNameBase, userName, existingUsersResult, sqlUser, numNameCopies, nameConflictingUsersResult, success, err_1;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, 15, , 16]);
                    query = url__WEBPACK_IMPORTED_MODULE_7___default().parse(req.url, true).query;
                    if (!query || !query.code) {
                        res.status(400).send("Google OAuth code not found.");
                        return [2 /*return*/];
                    }
                    return [4 /*yield*/, _client_networking_api_restAPI__WEBPACK_IMPORTED_MODULE_9__["default"].post(generateTokenURL(query.code))];
                case 1:
                    accessTokenRes = _a.sent();
                    if (accessTokenRes.status < 200 || accessTokenRes.status >= 300) {
                        res.status(500).send("Failed to fetch the access token from Google API.");
                        return [2 /*return*/];
                    }
                    accessToken = accessTokenRes.data.access_token;
                    return [4 /*yield*/, _client_networking_api_restAPI__WEBPACK_IMPORTED_MODULE_9__["default"].get(userInfoURL, {
                            headers: {
                                authorization: "Bearer ".concat(accessToken),
                            },
                        })];
                case 2:
                    userInfoRes = _a.sent();
                    if (userInfoRes.status < 200 || userInfoRes.status >= 300) {
                        res.status(500).send("Failed to fetch the user info from Google API.");
                        return [2 /*return*/];
                    }
                    userInfo = userInfoRes.data;
                    email = userInfo.email;
                    if (!email) {
                        res.status(404).send("Email address not found.");
                        return [2 /*return*/];
                    }
                    userNameBase = email.split("@")[0];
                    userName = userNameBase;
                    return [4 /*yield*/, _db_searchDB__WEBPACK_IMPORTED_MODULE_10__["default"].users.withEmail(email)];
                case 3:
                    existingUsersResult = _a.sent();
                    if (!existingUsersResult.success) {
                        res.status(500).send("Internal Server Error");
                        return [2 /*return*/];
                    }
                    sqlUser = null;
                    if (!(existingUsersResult.data.length == 0)) return [3 /*break*/, 10];
                    numNameCopies = 0;
                    _a.label = 4;
                case 4:
                    if (!(!sqlUser && ++numNameCopies <= 5)) return [3 /*break*/, 9];
                    if (numNameCopies >= 2)
                        userName = "".concat(userNameBase, "#").concat(numNameCopies);
                    return [4 /*yield*/, _db_searchDB__WEBPACK_IMPORTED_MODULE_10__["default"].users.withUserName(userName)];
                case 5:
                    nameConflictingUsersResult = _a.sent();
                    if (!nameConflictingUsersResult.success) {
                        res.status(500).send("Internal Server Error");
                        return [2 /*return*/];
                    }
                    if (!(nameConflictingUsersResult.data.length == 0)) return [3 /*break*/, 8];
                    return [4 /*yield*/, _db_userDB__WEBPACK_IMPORTED_MODULE_5__["default"].createUser(userName, _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_6__.UserTypeEnumMap.Member, "", email)];
                case 6:
                    success = _a.sent();
                    if (!success) {
                        res.status(500).send("Internal Server Error (during registration)");
                        return [2 /*return*/];
                    }
                    return [4 /*yield*/, _userSearchUtil__WEBPACK_IMPORTED_MODULE_4__["default"].findExistingUserByUserName(userName, res)];
                case 7:
                    sqlUser = _a.sent();
                    if (!sqlUser)
                        return [2 /*return*/];
                    _a.label = 8;
                case 8: return [3 /*break*/, 4];
                case 9:
                    if (!sqlUser) {
                        res.status(500).send("Username \"".concat(userNameBase, "\" is used too many times."));
                        return [2 /*return*/];
                    }
                    return [3 /*break*/, 11];
                case 10:
                    sqlUser = existingUsersResult.data[0];
                    _a.label = 11;
                case 11:
                    if (!sqlUser) return [3 /*break*/, 13];
                    return [4 /*yield*/, _userTokenUtil__WEBPACK_IMPORTED_MODULE_3__["default"].addTokenToUser(_shared_user_types_user__WEBPACK_IMPORTED_MODULE_2__["default"].fromSQL(sqlUser), req, res)];
                case 12:
                    _a.sent();
                    return [3 /*break*/, 14];
                case 13:
                    res.status(500).send("Internal Server Error");
                    _a.label = 14;
                case 14: return [3 /*break*/, 16];
                case 15:
                    err_1 = _a.sent();
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Login Error", { err: err_1 }, "high", "pink");
                    res.status(500).send("ERROR: Failed to login (".concat(err_1, ")."));
                    return [3 /*break*/, 16];
                case 16: return [2 /*return*/];
            }
        });
    }); },
};
var clientId = process.env.GOOGLE_OAUTH_CLIENT_ID;
var clientSecret = process.env.GOOGLE_OAUTH_CLIENT_SECRET;
var baseURL = dev ? "http://".concat(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_12__["default"].getLocalIpAddress(), ":").concat(process.env.PORT) : process.env.URL_DYNAMIC;
var redirectURL = "".concat(baseURL, "/").concat(_shared_system_constants__WEBPACK_IMPORTED_MODULE_11__.USER_API_ROUTE_PATH, "/login_google_callback");
var userInfoURL = "https://www.googleapis.com/oauth2/v3/userinfo?alt=json";
function generateOAuthURL() {
    return "https://accounts.google.com/o/oauth2/v2/auth?client_id=".concat(clientId, "&response_type=code&redirect_uri=").concat(redirectURL, "&scope=openid%20profile%20email&access_type=offline&state=").concat(crypto__WEBPACK_IMPORTED_MODULE_8___default().randomUUID(), "&prompt=consent");
}
function generateTokenURL(code) {
    return "https://oauth2.googleapis.com/token?code=".concat(code, "&client_id=").concat(clientId, "&client_secret=").concat(clientSecret, "&redirect_uri=").concat(redirectURL, "&grant_type=authorization_code");
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserAuthGoogleUtil);


/***/ }),

/***/ "./src/server/user/util/userAuthPasswordUtil.ts":
/*!******************************************************!*\
  !*** ./src/server/user/util/userAuthPasswordUtil.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcrypt */ "bcrypt");
/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _shared_user_types_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/user/types/user */ "./src/shared/user/types/user.ts");
/* harmony import */ var _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/user/types/userType */ "./src/shared/user/types/userType.ts");
/* harmony import */ var _userTokenUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./userTokenUtil */ "./src/server/user/util/userTokenUtil.ts");
/* harmony import */ var _userSearchUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./userSearchUtil */ "./src/server/user/util/userSearchUtil.ts");
/* harmony import */ var _shared_user_util_userInputValidator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/user/util/userInputValidator */ "./src/shared/user/util/userInputValidator.ts");
/* harmony import */ var _shared_localization_util_locUtil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/localization/util/locUtil */ "./src/shared/localization/util/locUtil.ts");
/* harmony import */ var _db_searchDB__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../db/searchDB */ "./src/server/db/searchDB.ts");
/* harmony import */ var _db_userDB__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../db/userDB */ "./src/server/db/userDB.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};











dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var dev = process.env.MODE == "dev";
var UserAuthPasswordUtil = {
    register: function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
        var existingUsersResult, passwordHash, success, sqlUser, err_1;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, 6, , 7]);
                    if (!validateUserNameAndPassword(req, res))
                        return [2 /*return*/];
                    return [4 /*yield*/, _db_searchDB__WEBPACK_IMPORTED_MODULE_9__["default"].users.withUserNameOrEmail(req.body.userName, "test@example.com")];
                case 1:
                    existingUsersResult = _a.sent();
                    if (!existingUsersResult.success) {
                        res.status(500).send("Internal Server Error (during search)");
                        return [2 /*return*/];
                    }
                    if (existingUsersResult.data.length > 0) {
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("User already exists", {
                            userName: req.body.userName,
                            email: "test@example.com",
                            existingUser: existingUsersResult.data[0]
                        }, "high", "pink");
                        res.status(403).send("User \"".concat(req.body.userName, "\" (").concat("test@example.com", ") already exists."));
                        return [2 /*return*/];
                    }
                    return [4 /*yield*/, bcrypt__WEBPACK_IMPORTED_MODULE_2___default().hash(req.body.password, 10)];
                case 2:
                    passwordHash = _a.sent();
                    return [4 /*yield*/, _db_userDB__WEBPACK_IMPORTED_MODULE_10__["default"].createUser(req.body.userName, _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_4__.UserTypeEnumMap.Member, passwordHash, "test@example.com")];
                case 3:
                    success = _a.sent();
                    if (!success) {
                        res.status(500).send("Internal Server Error (during registration)");
                        return [2 /*return*/];
                    }
                    return [4 /*yield*/, _userSearchUtil__WEBPACK_IMPORTED_MODULE_6__["default"].findExistingUserByUserName(req.body.userName, res)];
                case 4:
                    sqlUser = _a.sent();
                    if (!sqlUser)
                        return [2 /*return*/];
                    return [4 /*yield*/, _userTokenUtil__WEBPACK_IMPORTED_MODULE_5__["default"].addTokenToUser(_shared_user_types_user__WEBPACK_IMPORTED_MODULE_3__["default"].fromSQL(sqlUser), req, res)];
                case 5:
                    _a.sent();
                    return [3 /*break*/, 7];
                case 6:
                    err_1 = _a.sent();
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("User Registration Error", { err: err_1 }, "high", "pink");
                    res.status(500).send("ERROR: Failed to register the user (".concat(err_1, ")."));
                    return [3 /*break*/, 7];
                case 7: return [2 /*return*/];
            }
        });
    }); },
    login: function (req, res) { return __awaiter(void 0, void 0, void 0, function () {
        var sqlUser, passwordIsValid, err_2;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, 4, , 5]);
                    if (!validateUserNameAndPassword(req, res))
                        return [2 /*return*/];
                    return [4 /*yield*/, _userSearchUtil__WEBPACK_IMPORTED_MODULE_6__["default"].findExistingUserByUserName(req.body.userName, res)];
                case 1:
                    sqlUser = _a.sent();
                    if (!sqlUser)
                        return [2 /*return*/];
                    return [4 /*yield*/, bcrypt__WEBPACK_IMPORTED_MODULE_2___default().compare(req.body.password, sqlUser.passwordHash)];
                case 2:
                    passwordIsValid = _a.sent();
                    if (!passwordIsValid) {
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Wrong password", { passwordEntered: (dev ? req.body.password : "(HIDDEN)"), passwordHash: sqlUser.passwordHash }, "high", "pink");
                        res.status(401).send("Wrong password.");
                        return [2 /*return*/];
                    }
                    return [4 /*yield*/, _userTokenUtil__WEBPACK_IMPORTED_MODULE_5__["default"].addTokenToUser(_shared_user_types_user__WEBPACK_IMPORTED_MODULE_3__["default"].fromSQL(sqlUser), req, res)];
                case 3:
                    _a.sent();
                    return [3 /*break*/, 5];
                case 4:
                    err_2 = _a.sent();
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Login Error", { err: err_2 }, "high", "pink");
                    res.status(500).send("ERROR: Failed to login (".concat(err_2, ")."));
                    return [3 /*break*/, 5];
                case 5: return [2 /*return*/];
            }
        });
    }); },
};
function validateUserNameAndPassword(req, res) {
    var userNameError = _shared_user_util_userInputValidator__WEBPACK_IMPORTED_MODULE_7__["default"].findErrorInUserName(req.body.userName);
    if (userNameError != null) {
        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("UserName Error", { userName: req.body.userName, userNameError: userNameError }, "high", "pink");
        res.status(400).send((0,_shared_localization_util_locUtil__WEBPACK_IMPORTED_MODULE_8__.localize)(userNameError));
        return false;
    }
    var passwordError = _shared_user_util_userInputValidator__WEBPACK_IMPORTED_MODULE_7__["default"].findErrorInPassword(req.body.password);
    if (passwordError != null) {
        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Password Error", { password: (dev ? req.body.password : "(HIDDEN)"), passwordError: passwordError }, "high", "pink");
        res.status(400).send((0,_shared_localization_util_locUtil__WEBPACK_IMPORTED_MODULE_8__.localize)(passwordError));
        return false;
    }
    return true;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserAuthPasswordUtil);


/***/ }),

/***/ "./src/server/user/util/userIdentificationUtil.ts":
/*!********************************************************!*\
  !*** ./src/server/user/util/userIdentificationUtil.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shared_user_types_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/user/types/user */ "./src/shared/user/types/user.ts");
/* harmony import */ var _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/user/types/userType */ "./src/shared/user/types/userType.ts");
/* harmony import */ var _userTokenUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./userTokenUtil */ "./src/server/user/util/userTokenUtil.ts");
/* harmony import */ var _userSearchUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./userSearchUtil */ "./src/server/user/util/userSearchUtil.ts");
/* harmony import */ var _networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../networking/util/cookieUtil */ "./src/server/networking/util/cookieUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var cyclicCounter = 0;
var UserIdentificationUtil = {
    identifyAdmin: function (req, res, next) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, identifyUserFromReq(req, res, function (user) { return user.userType == _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__.UserTypeEnumMap.Admin; }, next)];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    }); },
    identifyRegisteredUser: function (req, res, next) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, identifyUserFromReq(req, res, function (user) { return user.userType == _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__.UserTypeEnumMap.Admin ||
                        user.userType == _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__.UserTypeEnumMap.Member; }, next)];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    }); },
    identifyAnyUser: function (req, res, next) { return __awaiter(void 0, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, identifyUserFromReq(req, res, function (_) { return true; }, next)];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    }); },
};
function identifyUserFromReq(req, res, passCondition, next) {
    return __awaiter(this, void 0, void 0, function () {
        var user, _a, sqlUser, latestUser, err_1, err_2;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    user = getUserFromReq(req);
                    if (!user) return [3 /*break*/, 10];
                    if (!passCondition(user)) {
                        _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("User doesn't satisfy the pass-condition.", { user: user }, "high", "pink");
                        res.status(403).send("User doesn't satisfy the pass-condition.");
                        return [2 /*return*/, false];
                    }
                    _a = user.userType;
                    switch (_a) {
                        case _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__.UserTypeEnumMap.Admin: return [3 /*break*/, 1];
                        case _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__.UserTypeEnumMap.Member: return [3 /*break*/, 1];
                        case _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__.UserTypeEnumMap.Guest: return [3 /*break*/, 5];
                    }
                    return [3 /*break*/, 8];
                case 1:
                    _b.trys.push([1, 4, , 5]);
                    return [4 /*yield*/, _userSearchUtil__WEBPACK_IMPORTED_MODULE_5__["default"].findExistingUserByUserName(user.userName, res)];
                case 2:
                    sqlUser = _b.sent();
                    if (!sqlUser)
                        return [2 /*return*/, false];
                    latestUser = _shared_user_types_user__WEBPACK_IMPORTED_MODULE_2__["default"].fromSQL(sqlUser);
                    return [4 /*yield*/, _userTokenUtil__WEBPACK_IMPORTED_MODULE_4__["default"].addTokenToUser(latestUser, req, res)];
                case 3:
                    _b.sent();
                    req.userString = latestUser.toString();
                    next();
                    return [2 /*return*/, true];
                case 4:
                    err_1 = _b.sent();
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Failed to process a registered user", { err: err_1 }, "high", "pink");
                    res.status(401).send("Failed to process a registered user (error: ".concat(err_1, ")"));
                    return [2 /*return*/, false];
                case 5:
                    _b.trys.push([5, 7, , 8]);
                    return [4 /*yield*/, _userTokenUtil__WEBPACK_IMPORTED_MODULE_4__["default"].addTokenToUser(user, req, res)];
                case 6:
                    _b.sent();
                    req.userString = user.toString();
                    next();
                    return [2 /*return*/, true];
                case 7:
                    err_2 = _b.sent();
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Failed to add token (guest)", { err: err_2 }, "high", "pink");
                    res.status(401).send("Failed to add token (error: ".concat(err_2, ")"));
                    return [2 /*return*/, false];
                case 8:
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Unknown user type", { userType: user.userType }, "high", "pink");
                    res.status(500).send("Unknown user type :: ".concat(user.userType, " (user: ").concat(user.toString(), ")"));
                    return [2 /*return*/, false];
                case 9: return [3 /*break*/, 11];
                case 10:
                    _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].logRaw("Failed to identify the user", "high", "pink");
                    res.status(401).send("Failed to identify the user");
                    return [2 /*return*/, false];
                case 11: return [2 /*return*/];
            }
        });
    });
}
function getUserFromReq(req) {
    var user = undefined;
    var token = req.cookies[_networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_6__["default"].getAuthTokenName()];
    if (token)
        user = _userTokenUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getUserFromToken(token); // Try to fetch the previously authenticated user (if there is one).
    if (!user) {
        // If no previously authenticated user is found,
        // just generate a random user and make a guest-token for it.
        // We will keep using this guest-token until the client either creates his/her own account or logs in.
        var uniqueInt = ((Math.floor(Date.now() / 1000) - 1768000000) * 10) + cyclicCounter;
        cyclicCounter = (cyclicCounter + 1) % 10;
        var uniqueHex = uniqueInt.toString(16);
        var guestName = "Guest-".concat(uniqueHex);
        user = new _shared_user_types_user__WEBPACK_IMPORTED_MODULE_2__["default"](0, guestName, _shared_user_types_userType__WEBPACK_IMPORTED_MODULE_3__.UserTypeEnumMap.Guest, "", 0);
    }
    return user;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserIdentificationUtil);


/***/ }),

/***/ "./src/server/user/util/userSearchUtil.ts":
/*!************************************************!*\
  !*** ./src/server/user/util/userSearchUtil.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _db_searchDB__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../db/searchDB */ "./src/server/db/searchDB.ts");
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../networking/util/cookieUtil */ "./src/server/networking/util/cookieUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};




dotenv__WEBPACK_IMPORTED_MODULE_2___default().config();
var UserSearchUtil = {
    findExistingUserByUserName: function (userName_1, res_1) {
        var args_1 = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args_1[_i - 2] = arguments[_i];
        }
        return __awaiter(void 0, __spreadArray([userName_1, res_1], args_1, true), void 0, function (userName, res, ignoreNotFoundError) {
            var existingUsersResult;
            if (ignoreNotFoundError === void 0) { ignoreNotFoundError = false; }
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _db_searchDB__WEBPACK_IMPORTED_MODULE_0__["default"].users.withUserName(userName)];
                    case 1:
                        existingUsersResult = _a.sent();
                        if (!existingUsersResult.success) {
                            res === null || res === void 0 ? void 0 : res.status(500).send("Internal Server Error");
                            return [2 /*return*/, null];
                        }
                        if (existingUsersResult.data.length == 0) {
                            if (!ignoreNotFoundError) {
                                _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_1__["default"].log("User Not Found", { userName: userName }, "high", "pink");
                                res === null || res === void 0 ? void 0 : res.clearCookie(_networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_3__["default"].getAuthTokenName()).status(404).send("There is no account with userName \"".concat(userName, "\"."));
                            }
                            return [2 /*return*/, null];
                        }
                        return [2 /*return*/, existingUsersResult.data[0]];
                }
            });
        });
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserSearchUtil);


/***/ }),

/***/ "./src/server/user/util/userTokenUtil.ts":
/*!***********************************************!*\
  !*** ./src/server/user/util/userTokenUtil.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/util/serverLogUtil */ "./src/server/networking/util/serverLogUtil.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _shared_user_types_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/user/types/user */ "./src/shared/user/types/user.ts");
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ "jsonwebtoken");
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../networking/util/cookieUtil */ "./src/server/networking/util/cookieUtil.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





dotenv__WEBPACK_IMPORTED_MODULE_1___default().config();
var dev = process.env.MODE == "dev";
var UserTokenUtil = {
    getUserFromToken: function (token) {
        try {
            var userString = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().verify(token, process.env.JWT_SECRET_KEY);
            if (userString) {
                return _shared_user_types_user__WEBPACK_IMPORTED_MODULE_2__["default"].fromString(userString);
            }
            else {
                _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("User is not found in the given token.", { tokenLength: token.length }, "high", "yellow");
                return undefined;
            }
        }
        catch (err) {
            _networking_util_serverLogUtil__WEBPACK_IMPORTED_MODULE_0__["default"].log("Token Verification Failed", { err: err }, "high", "pink");
            return undefined;
        }
    },
    addTokenToUser: function (user, req, res) { return __awaiter(void 0, void 0, void 0, function () {
        var token;
        return __generator(this, function (_a) {
            token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default().sign(user.toString(), process.env.JWT_SECRET_KEY);
            res === null || res === void 0 ? void 0 : res.cookie(_networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getAuthTokenName(), token, {
                secure: dev ? false : true,
                httpOnly: true,
                sameSite: dev ? "lax" : "strict",
                maxAge: 3155692600000, // 100 years
            }).status(201);
            return [2 /*return*/];
        });
    }); },
    clearTokenFromUser: function (req, res) {
        res.clearCookie(_networking_util_cookieUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getAuthTokenName()).status(200);
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserTokenUtil);


/***/ }),

/***/ "./src/shared/embeddedScripts/config/uiConfig.js":
/*!*******************************************************!*\
  !*** ./src/shared/embeddedScripts/config/uiConfig.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const UIConfig =
{
    displayText: {
        pageName: {
            "index": "Home", // static
            "arcade": "Arcade", // static
            "library": "Library", // static
            "portfolio": "Portfolio", // static
            "register": "Create Account", // dynamic
            "login": "Log In", // dynamic
            "mypage": "Portal", // dynamic
        },
        message: {
            "error/userName/length": "Username must be between 4 and 16 characters long.",
            "error/userName/chars": "Username can only contain alphabets, numbers, and underbar(_).",
            "error/password/length": "Password must be between 6 and 24 characters long.",
            "error/password/chars": "Password can only contain alphabets, numbers, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",
            "error/email/length": "Email address must not contain more than 64 characters.",
            "error/email/chars": "Please enter a valid email address.",
            "error/roomName/length": "Room name must be between 4 and 64 characters long.",
            "error/roomName/chars": "Room name can only contain alphabets, numbers, spaces, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",

            "rule/userName/length": "Username must be between 4 and 16 characters long.",
            "rule/userName/chars": "Username can only contain alphabets, numbers, and underbar(_).",
            "rule/password/length": "Password must be between 6 and 24 characters long.",
            "rule/password/chars": "Password can only contain alphabets, numbers, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",
            "rule/email/length": "Email address must not contain more than 64 characters.",
            "rule/roomName/length": "Room name must be between 4 and 64 characters long.",
            "rule/roomName/chars": "Room name can only contain alphabets, numbers, spaces, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",
        },
    },
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UIConfig);

/***/ }),

/***/ "./src/shared/embeddedScripts/util/textUtil.js":
/*!*****************************************************!*\
  !*** ./src/shared/embeddedScripts/util/textUtil.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const TextUtil =
{
    // character escape

    escapeHTMLChars: (text) =>
    {
        return text
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;")
            .replaceAll("\n", "<br>")
            .replaceAll(" ", "&nbsp;");
    },

    // input validation

    findErrorInUserName: (text) =>
    {
        if (text.length < 4 || text.length > 16)
            return "error/userName/length";
        if (text != TextUtil.sanitizeUserName(text))
            return "error/userName/chars";
        return null;
    },
    findErrorInPassword: (text) =>
    {
        if (text.length < 6 || text.length > 24)
            return "error/password/length";
        if (text != TextUtil.sanitizePassword(text))
            return "error/password/chars";
        return null;
    },
    findErrorInEmailAddress: (text) =>
    {
        if (text.length > 64)
            return "error/email/length";
        const regex = /^[^\s@]+@[^\s@]+.[^\s@]+$/;
        if (!regex.test(text))
            return "error/email/chars"
        return null;
    },
    findErrorInRoomName: (text) =>
    {
        if (text.length < 4 || text.length > 64)
            return "error/roomName/length";
        if (text != TextUtil.sanitizeRoomName(text))
            return "error/roomName/chars";
        return null;
    },
    
    sanitizeUserName: (text) =>
    {
        if (text.length > 16)
            text = text.substring(0, 16);
        return text.replace(/[^a-zA-Z0-9_]/g, "");
    },
    sanitizePassword: (text) =>
    {
        if (text.length > 24)
            text = text.substring(0, 24);
        return text.replace(/[^a-zA-Z0-9~`!@#\$%\^&\*\(\)-_\+=\{\[\}\]\|\\:;"'<>,\.\?\/]/g, "");
    },
    sanitizeRoomName: (text) =>
    {
        return TextUtil.sanitizeRoomNameWithoutTrimming(text).trim();
    },
    sanitizeRoomNameWithoutTrimming: (text) =>
    {
        if (text.length > 64)
            text = text.substring(0, 64);
        return text.replace(/[^a-zA-Z0-9~`!@#\$%\^&\*\(\)-_\+=\{\[\}\]\|\\:;"'<>,\.\?\/\s]/g, "")
            .replace(/\s+/g, " "); // replace multiple consecutive spaces with a single space.
    },
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextUtil);

/***/ }),

/***/ "./src/shared/localization/util/locUtil.ts":
/*!*************************************************!*\
  !*** ./src/shared/localization/util/locUtil.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   localize: () => (/* binding */ localize),
/* harmony export */   setLang: () => (/* binding */ setLang)
/* harmony export */ });
var lang = "en";
function localize(locKey) {
    var _a;
    return (_a = locMapByLang[lang][locKey]) !== null && _a !== void 0 ? _a : locKey;
}
function setLang(newLang) {
    lang = newLang;
}
var locMap_en = {
    "auth/error/userName/length": "Username must be between 4 and 16 characters long.",
    "auth/error/userName/chars": "Username can only contain alphabets, numbers, and underbar(_).",
    "auth/error/password/length": "Password must be between 6 and 24 characters long.",
    "auth/error/password/chars": "Password can only contain alphabets, numbers, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",
    "auth/error/email/length": "Email address must not contain more than 64 characters.",
    "auth/error/email/chars": "Please enter a valid email address.",
    "auth/error/roomName/length": "Room name must be between 4 and 64 characters long.",
    "auth/error/roomName/chars": "Room name can only contain alphabets, numbers, spaces, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",
    "auth/rule/userName/length": "Username must be between 4 and 16 characters long.",
    "auth/rule/userName/chars": "Username can only contain alphabets, numbers, and underbar(_).",
    "auth/rule/password/length": "Password must be between 6 and 24 characters long.",
    "auth/rule/password/chars": "Password can only contain alphabets, numbers, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",
    "auth/rule/email/length": "Email address must not contain more than 64 characters.",
    "auth/rule/roomName/length": "Room name must be between 4 and 64 characters long.",
    "auth/rule/roomName/chars": "Room name can only contain alphabets, numbers, spaces, and the following special characters: ~`!@#$%^&*()-_+={}[]|\\:;\"'<>,.?/",
};
var locMapByLang = {
    "en": locMap_en,
};


/***/ }),

/***/ "./src/shared/math/util/geometry2D.ts":
/*!********************************************!*\
  !*** ./src/shared/math/util/geometry2D.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vector2D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vector2D */ "./src/shared/math/util/vector2D.ts");

var Geometry2D = {
    // Returns the AABB-casting ray's scale factor which, when applied to the ray,
    // pushes the source AABB to end up at the point of collision
    // between itself and the target AABB.
    // (Returns 1 when the source AABB doesn't hit the target AABB)
    castAABBAgainstAABB: function (source, destination, target) {
        var x1 = target.x - target.halfSizeX - source.halfSizeX;
        var y1 = target.y - target.halfSizeY - source.halfSizeY;
        var x2 = target.x + target.halfSizeX + source.halfSizeX;
        var y2 = target.y + target.halfSizeY + source.halfSizeY;
        var bottomLeftCorner = { x: x1, y: y1 };
        var bottomRightCorner = { x: x2, y: y1 };
        var topLeftCorner = { x: x1, y: y2 };
        var topRightCorner = { x: x2, y: y2 };
        var bottom = { start: bottomLeftCorner, end: bottomRightCorner };
        var right = { start: bottomRightCorner, end: topRightCorner };
        var top = { start: topRightCorner, end: topLeftCorner };
        var left = { start: topLeftCorner, end: bottomLeftCorner };
        var circleStart = { x: source.x, y: source.y };
        var ray = { start: circleStart, end: destination };
        var minHitRayScale = 1;
        var hitRayScale;
        var hitLine;
        hitRayScale = Math.min(minHitRayScale, Geometry2D.raycastToLine(ray, bottom, true));
        if (hitRayScale < minHitRayScale) {
            minHitRayScale = hitRayScale;
            hitLine = bottom;
        }
        hitRayScale = Math.min(minHitRayScale, Geometry2D.raycastToLine(ray, right, true));
        if (hitRayScale < minHitRayScale) {
            minHitRayScale = hitRayScale;
            hitLine = right;
        }
        hitRayScale = Math.min(minHitRayScale, Geometry2D.raycastToLine(ray, top, true));
        if (hitRayScale < minHitRayScale) {
            minHitRayScale = hitRayScale;
            hitLine = top;
        }
        hitRayScale = Math.min(minHitRayScale, Geometry2D.raycastToLine(ray, left, true));
        if (hitRayScale < minHitRayScale) {
            minHitRayScale = hitRayScale;
            hitLine = left;
        }
        return { hitRayScale: minHitRayScale, hitLine: hitLine };
    },
    // Returns the ray's scale factor which, when applied to the ray,
    // makes the ray end up at the point of intersection
    // between itself and the target line segment.
    // (Returns 1 when the ray doesn't hit the line)
    raycastToLine: function (ray, line, hitLineFromRightSideOnly) {
        if (hitLineFromRightSideOnly === void 0) { hitLineFromRightSideOnly = false; }
        var rayFromTo = _vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(ray.end, ray.start);
        var lineFromTo = _vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(line.end, line.start);
        var cross = _vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].cross(rayFromTo, lineFromTo);
        if (cross == 0)
            return 1;
        if (hitLineFromRightSideOnly && cross > 0)
            return 1;
        var crossInverse = 1 / cross;
        var startDiff = _vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(line.start, ray.start);
        var rayScale = _vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].cross(startDiff, lineFromTo) * crossInverse;
        var lineScale = _vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].cross(startDiff, rayFromTo) * crossInverse;
        if (rayScale < 0 || rayScale > 1 || lineScale < 0 || lineScale > 1)
            return 1;
        return rayScale;
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Geometry2D);


/***/ }),

/***/ "./src/shared/math/util/num.ts":
/*!*************************************!*\
  !*** ./src/shared/math/util/num.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var Num = {
    normalizeInRange: function (n, min, max) {
        return (Num.clampInRange(n, min, max) - min) / (max - min);
    },
    clampInRange: function (n, min, max) {
        return Math.max(min, Math.min(max, n));
    },
    normalizeInRangeWithWarning: function (n, min, max) {
        return (Num.clampInRangeWithWarning(n, min, max) - min) / (max - min);
    },
    clampInRangeWithWarning: function (n, min, max) {
        if (n < min || n > max)
            console.warn("'n' is out of its expected range (n = ".concat(n, ", min = ").concat(min, ", max = ").concat(max, ")"));
        return Math.max(min, Math.min(max, n));
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Num);


/***/ }),

/***/ "./src/shared/math/util/vector2D.ts":
/*!******************************************!*\
  !*** ./src/shared/math/util/vector2D.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var Vector2D = {
    normalize: function (v) {
        var length = Math.sqrt(v.x * v.x + v.y * v.y);
        if (length == 0)
            return { x: 0, y: 0 };
        var lengthInv = 1 / length;
        return { x: v.x * lengthInv, y: v.y * lengthInv };
    },
    scale: function (v, scaleFactor) {
        return { x: v.x * scaleFactor, y: v.y * scaleFactor };
    },
    add: function (v1, v2) {
        return { x: v1.x + v2.x, y: v1.y + v2.y };
    },
    subtract: function (v1, v2) {
        return { x: v1.x - v2.x, y: v1.y - v2.y };
    },
    cross: function (v1, v2) {
        return v1.x * v2.y - v1.y * v2.x;
    },
    dot: function (v1, v2) {
        return v1.x * v2.x + v1.y * v2.y;
    },
    length: function (v) {
        return Math.sqrt(v.x * v.x + v.y * v.y);
    },
    distSqr: function (v1, v2) {
        var dx = v2.x - v1.x;
        var dy = v2.y - v1.y;
        return dx * dx + dy * dy;
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Vector2D);


/***/ }),

/***/ "./src/shared/networking/maps/signalTypeConfigMap.ts":
/*!***********************************************************!*\
  !*** ./src/shared/networking/maps/signalTypeConfigMap.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object_types_objectDespawnParams__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../object/types/objectDespawnParams */ "./src/shared/object/types/objectDespawnParams.ts");
/* harmony import */ var _object_types_objectDesyncResolveParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../object/types/objectDesyncResolveParams */ "./src/shared/object/types/objectDesyncResolveParams.ts");
/* harmony import */ var _object_types_objectMessageParams__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../object/types/objectMessageParams */ "./src/shared/object/types/objectMessageParams.ts");
/* harmony import */ var _object_types_objectSpawnParams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../object/types/objectSpawnParams */ "./src/shared/object/types/objectSpawnParams.ts");
/* harmony import */ var _object_types_objectSyncParams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../object/types/objectSyncParams */ "./src/shared/object/types/objectSyncParams.ts");
/* harmony import */ var _room_types_roomChangeRequestParams__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../room/types/roomChangeRequestParams */ "./src/shared/room/types/roomChangeRequestParams.ts");
/* harmony import */ var _room_types_roomRuntimeMemory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../room/types/roomRuntimeMemory */ "./src/shared/room/types/roomRuntimeMemory.ts");
/* harmony import */ var _voxel_types_update_updateVoxelGridParams__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../voxel/types/update/updateVoxelGridParams */ "./src/shared/voxel/types/update/updateVoxelGridParams.ts");








var signalTypeConfigPairs = [
    [0, {
            signalType: "objectDespawnParams",
            decode: function (bufferState) { return _object_types_objectDespawnParams__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState); },
        }],
    [1, {
            signalType: "objectDesyncResolveParams",
            decode: function (bufferState) { return _object_types_objectDesyncResolveParams__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState); },
        }],
    [2, {
            signalType: "objectMessageParams",
            decode: function (bufferState) { return _object_types_objectMessageParams__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState); },
        }],
    [3, {
            signalType: "objectSpawnParams",
            decode: function (bufferState) { return _object_types_objectSpawnParams__WEBPACK_IMPORTED_MODULE_3__["default"].decode(bufferState); },
        }],
    [4, {
            signalType: "objectSyncParams",
            decode: function (bufferState) { return _object_types_objectSyncParams__WEBPACK_IMPORTED_MODULE_4__["default"].decode(bufferState); },
        }],
    [5, {
            signalType: "roomChangeRequestParams",
            decode: function (bufferState) { return _room_types_roomChangeRequestParams__WEBPACK_IMPORTED_MODULE_5__["default"].decode(bufferState); },
        }],
    [6, {
            signalType: "roomRuntimeMemory",
            decode: function (bufferState) { return _room_types_roomRuntimeMemory__WEBPACK_IMPORTED_MODULE_6__["default"].decode(bufferState); },
        }],
    [7, {
            signalType: "updateVoxelGridParams",
            decode: function (bufferState) { return _voxel_types_update_updateVoxelGridParams__WEBPACK_IMPORTED_MODULE_7__["default"].decode(bufferState); },
        }],
];
var indexToConfig = {};
var typeToIndex = {};
signalTypeConfigPairs.forEach(function (pair) {
    if (pair[0] < 0 || pair[0] > 255)
        throw new Error("Signal type index is outside of its valid range (".concat(pair[0], ")"));
    indexToConfig[pair[0]] = pair[1];
    typeToIndex[pair[1].signalType] = pair[0];
});
var SignalTypeConfigMap = {
    getConfigByIndex: function (signalTypeIndex) {
        var config = indexToConfig[signalTypeIndex];
        if (config == undefined)
            console.error("getConfigByIndex :: Invalid signal type index (signalTypeIndex = ".concat(signalTypeIndex, ")"));
        return config;
    },
    getIndexByType: function (signalType) {
        var signalTypeIndex = typeToIndex[signalType];
        if (signalTypeIndex == undefined)
            console.error("getIndexByType :: Invalid signal type (signalType = ".concat(signalType, ")"));
        return signalTypeIndex;
    },
    getMaxIndex: function () {
        return signalTypeConfigPairs
            .map(function (pair) { return pair[0]; })
            .reduce(function (prev, curr) { return curr >= prev ? curr : prev; });
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SignalTypeConfigMap);


/***/ }),

/***/ "./src/shared/networking/types/bufferState.ts":
/*!****************************************************!*\
  !*** ./src/shared/networking/types/bufferState.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var BufferState = /** @class */ (function () {
    function BufferState(view, byteIndex) {
        if (byteIndex === void 0) { byteIndex = 0; }
        this.view = view;
        this.byteIndex = byteIndex;
    }
    return BufferState;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BufferState);


/***/ }),

/***/ "./src/shared/networking/types/encodableArray.ts":
/*!*******************************************************!*\
  !*** ./src/shared/networking/types/encodableArray.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
/* harmony import */ var _encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./encodableRaw2ByteNumber */ "./src/shared/networking/types/encodableRaw2ByteNumber.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var temp_elementDecodeMethod;
var temp_lengthLimit = 0;
var EncodableArray = /** @class */ (function (_super) {
    __extends(EncodableArray, _super);
    function EncodableArray(arr, lengthLimit) {
        var _this = _super.call(this) || this;
        _this.arr = arr;
        _this.lengthLimit = lengthLimit;
        return _this;
    }
    EncodableArray.prototype.encode = function (bufferState) {
        if (this.arr.length > this.lengthLimit)
            console.error("Encodable data array's length limit exceeded (length = ".concat(this.arr.length, ", lengthLimit = ").concat(this.lengthLimit, ")"));
        var length = Math.min(this.arr.length, this.lengthLimit);
        if (this.lengthLimit <= 255)
            new _encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](length).encode(bufferState);
        else if (this.lengthLimit <= 65535)
            new _encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_2__["default"](length).encode(bufferState);
        else
            throw new Error("Length limit of ".concat(this.lengthLimit, " is not supported."));
        for (var i = 0; i < length; ++i)
            this.arr[i].encode(bufferState);
    };
    EncodableArray.decodeWithParams = function (bufferState, elementDecodeMethod, lengthLimit) {
        temp_elementDecodeMethod = elementDecodeMethod;
        temp_lengthLimit = lengthLimit;
        return EncodableArray.decode(bufferState);
    };
    EncodableArray.decode = function (bufferState) {
        var length = 0;
        if (temp_lengthLimit < 256)
            length = _encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
        else if (temp_lengthLimit < 65536)
            length = _encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState).n;
        else
            throw new Error("Length limit of ".concat(temp_lengthLimit, " is not supported."));
        var arr = new Array(length);
        for (var i = 0; i < length; ++i)
            arr[i] = temp_elementDecodeMethod(bufferState);
        return new EncodableArray(arr, temp_lengthLimit);
    };
    return EncodableArray;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableArray);


/***/ }),

/***/ "./src/shared/networking/types/encodableByteNumber.ts":
/*!************************************************************!*\
  !*** ./src/shared/networking/types/encodableByteNumber.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _math_util_num__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../math/util/num */ "./src/shared/math/util/num.ts");
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var temp_min = 0;
var temp_max = 0;
var EncodableByteNumber = /** @class */ (function (_super) {
    __extends(EncodableByteNumber, _super);
    function EncodableByteNumber(n, min, max) {
        var _this = _super.call(this) || this;
        _this.n = n;
        _this.min = min;
        _this.max = max;
        return _this;
    }
    EncodableByteNumber.prototype.encode = function (bufferState) {
        bufferState.view[bufferState.byteIndex++] = Math.floor(_math_util_num__WEBPACK_IMPORTED_MODULE_0__["default"].normalizeInRangeWithWarning(this.n, this.min, this.max) * 255.9999);
    };
    EncodableByteNumber.decodeWithParams = function (bufferState, min, max) {
        temp_min = min;
        temp_max = max;
        return EncodableByteNumber.decode(bufferState);
    };
    EncodableByteNumber.decode = function (bufferState) {
        return new EncodableByteNumber(temp_min + bufferState.view[bufferState.byteIndex++] * (temp_max - temp_min) / 255.9999, temp_min, temp_max);
    };
    return EncodableByteNumber;
}(_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableByteNumber);


/***/ }),

/***/ "./src/shared/networking/types/encodableByteString.ts":
/*!************************************************************!*\
  !*** ./src/shared/networking/types/encodableByteString.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var EncodableByteString = /** @class */ (function (_super) {
    __extends(EncodableByteString, _super);
    function EncodableByteString(str) {
        var _this = _super.call(this) || this;
        _this.str = str;
        return _this;
    }
    EncodableByteString.prototype.encode = function (bufferState) {
        for (var i = 0; i < this.str.length; ++i) {
            var code = this.str.charCodeAt(i);
            if (code < 0 || code > 255) {
                console.error("Char code is out of the 8-bit range (code = ".concat(code, ", string = ").concat(this.str, ", index = ").concat(i, ")"));
                code = "?".charCodeAt(0);
            }
            bufferState.view[bufferState.byteIndex++] = code;
        }
        bufferState.view[bufferState.byteIndex++] = 0; // null character (to mark the end of the string)
    };
    EncodableByteString.decode = function (bufferState) {
        var decodedChars = [];
        var code;
        while (bufferState.byteIndex < bufferState.view.length &&
            (code = bufferState.view[bufferState.byteIndex++]) != 0) // scan until you hit the null character (which marks the end of the string)
         {
            decodedChars.push(String.fromCharCode(code));
        }
        return new EncodableByteString(decodedChars.join(""));
    };
    return EncodableByteString;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableByteString);


/***/ }),

/***/ "./src/shared/networking/types/encodableByteVec2.ts":
/*!**********************************************************!*\
  !*** ./src/shared/networking/types/encodableByteVec2.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./encodableByteNumber */ "./src/shared/networking/types/encodableByteNumber.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var temp_min = 0;
var temp_max = 0;
var EncodableByteVec2 = /** @class */ (function (_super) {
    __extends(EncodableByteVec2, _super);
    function EncodableByteVec2(v, min, max) {
        var _this = _super.call(this) || this;
        _this.v = v;
        _this.min = min;
        _this.max = max;
        return _this;
    }
    EncodableByteVec2.prototype.encode = function (bufferState) {
        new _encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.v.x, this.min, this.max).encode(bufferState);
        new _encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.v.y, this.min, this.max).encode(bufferState);
    };
    EncodableByteVec2.decodeWithParams = function (bufferState, min, max) {
        temp_min = min;
        temp_max = max;
        return EncodableByteVec2.decode(bufferState);
    };
    EncodableByteVec2.decode = function (bufferState) {
        var xData = _encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, temp_min, temp_max);
        var yData = _encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, temp_min, temp_max);
        return new EncodableByteVec2({ x: xData.n, y: yData.n }, temp_min, temp_max);
    };
    return EncodableByteVec2;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableByteVec2);


/***/ }),

/***/ "./src/shared/networking/types/encodableData.ts":
/*!******************************************************!*\
  !*** ./src/shared/networking/types/encodableData.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var EncodableData = /** @class */ (function () {
    function EncodableData() {
    }
    EncodableData.decode = function (bufferState) { throw new Error("'decode' method is not implemented."); };
    return EncodableData;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableData);


/***/ }),

/***/ "./src/shared/networking/types/encodableEnum.ts":
/*!******************************************************!*\
  !*** ./src/shared/networking/types/encodableEnum.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var temp_enumMap = {};
var EncodableEnum = /** @class */ (function (_super) {
    __extends(EncodableEnum, _super);
    function EncodableEnum(enumValue, enumMap) {
        var _this = _super.call(this) || this;
        _this.enumValue = enumValue;
        _this.enumMap = enumMap;
        return _this;
    }
    EncodableEnum.prototype.encode = function (bufferState) {
        bufferState.view[bufferState.byteIndex++] = this.enumMap[this.enumValue];
    };
    EncodableEnum.decodeWithParams = function (bufferState, enumMap) {
        temp_enumMap = enumMap;
        return EncodableEnum.decode(bufferState);
    };
    EncodableEnum.decode = function (bufferState) {
        return new EncodableEnum(temp_enumMap[bufferState.view[bufferState.byteIndex++]], temp_enumMap);
    };
    return EncodableEnum;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableEnum);


/***/ }),

/***/ "./src/shared/networking/types/encodableRaw2ByteNumber.ts":
/*!****************************************************************!*\
  !*** ./src/shared/networking/types/encodableRaw2ByteNumber.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var EncodableRaw2ByteNumber = /** @class */ (function (_super) {
    __extends(EncodableRaw2ByteNumber, _super);
    function EncodableRaw2ByteNumber(n) {
        var _this = _super.call(this) || this;
        _this.n = n;
        return _this;
    }
    EncodableRaw2ByteNumber.prototype.encode = function (bufferState) {
        if (this.n < 0 || this.n > 65535)
            console.error("Number is out of its desired range (n = ".concat(this.n, ")"));
        if (Math.floor(this.n) != this.n)
            console.error("Number is not an integer (n = ".concat(this.n, ")"));
        var n = Math.min(65535, Math.max(0, Math.floor(this.n)));
        var firstHalf = ((n >> 8) & 255);
        var secondHalf = (n & 255);
        bufferState.view[bufferState.byteIndex++] = firstHalf;
        bufferState.view[bufferState.byteIndex++] = secondHalf;
    };
    EncodableRaw2ByteNumber.decode = function (bufferState) {
        var firstHalf = bufferState.view[bufferState.byteIndex++];
        var secondHalf = bufferState.view[bufferState.byteIndex++];
        return new EncodableRaw2ByteNumber((firstHalf << 8) | secondHalf);
    };
    return EncodableRaw2ByteNumber;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableRaw2ByteNumber);


/***/ }),

/***/ "./src/shared/networking/types/encodableRaw4ByteNumber.ts":
/*!****************************************************************!*\
  !*** ./src/shared/networking/types/encodableRaw4ByteNumber.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var EncodableRaw4ByteNumber = /** @class */ (function (_super) {
    __extends(EncodableRaw4ByteNumber, _super);
    function EncodableRaw4ByteNumber(n) {
        var _this = _super.call(this) || this;
        _this.n = n;
        return _this;
    }
    EncodableRaw4ByteNumber.prototype.encode = function (bufferState) {
        if (this.n < 0 || this.n > 4294967295)
            console.error("Number is out of its desired range (n = ".concat(this.n, ")"));
        if (Math.floor(this.n) != this.n)
            console.error("Number is not an integer (n = ".concat(this.n, ")"));
        var n = Math.min(4294967295, Math.max(0, Math.floor(this.n)));
        var firstQuarter = ((n >> 24) & 255);
        var secondQuarter = ((n >> 16) & 255);
        var thirdQuarter = ((n >> 8) & 255);
        var fourthQuarter = (n & 255);
        bufferState.view[bufferState.byteIndex++] = firstQuarter;
        bufferState.view[bufferState.byteIndex++] = secondQuarter;
        bufferState.view[bufferState.byteIndex++] = thirdQuarter;
        bufferState.view[bufferState.byteIndex++] = fourthQuarter;
    };
    EncodableRaw4ByteNumber.decode = function (bufferState) {
        var firstQuarter = bufferState.view[bufferState.byteIndex++];
        var secondQuarter = bufferState.view[bufferState.byteIndex++];
        var thirdQuarter = bufferState.view[bufferState.byteIndex++];
        var fourthQuarter = bufferState.view[bufferState.byteIndex++];
        return new EncodableRaw4ByteNumber((firstQuarter << 24) | (secondQuarter << 16) | (thirdQuarter << 8) | fourthQuarter);
    };
    return EncodableRaw4ByteNumber;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableRaw4ByteNumber);


/***/ }),

/***/ "./src/shared/networking/types/encodableRawByteNumber.ts":
/*!***************************************************************!*\
  !*** ./src/shared/networking/types/encodableRawByteNumber.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var EncodableRawByteNumber = /** @class */ (function (_super) {
    __extends(EncodableRawByteNumber, _super);
    function EncodableRawByteNumber(n) {
        var _this = _super.call(this) || this;
        _this.n = n;
        return _this;
    }
    EncodableRawByteNumber.prototype.encode = function (bufferState) {
        if (this.n < 0 || this.n > 255)
            console.error("Number is out of its desired range (n = ".concat(this.n, ")"));
        if (Math.floor(this.n) != this.n)
            console.error("Number is not an integer (n = ".concat(this.n, ")"));
        var n = Math.min(255, Math.max(0, Math.floor(this.n)));
        bufferState.view[bufferState.byteIndex++] = n;
    };
    EncodableRawByteNumber.decode = function (bufferState) {
        return new EncodableRawByteNumber(bufferState.view[bufferState.byteIndex++]);
    };
    return EncodableRawByteNumber;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableRawByteNumber);


/***/ }),

/***/ "./src/shared/networking/types/encodableRawSignedByteNumber.ts":
/*!*********************************************************************!*\
  !*** ./src/shared/networking/types/encodableRawSignedByteNumber.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var EncodableRawSignedByteNumber = /** @class */ (function (_super) {
    __extends(EncodableRawSignedByteNumber, _super);
    function EncodableRawSignedByteNumber(n) {
        var _this = _super.call(this) || this;
        _this.n = n;
        return _this;
    }
    EncodableRawSignedByteNumber.prototype.encode = function (bufferState) {
        if (this.n < -128 || this.n > 127)
            console.error("Number is out of its desired range (n = ".concat(this.n, ")"));
        if (Math.floor(this.n) != this.n)
            console.error("Number is not an integer (n = ".concat(this.n, ")"));
        var n = Math.min(127, Math.max(-128, Math.floor(this.n))) + 128;
        bufferState.view[bufferState.byteIndex++] = n;
    };
    EncodableRawSignedByteNumber.decode = function (bufferState) {
        return new EncodableRawSignedByteNumber(bufferState.view[bufferState.byteIndex++] - 128);
    };
    return EncodableRawSignedByteNumber;
}(_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodableRawSignedByteNumber);


/***/ }),

/***/ "./src/shared/networking/util/encodingUtil.ts":
/*!****************************************************!*\
  !*** ./src/shared/networking/util/encodingUtil.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _types_bufferState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/bufferState */ "./src/shared/networking/types/bufferState.ts");

var writeBuffer = new ArrayBuffer(65536);
var writeBufferReserved = false;
var startByteIndex = 0;
var EncodingUtil = {
    startEncoding: function (byteIndex) {
        if (byteIndex === void 0) { byteIndex = 0; }
        if (writeBufferReserved)
            throw new Error("WriteBuffer is already reserved.");
        writeBufferReserved = true;
        startByteIndex = byteIndex;
        return new _types_bufferState__WEBPACK_IMPORTED_MODULE_0__["default"](new Uint8Array(writeBuffer, byteIndex));
    },
    endEncoding: function (bufferState) {
        if (!writeBufferReserved)
            console.error("WriteBuffer is already free.");
        writeBufferReserved = false;
        var subBuffer = bufferState.view.buffer.slice(startByteIndex, bufferState.byteIndex);
        startByteIndex = 0;
        return subBuffer;
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EncodingUtil);


/***/ }),

/***/ "./src/shared/object/maps/objectTypeConfigMap.ts":
/*!*******************************************************!*\
  !*** ./src/shared/object/maps/objectTypeConfigMap.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var objectTypeConfigPairs = [
    [0, {
            objectType: "Voxel",
            components: {
                spawnedByAny: {
                    instancedMeshGraphics: {
                        createInstanceIdPool: false,
                    },
                    voxelMeshInstancer: {},
                },
            },
        }],
    [1, {
            objectType: "Player",
            components: {
                spawnedByAny: {
                    collider: {
                        collisionLayerMaskAtGroundLevel: 31,
                        hitboxSize: { sizeX: 0.6, sizeZ: 0.6 },
                    },
                    speechBubble: {
                        yOffset: 2.4,
                    },
                    playerProximityDetector: {
                        maxDist: 0.45,
                        maxLookAngle: -1,
                    },
                },
                spawnedByMe: {
                    firstPersonController: {},
                    objectSyncEmitter: {},
                },
                spawnedByOther: {
                    modelGraphics: {
                        path: "lowpolyghost/lowpolyghost.glb",
                        localPosition: { x: 0, y: 1.22, z: 0 },
                        scale: { x: 0.3, y: 0.3, z: 0.3 },
                    },
                    objectSyncReceiver: {},
                },
            },
        }],
    [2, {
            objectType: "Canvas",
            components: {
                spawnedByAny: {
                    collider: {
                        collisionLayerMaskAtGroundLevel: 0,
                        hitboxSize: { sizeX: 0, sizeZ: 0 },
                    },
                    instancedMeshGraphics: {
                        createInstanceIdPool: true,
                    },
                    persistentObjectMeshInstancer: {},
                    speechBubble: {
                        yOffset: 0,
                    },
                    playerProximityDetector: {
                        maxDist: 3,
                        maxLookAngle: Math.PI * 0.25,
                    },
                },
            },
        }],
];
var indexToConfig = {};
var typeToIndex = {};
objectTypeConfigPairs.forEach(function (pair) {
    indexToConfig[pair[0]] = pair[1];
    typeToIndex[pair[1].objectType] = pair[0];
});
var ObjectTypeConfigMap = {
    getConfigByIndex: function (objectTypeIndex) {
        var config = indexToConfig[objectTypeIndex];
        if (config == undefined)
            throw new Error("getConfigByIndex :: Invalid object type index (objectTypeIndex = ".concat(objectTypeIndex, ")"));
        return config;
    },
    getIndexByType: function (objectType) {
        var objectTypeIndex = typeToIndex[objectType];
        if (objectTypeIndex == undefined)
            throw new Error("getIndexByType :: Invalid object type (objectType = ".concat(objectType, ")"));
        return objectTypeIndex;
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectTypeConfigMap);


/***/ }),

/***/ "./src/shared/object/types/objectDespawnParams.ts":
/*!********************************************************!*\
  !*** ./src/shared/object/types/objectDespawnParams.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ObjectDespawnParams = /** @class */ (function (_super) {
    __extends(ObjectDespawnParams, _super);
    function ObjectDespawnParams(objectId) {
        var _this = _super.call(this) || this;
        _this.objectId = objectId;
        return _this;
    }
    ObjectDespawnParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"](this.objectId).encode(bufferState);
    };
    ObjectDespawnParams.decode = function (bufferState) {
        var objectId = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).str;
        return new ObjectDespawnParams(objectId);
    };
    return ObjectDespawnParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectDespawnParams);


/***/ }),

/***/ "./src/shared/object/types/objectDesyncResolveParams.ts":
/*!**************************************************************!*\
  !*** ./src/shared/object/types/objectDesyncResolveParams.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
/* harmony import */ var _networking_types_encodableByteVec2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../networking/types/encodableByteVec2 */ "./src/shared/networking/types/encodableByteVec2.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var ObjectDesyncResolveParams = /** @class */ (function (_super) {
    __extends(ObjectDesyncResolveParams, _super);
    function ObjectDesyncResolveParams(objectId, resolvedPos) {
        var _this = _super.call(this) || this;
        _this.objectId = objectId;
        _this.resolvedPos = resolvedPos;
        return _this;
    }
    ObjectDesyncResolveParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"](this.objectId).encode(bufferState);
        new _networking_types_encodableByteVec2__WEBPACK_IMPORTED_MODULE_2__["default"](this.resolvedPos, 0, 32).encode(bufferState);
    };
    ObjectDesyncResolveParams.decode = function (bufferState) {
        var objectId = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).str;
        var resolvedPos = _networking_types_encodableByteVec2__WEBPACK_IMPORTED_MODULE_2__["default"].decodeWithParams(bufferState, 0, 32).v;
        return new ObjectDesyncResolveParams(objectId, resolvedPos);
    };
    return ObjectDesyncResolveParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectDesyncResolveParams);


/***/ }),

/***/ "./src/shared/object/types/objectMessageParams.ts":
/*!********************************************************!*\
  !*** ./src/shared/object/types/objectMessageParams.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ObjectMessageParams = /** @class */ (function (_super) {
    __extends(ObjectMessageParams, _super);
    function ObjectMessageParams(senderObjectId, message) {
        var _this = _super.call(this) || this;
        _this.senderObjectId = senderObjectId;
        _this.message = message;
        return _this;
    }
    ObjectMessageParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"](this.senderObjectId).encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"](this.message).encode(bufferState);
    };
    ObjectMessageParams.decode = function (bufferState) {
        var senderObjectId = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).str;
        var message = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).str;
        return new ObjectMessageParams(senderObjectId, message);
    };
    return ObjectMessageParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectMessageParams);


/***/ }),

/***/ "./src/shared/object/types/objectRuntimeMemory.ts":
/*!********************************************************!*\
  !*** ./src/shared/object/types/objectRuntimeMemory.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _objectSpawnParams__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./objectSpawnParams */ "./src/shared/object/types/objectSpawnParams.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ObjectRuntimeMemory = /** @class */ (function (_super) {
    __extends(ObjectRuntimeMemory, _super);
    function ObjectRuntimeMemory(objectSpawnParams) {
        var _this = _super.call(this) || this;
        _this.objectSpawnParams = objectSpawnParams;
        return _this;
    }
    ObjectRuntimeMemory.prototype.encode = function (bufferState) {
        this.objectSpawnParams.encode(bufferState);
    };
    ObjectRuntimeMemory.decode = function (bufferState) {
        var objectSpawnParams = _objectSpawnParams__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState);
        return new ObjectRuntimeMemory(objectSpawnParams);
    };
    return ObjectRuntimeMemory;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectRuntimeMemory);


/***/ }),

/***/ "./src/shared/object/types/objectSpawnParams.ts":
/*!******************************************************!*\
  !*** ./src/shared/object/types/objectSpawnParams.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _objectTransform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./objectTransform */ "./src/shared/object/types/objectTransform.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
/* harmony import */ var _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var ObjectSpawnParams = /** @class */ (function (_super) {
    __extends(ObjectSpawnParams, _super);
    function ObjectSpawnParams(sourceUserName, objectTypeIndex, objectId, transform, metadata) {
        var _this = _super.call(this) || this;
        _this.sourceUserName = sourceUserName;
        _this.objectTypeIndex = objectTypeIndex;
        _this.objectId = objectId;
        _this.transform = transform;
        _this.metadata = metadata;
        return _this;
    }
    ObjectSpawnParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"](this.sourceUserName).encode(bufferState);
        new _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_3__["default"](this.objectTypeIndex).encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"](this.objectId).encode(bufferState);
        this.transform.encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"](this.metadata).encode(bufferState);
    };
    ObjectSpawnParams.decode = function (bufferState) {
        var sourceUserName = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState).str;
        var objectTypeIndex = _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_3__["default"].decode(bufferState).n;
        var objectId = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState).str;
        var transform = _objectTransform__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState);
        var metadata = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState).str;
        return new ObjectSpawnParams(sourceUserName, objectTypeIndex, objectId, transform, metadata);
    };
    return ObjectSpawnParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectSpawnParams);


/***/ }),

/***/ "./src/shared/object/types/objectSyncParams.ts":
/*!*****************************************************!*\
  !*** ./src/shared/object/types/objectSyncParams.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _objectTransform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./objectTransform */ "./src/shared/object/types/objectTransform.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var ObjectSyncParams = /** @class */ (function (_super) {
    __extends(ObjectSyncParams, _super);
    function ObjectSyncParams(objectId, transform) {
        var _this = _super.call(this) || this;
        _this.objectId = objectId;
        _this.transform = transform;
        return _this;
    }
    ObjectSyncParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"](this.objectId).encode(bufferState);
        this.transform.encode(bufferState);
    };
    ObjectSyncParams.decode = function (bufferState) {
        var objectId = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState).str;
        var transform = _objectTransform__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState);
        return new ObjectSyncParams(objectId, transform);
    };
    return ObjectSyncParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectSyncParams);


/***/ }),

/***/ "./src/shared/object/types/objectTransform.ts":
/*!****************************************************!*\
  !*** ./src/shared/object/types/objectTransform.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableByteNumber */ "./src/shared/networking/types/encodableByteNumber.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var xzRange = [0, 32];
var yRange = [-1, 4 + 0.0196058823529414]; // Note: The addition of this weird constant is to make sure that 0 will be quantized to a value which is as close to 0 as possible.
var dirVecRange = [-1, 1 + 0.0157472440944882]; // Note: The addition of this weird constant is to make sure that 0 will be quantized to a value which is as close to 0 as possible.
var ObjectTransform = /** @class */ (function (_super) {
    __extends(ObjectTransform, _super);
    function ObjectTransform(x, y, z, dirX, dirY, dirZ) {
        var _this = _super.call(this) || this;
        _this.x = x;
        _this.y = y;
        _this.z = z;
        _this.dirX = dirX;
        _this.dirY = dirY;
        _this.dirZ = dirZ;
        return _this;
    }
    ObjectTransform.prototype.encode = function (bufferState) {
        new _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.x, xzRange[0], xzRange[1]).encode(bufferState);
        new _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.y, yRange[0], yRange[1]).encode(bufferState);
        new _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.z, xzRange[0], xzRange[1]).encode(bufferState);
        new _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.dirX, dirVecRange[0], dirVecRange[1]).encode(bufferState);
        new _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.dirY, dirVecRange[0], dirVecRange[1]).encode(bufferState);
        new _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.dirZ, dirVecRange[0], dirVecRange[1]).encode(bufferState);
    };
    ObjectTransform.decode = function (bufferState) {
        var x = _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, xzRange[0], xzRange[1]).n;
        var y = _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, yRange[0], yRange[1]).n;
        var z = _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, xzRange[0], xzRange[1]).n;
        var dirX = _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, dirVecRange[0], dirVecRange[1]).n;
        var dirY = _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, dirVecRange[0], dirVecRange[1]).n;
        var dirZ = _networking_types_encodableByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decodeWithParams(bufferState, dirVecRange[0], dirVecRange[1]).n;
        return new ObjectTransform(x, y, z, dirX, dirY, dirZ);
    };
    return ObjectTransform;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ObjectTransform);


/***/ }),

/***/ "./src/shared/object/types/persistentObject.ts":
/*!*****************************************************!*\
  !*** ./src/shared/object/types/persistentObject.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var PersistentObject = /** @class */ (function (_super) {
    __extends(PersistentObject, _super);
    function PersistentObject(objectId, objectTypeIndex, direction, x, y, z, metadata) {
        var _this = _super.call(this) || this;
        _this.objectId = objectId;
        _this.objectTypeIndex = objectTypeIndex;
        _this.direction = direction;
        _this.x = x;
        _this.y = y;
        _this.z = z;
        _this.metadata = metadata;
        return _this;
    }
    PersistentObject.prototype.encode = function (bufferState) {
        if (this.objectTypeIndex < 0 || this.objectTypeIndex > 63)
            throw new Error("Object type index out of range (objectTypeIndex = ".concat(this.objectTypeIndex, ")"));
        if (this.x < 0 || this.x > 32)
            throw new Error("Object x out of range (x = ".concat(this.x, ")"));
        if (this.z < 0 || this.z > 32)
            throw new Error("Object z out of range (z = ".concat(this.z, ")"));
        if (this.y < 0 || this.y > 4)
            throw new Error("Object y out of range (y = ".concat(this.y, ")"));
        bufferState.view[bufferState.byteIndex++] = (this.objectTypeIndex << 2) | ((this.direction == "+z") ? 0 : ((this.direction == "+x") ? 1 : ((this.direction == "-z") ? 2 : 3)));
        var yRaw = Math.floor(4 * this.y);
        var yRawFirstHalf = (yRaw & 12) >> 2;
        var yRawSecondHalf = (yRaw & 3);
        bufferState.view[bufferState.byteIndex++] = (Math.floor(2 * this.x) << 2 | yRawFirstHalf);
        bufferState.view[bufferState.byteIndex++] = (Math.floor(2 * this.z) << 2 | yRawSecondHalf);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"](this.metadata).encode(bufferState);
    };
    PersistentObject.decode = function (bufferState) {
        var mainByte1 = bufferState.view[bufferState.byteIndex++];
        var objectTypeIndex = (mainByte1 >> 2) & 63;
        var directionRaw = (mainByte1 & 3);
        var direction = (directionRaw <= 1)
            ? ((directionRaw == 0) ? "+z" : "+x")
            : ((directionRaw == 2) ? "-z" : "-x");
        var mainByte2 = bufferState.view[bufferState.byteIndex++];
        var xRaw = (mainByte2 >> 2) & 63;
        var x = 0.5 * xRaw;
        var yRawFirstHalf = (mainByte2 & 3);
        var mainByte3 = bufferState.view[bufferState.byteIndex++];
        var zRaw = (mainByte3 >> 2) & 63;
        var z = 0.5 * zRaw;
        var yRawSecondHalf = (mainByte3 & 3);
        var yRaw = (yRawFirstHalf << 2) | yRawSecondHalf;
        var y = 0.25 * yRaw;
        var metadata = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).str;
        var objectId = "p".concat(x, "-").concat(y, "-").concat(z);
        return new PersistentObject(objectId, objectTypeIndex, direction, x, y, z, metadata);
    };
    return PersistentObject;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PersistentObject);
//------------------------------------------------------------------------------
// Each PersistentObject's Binary-Encoded Format:
//------------------------------------------------------------------------------
//
// Layout: [Main Byte 1][Main Byte 2][Main Byte 3][Metadata Byte][Metadata Byte][Metadata Byte]...
//
// [Main Byte 1]
//     6 bits for the object's type index
//     2 bits for the object's direction
//         (00 => +z, 01 => +x, 10 => -z, 11 => -x)
//
// [Main Byte 2]
//     6 bits for the x-coordinate of the object's center position
//         (binary value = floor(2 * x))
//     first 2 bits of the y-coordinate of the object's bottom position
//         (4-bit binary value = floor(4 * y))
//
// [Main Byte 3]
//     6 bits for the z-coordinate of the object's center position
//         (binary value = floor(2 * z))
//     second 2 bits of the y-coordinate of the object's bottom position
//         (4-bit binary value = floor(4 * y))
//
// [Metadata Byte]
//     8 bits for each character in the metadata string (0 (null character) marks the end of the metadata string)
//------------------------------------------------------------------------------


/***/ }),

/***/ "./src/shared/object/types/persistentObjectGroup.ts":
/*!**********************************************************!*\
  !*** ./src/shared/object/types/persistentObjectGroup.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _persistentObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./persistentObject */ "./src/shared/object/types/persistentObject.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
/* harmony import */ var _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../networking/types/encodableArray */ "./src/shared/networking/types/encodableArray.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var latestVersion = 0;
var PersistentObjectGroup = /** @class */ (function (_super) {
    __extends(PersistentObjectGroup, _super);
    function PersistentObjectGroup(persistentObjects) {
        var _this = _super.call(this) || this;
        _this.persistentObjects = persistentObjects;
        return _this;
    }
    PersistentObjectGroup.prototype.encode = function (bufferState) {
        new _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_2__["default"](latestVersion).encode(bufferState);
        new _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__["default"](this.persistentObjects, 65535).encode(bufferState);
        for (var _i = 0, _a = this.persistentObjects; _i < _a.length; _i++) {
            var persistentObject = _a[_i];
            persistentObject.encode(bufferState);
        }
    };
    PersistentObjectGroup.decode = function (bufferState) {
        var versionFound = _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState).n;
        if (versionFound < latestVersion) {
            var data = olderVersionDecoders[versionFound](bufferState);
            for (var version = versionFound; version < latestVersion; ++version)
                data = versionConverters[version](data);
            return data;
        }
        var persistentObjects = _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__["default"].decodeWithParams(bufferState, _persistentObject__WEBPACK_IMPORTED_MODULE_0__["default"].decode, 65535).arr;
        return new PersistentObjectGroup(persistentObjects);
    };
    return PersistentObjectGroup;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PersistentObjectGroup);
var olderVersionDecoders = [
    function (bufferState) {
        return new PersistentObjectGroup([]); // This is just a placeholder
    },
];
var versionConverters = [
    function (olderVersionData) {
        return new PersistentObjectGroup([]); // This is just a placeholder
    },
];


/***/ }),

/***/ "./src/shared/physics/physicsManager.ts":
/*!**********************************************!*\
  !*** ./src/shared/physics/physicsManager.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/util/vector2D */ "./src/shared/math/util/vector2D.ts");
/* harmony import */ var _util_physicsObjectUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/physicsObjectUtil */ "./src/shared/physics/util/physicsObjectUtil.ts");
/* harmony import */ var _util_physicsVoxelUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/physicsVoxelUtil */ "./src/shared/physics/util/physicsVoxelUtil.ts");
/* harmony import */ var _util_physicsCollisionUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/physicsCollisionUtil */ "./src/shared/physics/util/physicsCollisionUtil.ts");
/* harmony import */ var _voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../voxel/util/voxelQueryUtil */ "./src/shared/voxel/util/voxelQueryUtil.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../system/constants */ "./src/shared/system/constants.ts");






var physicsRooms = {};
var hitStateTemp = {
    minHitRayScale: 1,
    hitLine: undefined,
};
var PhysicsManager = {
    load: function (roomRuntimeMemory) {
        if (physicsRooms[roomRuntimeMemory.room.roomID] != undefined)
            throw new Error("Physics-room already exists (roomID = ".concat(roomRuntimeMemory.room.roomID, ")"));
        var voxelGrid = roomRuntimeMemory.room.voxelGrid;
        physicsRooms[roomRuntimeMemory.room.roomID] = {
            room: roomRuntimeMemory.room,
            voxels: voxelGrid.voxels.map(function (voxel) {
                var row = voxel.row;
                var col = voxel.col;
                var intersectingObjects = new Array(4);
                intersectingObjects.length = 0;
                var physicsVoxel = {
                    voxel: voxel,
                    hitbox: { x: col + 0.5, y: row + 0.5, halfSizeX: 0.5, halfSizeY: 0.5 },
                    intersectingObjects: intersectingObjects,
                };
                return physicsVoxel;
            }),
            objectById: {},
        };
    },
    unload: function (roomID) {
        if (physicsRooms[roomID] == undefined)
            throw new Error("Physics-room doesn't exist (roomID = ".concat(roomID, ")"));
        delete physicsRooms[roomID];
    },
    hasRoom: function (roomID) {
        return physicsRooms[roomID] != undefined;
    },
    addObject: function (roomID, objectId, hitbox, collisionLayerMaskAtGroundLevel) {
        //console.log(`PhysicsManager.addObject :: roomID = ${roomID}, objectId = ${objectId}`);
        var physicsRoom = physicsRooms[roomID];
        if (physicsRoom == undefined)
            throw new Error("Physics-room doesn't exist (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
        if (physicsRoom.objectById[objectId] != undefined) // already added
         {
            console.warn("PhysicsObjct is already added (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
            return physicsRoom.objectById[objectId];
        }
        var currVoxel = physicsRoom.voxels[Math.floor(hitbox.y) * _system_constants__WEBPACK_IMPORTED_MODULE_5__.NUM_VOXEL_COLS + Math.floor(hitbox.x)].voxel;
        var highestLayer = (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getHighestOccupiedVoxelCollisionLayer)(currVoxel);
        var intersectingVoxels = new Array(4);
        intersectingVoxels.length = 0;
        var newObject = {
            objectId: objectId,
            collisionLayerMaskAtGroundLevel: collisionLayerMaskAtGroundLevel,
            level: (highestLayer != _system_constants__WEBPACK_IMPORTED_MODULE_5__.COLLISION_LAYER_NULL) ? highestLayer : _system_constants__WEBPACK_IMPORTED_MODULE_5__.COLLISION_LAYER_MIN,
            lastLevelChangeTime: performance.now() * 0.001,
            hitbox: hitbox,
            intersectingVoxels: intersectingVoxels
        };
        physicsRoom.objectById[objectId] = newObject;
        (0,_util_physicsObjectUtil__WEBPACK_IMPORTED_MODULE_1__.setObjectPosition)(physicsRoom, objectId, { x: hitbox.x, y: hitbox.y });
        return newObject;
    },
    removeObject: function (roomID, objectId) {
        //console.log(`PhysicsManager.removeObject :: roomID = ${roomID}, objectId = ${objectId}`);
        var physicsRoom = physicsRooms[roomID];
        if (physicsRoom == undefined)
            throw new Error("Physics-room doesn't exist (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
        var object = physicsRoom.objectById[objectId];
        if (object == undefined)
            throw new Error("PhysicsObject is not registered (roomID = ".concat(roomID, ", objectId = ").concat(objectId, ")"));
        delete physicsRoom.objectById[objectId];
        (0,_util_physicsObjectUtil__WEBPACK_IMPORTED_MODULE_1__.removeObjectFromIntersectingVoxels)(object);
    },
    tryMoveObject: function (roomID, objectId, targetPos) {
        var physicsRoom = physicsRooms[roomID];
        if (physicsRooms[roomID] == undefined)
            throw new Error("Physics-room doesn't exist (roomID = ".concat(roomID, ")"));
        var object = physicsRoom.objectById[objectId];
        if (object == undefined)
            throw new Error("PhysicsObject is not registered (objectId = ".concat(objectId, ")"));
        var startPos = { x: object.hitbox.x, y: object.hitbox.y };
        // Any attempt to move more for than the distance of 3 will force-sync the object back to its original location.
        var desyncDistSqr = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].distSqr(targetPos, startPos);
        if (desyncDistSqr >= 9) {
            console.warn("Physics-position desync due to distance gap (startPos = (".concat(startPos.x.toFixed(3), ", ").concat(startPos.y.toFixed(3), "), targetPos = (").concat(targetPos.x.toFixed(3), ", ").concat(targetPos.y.toFixed(3), "), dist = ").concat(Math.sqrt(desyncDistSqr), ")"));
            return { resolvedPos: startPos, desyncDetected: true };
        }
        if (desyncDistSqr < 0.000001) {
            return { resolvedPos: startPos, desyncDetected: false };
        }
        // Step back the starting position a bit, to prevent raycasting from within the enclosing line segments of whichever nearby obstacle (hitbox) that the object is running against.
        var dir = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].normalize(_math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(targetPos, startPos));
        startPos = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(startPos, _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].scale(dir, 0.01));
        var minIntersectableX = Math.min(startPos.x, targetPos.x) - object.hitbox.halfSizeX;
        var maxIntersectableX = Math.max(startPos.x, targetPos.x) + object.hitbox.halfSizeX;
        var minIntersectableY = Math.min(startPos.y, targetPos.y) - object.hitbox.halfSizeY;
        var maxIntersectableY = Math.max(startPos.y, targetPos.y) + object.hitbox.halfSizeY;
        var minCol = Math.floor(minIntersectableX);
        var maxCol = Math.floor(maxIntersectableX);
        var minRow = Math.floor(minIntersectableY);
        var maxRow = Math.floor(maxIntersectableY);
        // Detect the out-of-boundary conditions.
        if (minCol < 0 || minRow < 0 || maxCol >= _system_constants__WEBPACK_IMPORTED_MODULE_5__.NUM_VOXEL_COLS || maxRow >= _system_constants__WEBPACK_IMPORTED_MODULE_5__.NUM_VOXEL_ROWS) {
            console.warn("Physics-position desync due to room boundary limit (startPos = (".concat(startPos.x.toFixed(3), ", ").concat(startPos.y.toFixed(3), "), targetPos = (").concat(targetPos.x.toFixed(3), ", ").concat(targetPos.y.toFixed(3), ", minCol = ").concat(minCol, ", minRow = ").concat(minRow, ", maxCol = ").concat(maxCol, ", maxRow = ").concat(maxRow, "))"));
            return { resolvedPos: startPos, desyncDetected: true };
        }
        hitStateTemp.minHitRayScale = 1;
        hitStateTemp.hitLine = undefined;
        var currTime = performance.now() * 0.001;
        var currVoxel = physicsRoom.voxels[Math.floor(startPos.y) * _system_constants__WEBPACK_IMPORTED_MODULE_5__.NUM_VOXEL_COLS + Math.floor(startPos.x)].voxel;
        var objectMask = object.collisionLayerMaskAtGroundLevel << object.level;
        var objectMaskAfterShift = object.collisionLayerMaskAtGroundLevel << (object.level + 1);
        var maxLayerAmongOverlappingVoxels = -9999;
        // Process collision against voxels
        for (var row = minRow; row <= maxRow; ++row) {
            for (var col = minCol; col <= maxCol; ++col) {
                var physicsVoxel = physicsRoom.voxels[row * _system_constants__WEBPACK_IMPORTED_MODULE_5__.NUM_VOXEL_COLS + col];
                var targetVoxel = physicsVoxel.voxel;
                if ((targetVoxel.collisionLayerMask & objectMask) != 0) {
                    var canJumpOverToTargetVoxel = currTime >= object.lastLevelChangeTime + _system_constants__WEBPACK_IMPORTED_MODULE_5__.MIN_OBJECT_LEVEL_CHANGE_INTERVAL && // It's been long enough since the last time the object's level changed.
                        (objectMask & 128) == 0 && // Object is not touching the ceiling
                        (currVoxel.collisionLayerMask & objectMaskAfterShift) == 0 && // There is space for the object to jump within the current voxel
                        (targetVoxel.collisionLayerMask & objectMaskAfterShift) == 0; // There is space for the object to occupy after the jump (in the target voxel)
                    if (canJumpOverToTargetVoxel) {
                        object.level++;
                        objectMask = object.collisionLayerMaskAtGroundLevel << object.level;
                        object.lastLevelChangeTime = currTime;
                    }
                    else {
                        (0,_util_physicsCollisionUtil__WEBPACK_IMPORTED_MODULE_3__.pushBoxAgainstBox)(object.hitbox, targetPos, physicsVoxel.hitbox, hitStateTemp);
                    }
                }
                var highestLayer = (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_4__.getHighestOccupiedVoxelCollisionLayer)(targetVoxel);
                if (highestLayer != _system_constants__WEBPACK_IMPORTED_MODULE_5__.COLLISION_LAYER_NULL && highestLayer > maxLayerAmongOverlappingVoxels)
                    maxLayerAmongOverlappingVoxels = highestLayer;
            }
        }
        // Object should fall down if it is suspended in thin air
        if (object.level > 0 &&
            currTime >= object.lastLevelChangeTime + _system_constants__WEBPACK_IMPORTED_MODULE_5__.MIN_OBJECT_LEVEL_CHANGE_INTERVAL &&
            (0,_util_physicsObjectUtil__WEBPACK_IMPORTED_MODULE_1__.getLowestObjectCollisionLayer)(object) > maxLayerAmongOverlappingVoxels + 1) {
            object.level--;
            objectMask = object.collisionLayerMaskAtGroundLevel << object.level;
            object.lastLevelChangeTime = currTime;
        }
        // Process collision against other objects
        for (var _i = 0, _a = Object.values(physicsRoom.objectById); _i < _a.length; _i++) {
            var otherObject = _a[_i];
            var otherObjectMask = otherObject.collisionLayerMaskAtGroundLevel << otherObject.level;
            if (object.objectId != otherObject.objectId &&
                (object.hitbox.halfSizeX > 0 || object.hitbox.halfSizeY > 0) &&
                (objectMask & otherObjectMask) != 0) {
                hitStateTemp = (0,_util_physicsCollisionUtil__WEBPACK_IMPORTED_MODULE_3__.pushBoxAgainstBox)(object.hitbox, targetPos, otherObject.hitbox, hitStateTemp);
            }
        }
        var resolvedPos = targetPos;
        if (hitStateTemp.hitLine != undefined) {
            var startToHit = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].scale(_math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(targetPos, startPos), hitStateTemp.minHitRayScale);
            var hitPos = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].add(startPos, startToHit);
            var hitToTarget = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(targetPos, hitPos);
            var hitTangent = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(hitStateTemp.hitLine.end, hitStateTemp.hitLine.start);
            var dot = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].dot(hitToTarget, hitTangent);
            if (dot < 0) {
                // Angle between 'hitToTarget' and 'hitTangent' must be acute
                hitTangent = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].subtract(hitStateTemp.hitLine.start, hitStateTemp.hitLine.end);
                dot = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].dot(hitToTarget, hitTangent);
            }
            var projectedHitToTarget = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].scale(hitTangent, dot / _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].dot(hitTangent, hitTangent));
            var slidedHitPos = _math_util_vector2D__WEBPACK_IMPORTED_MODULE_0__["default"].add(hitPos, projectedHitToTarget);
            var voxelsHitOnSlide = (0,_util_physicsVoxelUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelsInBox)(physicsRoom, {
                x: slidedHitPos.x,
                y: slidedHitPos.y,
                halfSizeX: object.hitbox.halfSizeX,
                halfSizeY: object.hitbox.halfSizeY,
            });
            var slideBlocked = false;
            for (var _b = 0, voxelsHitOnSlide_1 = voxelsHitOnSlide; _b < voxelsHitOnSlide_1.length; _b++) {
                var physicsVoxel = voxelsHitOnSlide_1[_b];
                if ((physicsVoxel.voxel.collisionLayerMask & objectMask) != 0)
                    slideBlocked = true;
            }
            if (slideBlocked) {
                //console.log(`hit - SLIDE BLOCKED (minHitRayScale = ${minHitRayScale}, hitPos = (${hitPos.x.toFixed(2)}, ${hitPos.y.toFixed(2)}), slidedHitPos = (${slidedHitPos.x.toFixed(2)}, ${slidedHitPos.y.toFixed(2)}))`);
                resolvedPos = hitPos;
            }
            else {
                //console.log(`hit (minHitRayScale = ${minHitRayScale}, hitPos = (${hitPos.x.toFixed(2)}, ${hitPos.y.toFixed(2)}), slidedHitPos = (${slidedHitPos.x.toFixed(2)}, ${slidedHitPos.y.toFixed(2)}))`);
                resolvedPos = slidedHitPos;
            }
        }
        object.hitbox.x = resolvedPos.x;
        object.hitbox.y = resolvedPos.y;
        return { resolvedPos: resolvedPos, desyncDetected: false };
    },
    forceMoveObject: function (roomID, objectId, targetPos) {
        var physicsRoom = physicsRooms[roomID];
        if (physicsRooms[roomID] == undefined)
            throw new Error("Physics-room doesn't exist (roomID = ".concat(roomID, ")"));
        var object = physicsRoom.objectById[objectId];
        if (object == undefined)
            throw new Error("PhysicsObject is not registered (objectId = ".concat(objectId, ")"));
        object.hitbox.x = targetPos.x;
        object.hitbox.y = targetPos.y;
    },
    getObjectsInDist: function (roomID, centerX, centerY, dist) {
        var physicsRoom = physicsRooms[roomID];
        if (physicsRooms[roomID] == undefined)
            throw new Error("Physics-room doesn't exist (roomID = ".concat(roomID, ")"));
        return (0,_util_physicsObjectUtil__WEBPACK_IMPORTED_MODULE_1__.getObjectsInDist)(physicsRoom, centerX, centerY, dist);
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PhysicsManager);


/***/ }),

/***/ "./src/shared/physics/util/physicsCollisionUtil.ts":
/*!*********************************************************!*\
  !*** ./src/shared/physics/util/physicsCollisionUtil.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   pushBoxAgainstBox: () => (/* binding */ pushBoxAgainstBox)
/* harmony export */ });
/* harmony import */ var _math_util_geometry2D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../math/util/geometry2D */ "./src/shared/math/util/geometry2D.ts");

function pushBoxAgainstBox(sourceHitbox, targetPos, targetHitbox, hitState) {
    var result = _math_util_geometry2D__WEBPACK_IMPORTED_MODULE_0__["default"].castAABBAgainstAABB(sourceHitbox, targetPos, targetHitbox);
    if (result.hitRayScale <= hitState.minHitRayScale) {
        hitState.minHitRayScale = result.hitRayScale;
        hitState.hitLine = result.hitLine;
    }
    return hitState;
}


/***/ }),

/***/ "./src/shared/physics/util/physicsObjectUtil.ts":
/*!******************************************************!*\
  !*** ./src/shared/physics/util/physicsObjectUtil.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addObjectToVoxel: () => (/* binding */ addObjectToVoxel),
/* harmony export */   canObjectCollideWithLayer: () => (/* binding */ canObjectCollideWithLayer),
/* harmony export */   getLowestObjectCollisionLayer: () => (/* binding */ getLowestObjectCollisionLayer),
/* harmony export */   getObjectsInDist: () => (/* binding */ getObjectsInDist),
/* harmony export */   removeObjectFromIntersectingVoxels: () => (/* binding */ removeObjectFromIntersectingVoxels),
/* harmony export */   removeObjectFromVoxel: () => (/* binding */ removeObjectFromVoxel),
/* harmony export */   setObjectPosition: () => (/* binding */ setObjectPosition)
/* harmony export */ });
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _physicsVoxelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./physicsVoxelUtil */ "./src/shared/physics/util/physicsVoxelUtil.ts");


var voxelsTemp = new Array();
var objsTemp = new Array();
function canObjectCollideWithLayer(object, collisionLayer, levelShiftInObject) {
    if (levelShiftInObject === void 0) { levelShiftInObject = 0; }
    var currMask = object.collisionLayerMaskAtGroundLevel << (object.level + levelShiftInObject);
    return (currMask & (1 << collisionLayer)) != 0;
}
// Returns COLLISION_LAYER_NULL if no layer is occupied
function getLowestObjectCollisionLayer(object) {
    var layer = _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN;
    var maskTemp = object.collisionLayerMaskAtGroundLevel << object.level;
    while ((maskTemp & 1) == 0) {
        maskTemp >>= 1;
        if (maskTemp == 0)
            return _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_NULL;
        layer++;
    }
    return layer;
}
function getObjectsInDist(physicsRoom, centerX, centerY, dist) {
    var voxels = (0,_physicsVoxelUtil__WEBPACK_IMPORTED_MODULE_1__.getVoxelsInBox)(physicsRoom, {
        x: centerX,
        y: centerY,
        halfSizeX: dist,
        halfSizeY: dist,
    });
    objsTemp.length = 0;
    for (var _i = 0, voxels_1 = voxels; _i < voxels_1.length; _i++) {
        var voxel = voxels_1[_i];
        for (var _a = 0, _b = voxel.intersectingObjects; _a < _b.length; _a++) {
            var obj = _b[_a];
            var offsetX = obj.hitbox.x - centerX;
            var offsetY = obj.hitbox.y - centerY;
            var distSqr = offsetX * offsetX + offsetY * offsetY;
            if (distSqr <= dist * dist)
                objsTemp.push(obj);
        }
    }
    return objsTemp;
}
function addObjectToVoxel(object, voxel) {
    var alreadyAdded = false;
    for (var i = 0; i < voxel.intersectingObjects.length; ++i) {
        var obj = voxel.intersectingObjects[i];
        if (obj.objectId == object.objectId) {
            console.error("Object already added to voxel (object = ".concat(JSON.stringify(object), ", voxel = ").concat(JSON.stringify(voxel), ")"));
            alreadyAdded = true;
        }
    }
    if (!alreadyAdded)
        voxel.intersectingObjects.push(object);
    alreadyAdded = false;
    for (var i = 0; i < object.intersectingVoxels.length; ++i) {
        var vox = object.intersectingVoxels[i];
        if (vox == voxel) {
            console.error("Voxel already added to object (object = ".concat(JSON.stringify(object), ", voxel = ").concat(JSON.stringify(voxel), ")"));
            alreadyAdded = true;
        }
    }
    if (!alreadyAdded)
        object.intersectingVoxels.push(voxel);
}
function setObjectPosition(physicsRoom, objectId, pos) {
    var object = physicsRoom.objectById[objectId];
    if (object == undefined)
        throw new Error("PhysicsObject is not registered (objectId = ".concat(objectId, ")"));
    var voxels = (0,_physicsVoxelUtil__WEBPACK_IMPORTED_MODULE_1__.getVoxelsInBox)(physicsRoom, object.hitbox);
    object.hitbox.x = pos.x;
    object.hitbox.y = pos.y;
    removeObjectFromIntersectingVoxels(object);
    for (var _i = 0, voxels_2 = voxels; _i < voxels_2.length; _i++) {
        var voxel = voxels_2[_i];
        addObjectToVoxel(object, voxel);
    }
}
function removeObjectFromIntersectingVoxels(object) {
    voxelsTemp.length = 0;
    for (var _i = 0, _a = object.intersectingVoxels; _i < _a.length; _i++) {
        var voxel = _a[_i];
        voxelsTemp.push(voxel);
    }
    for (var _b = 0, voxelsTemp_1 = voxelsTemp; _b < voxelsTemp_1.length; _b++) {
        var voxel = voxelsTemp_1[_b];
        removeObjectFromVoxel(object, voxel);
    }
}
function removeObjectFromVoxel(object, voxel) {
    var removed = false;
    var objs = voxel.intersectingObjects;
    for (var i = 0; i < objs.length; ++i) {
        var obj = objs[i];
        if (obj.objectId == object.objectId) {
            for (var j = i + 1; j < objs.length; ++j)
                objs[i] = objs[j];
            --objs.length;
            removed = true;
        }
    }
    if (!removed)
        console.error("Object not found in voxel (object = ".concat(JSON.stringify(object), ", voxel = ").concat(JSON.stringify(voxel), ")"));
}


/***/ }),

/***/ "./src/shared/physics/util/physicsVoxelUtil.ts":
/*!*****************************************************!*\
  !*** ./src/shared/physics/util/physicsVoxelUtil.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getVoxelsInBox: () => (/* binding */ getVoxelsInBox)
/* harmony export */ });
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../system/constants */ "./src/shared/system/constants.ts");

var voxelsTemp = new Array();
function getVoxelsInBox(physicsRoom, box) {
    voxelsTemp.length = 0;
    var row1 = Math.max(0, Math.floor(box.y - box.halfSizeY));
    var col1 = Math.max(0, Math.floor(box.x - box.halfSizeX));
    var row2 = Math.min(_system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_ROWS - 1, Math.floor(box.y + box.halfSizeY));
    var col2 = Math.min(_system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS - 1, Math.floor(box.x + box.halfSizeX));
    for (var row = row1; row <= row2; ++row) {
        for (var col = col1; col <= col2; ++col) {
            var voxel = physicsRoom.voxels[row * _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS + col];
            if (voxel != undefined)
                voxelsTemp.push(voxel);
            else
                console.error("PhysicsVoxel is undefined (row = ".concat(row, ", col = ").concat(col, ")"));
        }
    }
    return voxelsTemp;
}


/***/ }),

/***/ "./src/shared/room/roomGenerator.ts":
/*!******************************************!*\
  !*** ./src/shared/room/roomGenerator.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object_types_persistentObjectGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../object/types/persistentObjectGroup */ "./src/shared/object/types/persistentObjectGroup.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../voxel/types/voxel */ "./src/shared/voxel/types/voxel.ts");
/* harmony import */ var _voxel_types_voxelGrid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../voxel/types/voxelGrid */ "./src/shared/voxel/types/voxelGrid.ts");
/* harmony import */ var _voxel_types_voxelQuadsRuntimeMemory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../voxel/types/voxelQuadsRuntimeMemory */ "./src/shared/voxel/types/voxelQuadsRuntimeMemory.ts");
/* harmony import */ var _voxel_util_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../voxel/util/voxelQuadUpdateUtil */ "./src/shared/voxel/util/voxelQuadUpdateUtil.ts");
/* harmony import */ var _voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../voxel/util/voxelQueryUtil */ "./src/shared/voxel/util/voxelQueryUtil.ts");







var RoomGenerator = {
    generateEmptyRoom: function (floorTextureIndex, wallTextureIndex, ceilingTextureIndex) {
        var voxels = new Array(_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS * _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS);
        var quadsMem = new _voxel_types_voxelQuadsRuntimeMemory__WEBPACK_IMPORTED_MODULE_4__["default"]();
        // Initialize corner voxels
        clearAllQuadsInVoxel(quadsMem.quads, (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getFirstVoxelQuadIndexInVoxel)(0, 0));
        clearAllQuadsInVoxel(quadsMem.quads, (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getFirstVoxelQuadIndexInVoxel)(0, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1));
        clearAllQuadsInVoxel(quadsMem.quads, (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getFirstVoxelQuadIndexInVoxel)(_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1, 0));
        clearAllQuadsInVoxel(quadsMem.quads, (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getFirstVoxelQuadIndexInVoxel)(_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1));
        voxels[0] =
            new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, 0, 0, 0);
        voxels[_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1] =
            new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, 0, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1, 0);
        voxels[(_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1) * _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS] =
            new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1, 0, 0);
        voxels[(_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1) * _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS + (_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1)] =
            new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1, 0);
        // Initialize floor and ceiling quads
        for (var row = 1; row < _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1; ++row) {
            for (var col = 1; col < _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1; ++col) {
                applyFloorAndCeilingTexture(quadsMem.quads, row, col, floorTextureIndex, ceilingTextureIndex);
                voxels[row * _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS + col] = new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, row, col, 0);
            }
        }
        // Initialize boundary wall quads
        for (var col = 1; col < _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1; ++col) {
            applyWallTexture(quadsMem.quads, 0, col, "z", "+", wallTextureIndex);
            applyWallTexture(quadsMem.quads, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1, col, "z", "-", wallTextureIndex);
            var lowerVoxel = new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, 0, col, 255);
            voxels[col] = lowerVoxel;
            var upperVoxel = new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1, col, 255);
            voxels[(_system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1) * _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS + col] = upperVoxel;
            for (var collisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MIN; collisionLayer <= _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MAX; ++collisionLayer) {
                (0,_voxel_util_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_5__.setVoxelQuadVisible)(true, lowerVoxel, "z", "+", collisionLayer, wallTextureIndex);
                (0,_voxel_util_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_5__.setVoxelQuadVisible)(true, upperVoxel, "z", "-", collisionLayer, wallTextureIndex);
            }
        }
        for (var row = 1; row < _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_ROWS - 1; ++row) {
            applyWallTexture(quadsMem.quads, row, 0, "x", "+", wallTextureIndex);
            applyWallTexture(quadsMem.quads, row, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1, "x", "-", wallTextureIndex);
            var lowerVoxel = new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, row, 0, 255);
            voxels[row * _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS] = lowerVoxel;
            var upperVoxel = new _voxel_types_voxel__WEBPACK_IMPORTED_MODULE_2__["default"](quadsMem, row, _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1, 255);
            voxels[row * _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_COLS - 1] = upperVoxel;
            for (var collisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MIN; collisionLayer <= _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MAX; ++collisionLayer) {
                (0,_voxel_util_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_5__.setVoxelQuadVisible)(true, lowerVoxel, "x", "+", collisionLayer, wallTextureIndex);
                (0,_voxel_util_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_5__.setVoxelQuadVisible)(true, upperVoxel, "x", "-", collisionLayer, wallTextureIndex);
            }
        }
        return {
            voxelGrid: new _voxel_types_voxelGrid__WEBPACK_IMPORTED_MODULE_3__["default"](voxels, quadsMem),
            persistentObjectGroup: new _object_types_persistentObjectGroup__WEBPACK_IMPORTED_MODULE_0__["default"]([]),
        };
    },
};
function applyFloorAndCeilingTexture(quads, row, col, floorTextureIndex, ceilingTextureIndex) {
    var startIndex = (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getFirstVoxelQuadIndexInVoxel)(row, col);
    clearAllQuadsInVoxel(quads, startIndex);
    quads[startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL - 2] = 128 | ceilingTextureIndex;
    quads[startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL - 1] = 128 | floorTextureIndex;
}
function applyWallTexture(quads, row, col, facingAxis, orientation, wallTextureIndex) {
    var startIndex = (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getFirstVoxelQuadIndexInVoxel)(row, col);
    clearAllQuadsInVoxel(quads, startIndex);
    for (var collisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MIN; collisionLayer <= _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MAX; ++collisionLayer) {
        var startIndex_1 = (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getFirstVoxelQuadIndexInLayer)(row, col, collisionLayer);
        var offset = (0,_voxel_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_6__.getVoxelQuadIndexOffsetInsideLayer)(facingAxis, orientation);
        quads[startIndex_1 + offset] = 128 | wallTextureIndex;
    }
}
function clearAllQuadsInVoxel(quads, startIndex) {
    for (var i = startIndex; i < startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL; ++i)
        quads[i] = 0;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoomGenerator);


/***/ }),

/***/ "./src/shared/room/types/room.ts":
/*!***************************************!*\
  !*** ./src/shared/room/types/room.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_bufferState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/bufferState */ "./src/shared/networking/types/bufferState.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _voxel_types_voxelGrid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../voxel/types/voxelGrid */ "./src/shared/voxel/types/voxelGrid.ts");
/* harmony import */ var _object_types_persistentObjectGroup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../object/types/persistentObjectGroup */ "./src/shared/object/types/persistentObjectGroup.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
/* harmony import */ var _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../networking/types/encodableRaw4ByteNumber */ "./src/shared/networking/types/encodableRaw4ByteNumber.ts");
/* harmony import */ var _networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../networking/util/encodingUtil */ "./src/shared/networking/util/encodingUtil.ts");
/* harmony import */ var _roomType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./roomType */ "./src/shared/room/types/roomType.ts");
/* harmony import */ var _networking_types_encodableEnum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../networking/types/encodableEnum */ "./src/shared/networking/types/encodableEnum.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();









var Room = /** @class */ (function (_super) {
    __extends(Room, _super);
    function Room(roomID, roomName, roomType, ownerUserName, texturePackURL, voxelGrid, persistentObjectGroup) {
        var _this = _super.call(this) || this;
        _this.roomID = roomID;
        _this.roomName = roomName;
        _this.roomType = roomType;
        _this.ownerUserName = ownerUserName;
        _this.texturePackURL = texturePackURL;
        _this.voxelGrid = voxelGrid;
        _this.persistentObjectGroup = persistentObjectGroup;
        return _this;
    }
    Object.defineProperty(Room.prototype, "voxelQuads", {
        get: function () {
            return this.voxelGrid.quadsMem.quads;
        },
        enumerable: false,
        configurable: true
    });
    Room.prototype.toSQL = function () {
        var bufferState = _networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_6__["default"].startEncoding();
        this.voxelGrid.encode(bufferState);
        var voxelGridBuffer = _networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_6__["default"].endEncoding(bufferState);
        bufferState = _networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_6__["default"].startEncoding(bufferState.byteIndex);
        this.persistentObjectGroup.encode(bufferState);
        var persistentObjectGroupBuffer = _networking_util_encodingUtil__WEBPACK_IMPORTED_MODULE_6__["default"].endEncoding(bufferState);
        var sqlRoom = {
            roomID: this.roomID,
            roomName: this.roomName,
            roomType: this.roomType,
            ownerUserName: this.ownerUserName,
            texturePackURL: this.texturePackURL,
            voxelGrid: voxelGridBuffer,
            persistentObjectGroup: persistentObjectGroupBuffer,
        };
        return sqlRoom;
    };
    Room.fromSQL = function (sqlRoom) {
        var voxelGrid = _voxel_types_voxelGrid__WEBPACK_IMPORTED_MODULE_2__["default"].decode(new _networking_types_bufferState__WEBPACK_IMPORTED_MODULE_0__["default"](new Uint8Array(sqlRoom.voxelGrid)));
        var persistentObjectGroup = _object_types_persistentObjectGroup__WEBPACK_IMPORTED_MODULE_3__["default"].decode(new _networking_types_bufferState__WEBPACK_IMPORTED_MODULE_0__["default"](new Uint8Array(sqlRoom.persistentObjectGroup)));
        return new Room(sqlRoom.roomID, sqlRoom.roomName, sqlRoom.roomType, sqlRoom.ownerUserName, sqlRoom.texturePackURL, voxelGrid, persistentObjectGroup);
    };
    Room.prototype.encode = function (bufferState) {
        new _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_5__["default"](this.roomID).encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"](this.roomName).encode(bufferState);
        new _networking_types_encodableEnum__WEBPACK_IMPORTED_MODULE_8__["default"](this.roomType, _roomType__WEBPACK_IMPORTED_MODULE_7__.RoomTypeEnumMap).encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"](this.ownerUserName).encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"](this.texturePackURL).encode(bufferState);
        this.voxelGrid.encode(bufferState);
        this.persistentObjectGroup.encode(bufferState);
    };
    Room.decode = function (bufferState) {
        var roomID = _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_5__["default"].decode(bufferState).n;
        var roomName = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"].decode(bufferState).str;
        var roomType = _networking_types_encodableEnum__WEBPACK_IMPORTED_MODULE_8__["default"].decodeWithParams(bufferState, _roomType__WEBPACK_IMPORTED_MODULE_7__.RoomTypeEnumMap).enumValue;
        var ownerUserName = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"].decode(bufferState).str;
        var texturePackURL = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"].decode(bufferState).str;
        var voxelGrid = _voxel_types_voxelGrid__WEBPACK_IMPORTED_MODULE_2__["default"].decode(bufferState);
        var persistentObjectGroup = _object_types_persistentObjectGroup__WEBPACK_IMPORTED_MODULE_3__["default"].decode(bufferState);
        return new Room(roomID, roomName, roomType, ownerUserName, texturePackURL, voxelGrid, persistentObjectGroup);
    };
    return Room;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Room);


/***/ }),

/***/ "./src/shared/room/types/roomChangeRequestParams.ts":
/*!**********************************************************!*\
  !*** ./src/shared/room/types/roomChangeRequestParams.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableRaw4ByteNumber */ "./src/shared/networking/types/encodableRaw4ByteNumber.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var RoomChangeRequestParams = /** @class */ (function (_super) {
    __extends(RoomChangeRequestParams, _super);
    function RoomChangeRequestParams(roomID) {
        var _this = _super.call(this) || this;
        _this.roomID = roomID;
        return _this;
    }
    RoomChangeRequestParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.roomID).encode(bufferState);
    };
    RoomChangeRequestParams.decode = function (bufferState) {
        var roomID = _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
        return new RoomChangeRequestParams(roomID);
    };
    return RoomChangeRequestParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoomChangeRequestParams);


/***/ }),

/***/ "./src/shared/room/types/roomRuntimeMemory.ts":
/*!****************************************************!*\
  !*** ./src/shared/room/types/roomRuntimeMemory.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object_types_objectRuntimeMemory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../object/types/objectRuntimeMemory */ "./src/shared/object/types/objectRuntimeMemory.ts");
/* harmony import */ var _types_room__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/room */ "./src/shared/room/types/room.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../networking/types/encodableArray */ "./src/shared/networking/types/encodableArray.ts");
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var RoomRuntimeMemory = /** @class */ (function (_super) {
    __extends(RoomRuntimeMemory, _super);
    function RoomRuntimeMemory(room, participantUserNames, objectRuntimeMemories) {
        var _this = _super.call(this) || this;
        _this.room = room;
        _this.participantUserNames = participantUserNames;
        _this.objectRuntimeMemories = objectRuntimeMemories;
        return _this;
    }
    RoomRuntimeMemory.prototype.encode = function (bufferState) {
        this.room.encode(bufferState);
        new _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__["default"](Object.keys(this.participantUserNames).map(function (x) { return new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"](x); }), 65535).encode(bufferState);
        new _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__["default"](Object.values(this.objectRuntimeMemories), 65535).encode(bufferState);
    };
    RoomRuntimeMemory.decode = function (bufferState) {
        var room = _types_room__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState);
        var a1 = _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__["default"].decodeWithParams(bufferState, _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_4__["default"].decode, 65535);
        var participantUserNames = {};
        for (var _i = 0, _a = a1.arr; _i < _a.length; _i++) {
            var element = _a[_i];
            participantUserNames[element.str] = true;
        }
        var a2 = _networking_types_encodableArray__WEBPACK_IMPORTED_MODULE_3__["default"].decodeWithParams(bufferState, _object_types_objectRuntimeMemory__WEBPACK_IMPORTED_MODULE_0__["default"].decode, 65535);
        var objectRuntimeMemories = {};
        for (var _b = 0, _c = a2.arr; _b < _c.length; _b++) {
            var element = _c[_b];
            var obj = element;
            objectRuntimeMemories[obj.objectSpawnParams.objectId] = obj;
        }
        return new RoomRuntimeMemory(room, participantUserNames, objectRuntimeMemories);
    };
    return RoomRuntimeMemory;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_2__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoomRuntimeMemory);


/***/ }),

/***/ "./src/shared/room/types/roomType.ts":
/*!*******************************************!*\
  !*** ./src/shared/room/types/roomType.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RoomTypeEnumMap: () => (/* binding */ RoomTypeEnumMap)
/* harmony export */ });
var RoomTypeEnumMap = {
    Hub: 0,
    Regular: 1,
};


/***/ }),

/***/ "./src/shared/system/constants.ts":
/*!****************************************!*\
  !*** ./src/shared/system/constants.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AUTH_TOKEN_NAME_BASE: () => (/* binding */ AUTH_TOKEN_NAME_BASE),
/* harmony export */   COLLISION_LAYER_00_TO_05: () => (/* binding */ COLLISION_LAYER_00_TO_05),
/* harmony export */   COLLISION_LAYER_05_TO_10: () => (/* binding */ COLLISION_LAYER_05_TO_10),
/* harmony export */   COLLISION_LAYER_10_TO_15: () => (/* binding */ COLLISION_LAYER_10_TO_15),
/* harmony export */   COLLISION_LAYER_15_TO_20: () => (/* binding */ COLLISION_LAYER_15_TO_20),
/* harmony export */   COLLISION_LAYER_20_TO_25: () => (/* binding */ COLLISION_LAYER_20_TO_25),
/* harmony export */   COLLISION_LAYER_25_TO_30: () => (/* binding */ COLLISION_LAYER_25_TO_30),
/* harmony export */   COLLISION_LAYER_30_TO_35: () => (/* binding */ COLLISION_LAYER_30_TO_35),
/* harmony export */   COLLISION_LAYER_35_TO_40: () => (/* binding */ COLLISION_LAYER_35_TO_40),
/* harmony export */   COLLISION_LAYER_MAX: () => (/* binding */ COLLISION_LAYER_MAX),
/* harmony export */   COLLISION_LAYER_MIN: () => (/* binding */ COLLISION_LAYER_MIN),
/* harmony export */   COLLISION_LAYER_NULL: () => (/* binding */ COLLISION_LAYER_NULL),
/* harmony export */   LATEST_DB_VERSION: () => (/* binding */ LATEST_DB_VERSION),
/* harmony export */   MIN_OBJECT_LEVEL_CHANGE_INTERVAL: () => (/* binding */ MIN_OBJECT_LEVEL_CHANGE_INTERVAL),
/* harmony export */   NEAR_EPSILON: () => (/* binding */ NEAR_EPSILON),
/* harmony export */   NUM_COLLISION_LAYERS: () => (/* binding */ NUM_COLLISION_LAYERS),
/* harmony export */   NUM_VOXEL_COLS: () => (/* binding */ NUM_VOXEL_COLS),
/* harmony export */   NUM_VOXEL_QUADS_PER_COLLISION_LAYER: () => (/* binding */ NUM_VOXEL_QUADS_PER_COLLISION_LAYER),
/* harmony export */   NUM_VOXEL_QUADS_PER_ROOM: () => (/* binding */ NUM_VOXEL_QUADS_PER_ROOM),
/* harmony export */   NUM_VOXEL_QUADS_PER_VOXEL: () => (/* binding */ NUM_VOXEL_QUADS_PER_VOXEL),
/* harmony export */   NUM_VOXEL_ROWS: () => (/* binding */ NUM_VOXEL_ROWS),
/* harmony export */   SIGNAL_BATCH_SEND_INTERVAL: () => (/* binding */ SIGNAL_BATCH_SEND_INTERVAL),
/* harmony export */   USER_API_ROUTE_PATH: () => (/* binding */ USER_API_ROUTE_PATH),
/* harmony export */   VOXEL_GRID_TASK_TYPE_ADD: () => (/* binding */ VOXEL_GRID_TASK_TYPE_ADD),
/* harmony export */   VOXEL_GRID_TASK_TYPE_MOVE: () => (/* binding */ VOXEL_GRID_TASK_TYPE_MOVE),
/* harmony export */   VOXEL_GRID_TASK_TYPE_REMOVE: () => (/* binding */ VOXEL_GRID_TASK_TYPE_REMOVE),
/* harmony export */   VOXEL_GRID_TASK_TYPE_TEX: () => (/* binding */ VOXEL_GRID_TASK_TYPE_TEX),
/* harmony export */   Z_INDEX_HUD_MAIN: () => (/* binding */ Z_INDEX_HUD_MAIN),
/* harmony export */   Z_INDEX_HUD_OVERLAY: () => (/* binding */ Z_INDEX_HUD_OVERLAY),
/* harmony export */   Z_INDEX_INSTRUCTION: () => (/* binding */ Z_INDEX_INSTRUCTION),
/* harmony export */   Z_INDEX_LOADING_SCREEN: () => (/* binding */ Z_INDEX_LOADING_SCREEN),
/* harmony export */   Z_INDEX_NOTIFICATION: () => (/* binding */ Z_INDEX_NOTIFICATION),
/* harmony export */   Z_INDEX_POPUP: () => (/* binding */ Z_INDEX_POPUP)
/* harmony export */ });
// Networking
var LATEST_DB_VERSION = 0;
var AUTH_TOKEN_NAME_BASE = "thingspool_token_v".concat(LATEST_DB_VERSION);
var USER_API_ROUTE_PATH = "api/user";
var SIGNAL_BATCH_SEND_INTERVAL = 200; // in milliseconds
// Math
var NEAR_EPSILON = 0.000000001;
// Physics
var NUM_COLLISION_LAYERS = 8;
var COLLISION_LAYER_00_TO_05 = 0;
var COLLISION_LAYER_05_TO_10 = 1;
var COLLISION_LAYER_10_TO_15 = 2;
var COLLISION_LAYER_15_TO_20 = 3;
var COLLISION_LAYER_20_TO_25 = 4;
var COLLISION_LAYER_25_TO_30 = 5;
var COLLISION_LAYER_30_TO_35 = 6;
var COLLISION_LAYER_35_TO_40 = 7;
var COLLISION_LAYER_NULL = 8;
var COLLISION_LAYER_MIN = COLLISION_LAYER_00_TO_05;
var COLLISION_LAYER_MAX = COLLISION_LAYER_35_TO_40;
var MIN_OBJECT_LEVEL_CHANGE_INTERVAL = 0.2;
// Voxel Grid Dimensions
var NUM_VOXEL_ROWS = 32;
var NUM_VOXEL_COLS = 32;
var NUM_VOXEL_QUADS_PER_COLLISION_LAYER = 6; // corresponding to 6 sides of a 3D box: [-y, +y, -x, +x, -z, +z]
var NUM_VOXEL_QUADS_PER_VOXEL = (NUM_VOXEL_QUADS_PER_COLLISION_LAYER * NUM_COLLISION_LAYERS) + 2; // 2 is for the floor and ceiling quads, which sit outside of the collision layers (They belong to "COLLISION_LAYER_NULL").
var NUM_VOXEL_QUADS_PER_ROOM = NUM_VOXEL_QUADS_PER_VOXEL * NUM_VOXEL_ROWS * NUM_VOXEL_COLS; // 51200
// Voxel Grid Tasks
var VOXEL_GRID_TASK_TYPE_MOVE = 0;
var VOXEL_GRID_TASK_TYPE_ADD = 1;
var VOXEL_GRID_TASK_TYPE_REMOVE = 2;
var VOXEL_GRID_TASK_TYPE_TEX = 3;
/*export const VOXEL_GRID_TASK_TYPE_SHRINK_OR_EXPAND = 4;*/
// UI
var Z_INDEX_LOADING_SCREEN = "z-100"; // e.g. full-screen indicator that the whole app is transitioning to another state.
var Z_INDEX_NOTIFICATION = "z-80"; // e.g. toast message
var Z_INDEX_POPUP = "z-70"; // e.g. error popup, confirmation dialog window, form to fill out and submit
var Z_INDEX_INSTRUCTION = "z-60"; // e.g. tutorial's on-screen instruction
var Z_INDEX_HUD_OVERLAY = "z-55"; // e.g. temporary debug panel
var Z_INDEX_HUD_MAIN = "z-50"; // e.g. menu, editor panel


/***/ }),

/***/ "./src/shared/system/sharedObservables.ts":
/*!************************************************!*\
  !*** ./src/shared/system/sharedObservables.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   voxelQuadChangeObservable: () => (/* binding */ voxelQuadChangeObservable)
/* harmony export */ });
/* harmony import */ var _types_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types/observable */ "./src/shared/system/types/observable.ts");

var voxelQuadChangeObservable = new _types_observable__WEBPACK_IMPORTED_MODULE_0__["default"]();


/***/ }),

/***/ "./src/shared/system/types/observable.ts":
/*!***********************************************!*\
  !*** ./src/shared/system/types/observable.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var Observable = /** @class */ (function () {
    function Observable(defaultValue) {
        this.listeners = {};
        this.currValue = defaultValue;
    }
    Observable.prototype.notify = function (unicastKey) {
        if (this.currValue === undefined) {
            console.error("Current value is undefined");
            return;
        }
        if (unicastKey) // unicast
         {
            var listener = this.listeners[unicastKey];
            if (listener != undefined)
                listener(this.currValue);
            else
                console.error("Unicast key not found in the map of listeners (key = ".concat(unicastKey, ")"));
        }
        else // broadcast
         {
            for (var _i = 0, _a = Object.values(this.listeners); _i < _a.length; _i++) {
                var listener = _a[_i];
                listener(this.currValue);
            }
        }
    };
    Observable.prototype.set = function (value, unicastKey) {
        this.currValue = value;
        this.notify(unicastKey);
    };
    Observable.prototype.change = function (changeFunc, unicastKey) {
        if (this.currValue === undefined)
            throw new Error("Tried to apply a change to an undefined currValue in an Observable.");
        var newValue = changeFunc(this.currValue);
        this.set(newValue, unicastKey);
    };
    Observable.prototype.peek = function () {
        if (this.currValue === undefined)
            throw new Error("Tried to access an undefined currValue in an Observable.");
        return this.currValue;
    };
    Observable.prototype.addListener = function (key, callback) {
        if (this.listeners[key] != undefined)
            throw new Error("Listener key already exists (key = ".concat(key, ")"));
        this.listeners[key] = callback;
    };
    Observable.prototype.removeListener = function (key) {
        if (this.listeners[key] === undefined)
            throw new Error("Listener key doesn't exist (key = ".concat(key, ")"));
        delete this.listeners[key];
    };
    return Observable;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Observable);


/***/ }),

/***/ "./src/shared/system/util/errorUtil.ts":
/*!*********************************************!*\
  !*** ./src/shared/system/util/errorUtil.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var ErrorUtil = {
    getErrorMessage: function (err) {
        return (err instanceof Error) ? err.message : String(err);
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorUtil);


/***/ }),

/***/ "./src/shared/user/types/user.ts":
/*!***************************************!*\
  !*** ./src/shared/user/types/user.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableByteString */ "./src/shared/networking/types/encodableByteString.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../networking/types/encodableEnum */ "./src/shared/networking/types/encodableEnum.ts");
/* harmony import */ var _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../networking/types/encodableRaw4ByteNumber */ "./src/shared/networking/types/encodableRaw4ByteNumber.ts");
/* harmony import */ var _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
/* harmony import */ var _userType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./userType */ "./src/shared/user/types/userType.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var User = /** @class */ (function (_super) {
    __extends(User, _super);
    function User(userID, userName, userType, email, tutorialStep) {
        var _this = _super.call(this) || this;
        _this.userID = userID;
        _this.userName = userName;
        _this.userType = userType;
        _this.email = email;
        _this.tutorialStep = tutorialStep;
        return _this;
    }
    User.fromString = function (userString) {
        var fields = userString.split(" ");
        var userID = parseInt(fields[0]);
        var userName = fields[1];
        var userType = parseInt(fields[2]);
        var email = fields[3];
        var tutorialStep = parseInt(fields[4]);
        if (isNaN(userID))
            throw new Error("userID is NaN (userString = \"".concat(userString, "\")"));
        if (isNaN(userType))
            throw new Error("userType is NaN (userString = \"".concat(userString, "\")"));
        if (isNaN(tutorialStep))
            throw new Error("tutorialStep is NaN (userString = \"".concat(userString, "\")"));
        return new User(userID, userName, userType, email, tutorialStep);
    };
    User.prototype.toString = function () {
        return "".concat(this.userID, " ").concat(this.userName, " ").concat(this.userType, " ").concat(this.email, " ").concat(this.tutorialStep);
    };
    User.fromSQL = function (sqlUser) {
        return new User(sqlUser.userID, sqlUser.userName, sqlUser.userType, sqlUser.email, sqlUser.tutorialStep);
    };
    User.prototype.encode = function (bufferState) {
        new _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_3__["default"](this.userID).encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_0__["default"](this.userName).encode(bufferState);
        new _networking_types_encodableEnum__WEBPACK_IMPORTED_MODULE_2__["default"](this.userType, _userType__WEBPACK_IMPORTED_MODULE_5__.UserTypeEnumMap).encode(bufferState);
        new _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_0__["default"](this.email).encode(bufferState);
        new _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_4__["default"](this.tutorialStep).encode(bufferState);
    };
    User.decode = function (bufferState) {
        var userID = _networking_types_encodableRaw4ByteNumber__WEBPACK_IMPORTED_MODULE_3__["default"].decode(bufferState).n;
        var userName = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState).str;
        var userType = _networking_types_encodableEnum__WEBPACK_IMPORTED_MODULE_2__["default"].decodeWithParams(bufferState, _userType__WEBPACK_IMPORTED_MODULE_5__.UserTypeEnumMap).enumValue;
        var email = _networking_types_encodableByteString__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState).str;
        var tutorialStep = _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_4__["default"].decode(bufferState).n;
        return new User(userID, userName, userType, email, tutorialStep);
    };
    return User;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);


/***/ }),

/***/ "./src/shared/user/types/userType.ts":
/*!*******************************************!*\
  !*** ./src/shared/user/types/userType.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UserTypeEnumMap: () => (/* binding */ UserTypeEnumMap)
/* harmony export */ });
var UserTypeEnumMap = {
    Admin: 0,
    Member: 1,
    Guest: 2,
};


/***/ }),

/***/ "./src/shared/user/util/userInputValidator.ts":
/*!****************************************************!*\
  !*** ./src/shared/user/util/userInputValidator.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var UserInputValidator = {
    // Find error in the given text, and return the error message's localization key (if there is an error).
    findErrorInUserName: function (text) {
        if (text.length < 4 || text.length > 16)
            return "auth/error/userName/length";
        if (text != UserInputValidator.sanitizeUserName(text))
            return "auth/error/userName/chars";
        return null;
    },
    findErrorInPassword: function (text) {
        if (text.length < 6 || text.length > 24)
            return "auth/error/password/length";
        if (text != UserInputValidator.sanitizePassword(text))
            return "auth/error/password/chars";
        return null;
    },
    findErrorInEmailAddress: function (text) {
        if (text.length > 64)
            return "auth/error/email/length";
        var regex = /^[^\s@]+@[^\s@]+.[^\s@]+$/;
        if (!regex.test(text))
            return "auth/error/email/chars";
        return null;
    },
    findErrorInRoomName: function (text) {
        if (text.length < 4 || text.length > 64)
            return "auth/error/roomName/length";
        if (text != UserInputValidator.sanitizeRoomName(text))
            return "auth/error/roomName/chars";
        return null;
    },
    // Re-format the given text appropriately and return the resulting text.
    sanitizeUserName: function (text) {
        if (text.length > 16)
            text = text.substring(0, 16);
        return text.replace(/[^a-zA-Z0-9_]/g, "");
    },
    sanitizePassword: function (text) {
        if (text.length > 24)
            text = text.substring(0, 24);
        return text.replace(/[^a-zA-Z0-9~`!@#\$%\^&\*\(\)-_\+=\{\[\}\]\|\\:;"'<>,\.\?\/]/g, "");
    },
    sanitizeRoomName: function (text) {
        return UserInputValidator.sanitizeRoomNameWithoutTrimming(text).trim();
    },
    sanitizeRoomNameWithoutTrimming: function (text) {
        if (text.length > 64)
            text = text.substring(0, 64);
        return text.replace(/[^a-zA-Z0-9~`!@#\$%\^&\*\(\)-_\+=\{\[\}\]\|\\:;"'<>,\.\?\/\s]/g, "")
            .replace(/\s+/g, " "); // replace multiple consecutive spaces with a single space.
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserInputValidator);


/***/ }),

/***/ "./src/shared/voxel/types/update/addVoxelBlockParams.ts":
/*!**************************************************************!*\
  !*** ./src/shared/voxel/types/update/addVoxelBlockParams.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../networking/types/encodableRaw2ByteNumber */ "./src/shared/networking/types/encodableRaw2ByteNumber.ts");
/* harmony import */ var _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updateVoxelGridTaskParams */ "./src/shared/voxel/types/update/updateVoxelGridTaskParams.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AddVoxelBlockParams = /** @class */ (function (_super) {
    __extends(AddVoxelBlockParams, _super);
    function AddVoxelBlockParams(quadIndex, /*xShrink: boolean, zShrink: boolean,*/ quadTextureIndicesWithinLayer) {
        var _this = _super.call(this, _system_constants__WEBPACK_IMPORTED_MODULE_2__.VOXEL_GRID_TASK_TYPE_ADD) || this;
        _this.quadIndex = quadIndex;
        /*this.xShrink = xShrink;
        this.zShrink = zShrink;*/
        _this.quadTextureIndicesWithinLayer = quadTextureIndicesWithinLayer;
        return _this;
    }
    AddVoxelBlockParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"](this.quadIndex).encode(bufferState);
        /*bufferState.view[bufferState.byteIndex++] = (this.xShrink ? 0b10 : 0) | (this.zShrink ? 1 : 0);*/
        for (var i = 0; i < _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER; ++i)
            new _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.quadTextureIndicesWithinLayer[i]).encode(bufferState);
    };
    AddVoxelBlockParams.decode = function (bufferState) {
        var quadIndex = _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState).n;
        /*const shrinkByte = bufferState.view[bufferState.byteIndex++];
        const xShrink = (shrinkByte & 0b10) != 0;
        const zShrink = (shrinkByte & 1) != 0;*/
        var quadTextureIndicesWithinLayer = new Array(_system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER);
        for (var i = 0; i < _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER; ++i)
            quadTextureIndicesWithinLayer[i] = _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
        return new AddVoxelBlockParams(quadIndex, /*xShrink, zShrink,*/ quadTextureIndicesWithinLayer);
    };
    return AddVoxelBlockParams;
}(_updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_3__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddVoxelBlockParams);


/***/ }),

/***/ "./src/shared/voxel/types/update/moveVoxelBlockParams.ts":
/*!***************************************************************!*\
  !*** ./src/shared/voxel/types/update/moveVoxelBlockParams.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../networking/types/encodableRaw2ByteNumber */ "./src/shared/networking/types/encodableRaw2ByteNumber.ts");
/* harmony import */ var _networking_types_encodableRawSignedByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../networking/types/encodableRawSignedByteNumber */ "./src/shared/networking/types/encodableRawSignedByteNumber.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updateVoxelGridTaskParams */ "./src/shared/voxel/types/update/updateVoxelGridTaskParams.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var MoveVoxelBlockParams = /** @class */ (function (_super) {
    __extends(MoveVoxelBlockParams, _super);
    function MoveVoxelBlockParams(quadIndex, rowOffset, colOffset, collisionLayerOffset) {
        var _this = _super.call(this, _system_constants__WEBPACK_IMPORTED_MODULE_2__.VOXEL_GRID_TASK_TYPE_MOVE) || this;
        _this.quadIndex = quadIndex;
        _this.rowOffset = rowOffset;
        _this.colOffset = colOffset;
        _this.collisionLayerOffset = collisionLayerOffset;
        return _this;
    }
    MoveVoxelBlockParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"](this.quadIndex).encode(bufferState);
        new _networking_types_encodableRawSignedByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.rowOffset).encode(bufferState);
        new _networking_types_encodableRawSignedByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.colOffset).encode(bufferState);
        new _networking_types_encodableRawSignedByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.collisionLayerOffset).encode(bufferState);
    };
    MoveVoxelBlockParams.decode = function (bufferState) {
        var quadIndex = _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState).n;
        var rowOffset = _networking_types_encodableRawSignedByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
        var colOffset = _networking_types_encodableRawSignedByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
        var collisionLayerOffset = _networking_types_encodableRawSignedByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
        return new MoveVoxelBlockParams(quadIndex, rowOffset, colOffset, collisionLayerOffset);
    };
    return MoveVoxelBlockParams;
}(_updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_3__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MoveVoxelBlockParams);


/***/ }),

/***/ "./src/shared/voxel/types/update/removeVoxelBlockParams.ts":
/*!*****************************************************************!*\
  !*** ./src/shared/voxel/types/update/removeVoxelBlockParams.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../networking/types/encodableRaw2ByteNumber */ "./src/shared/networking/types/encodableRaw2ByteNumber.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateVoxelGridTaskParams */ "./src/shared/voxel/types/update/updateVoxelGridTaskParams.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var RemoveVoxelBlockParams = /** @class */ (function (_super) {
    __extends(RemoveVoxelBlockParams, _super);
    function RemoveVoxelBlockParams(quadIndex) {
        var _this = _super.call(this, _system_constants__WEBPACK_IMPORTED_MODULE_1__.VOXEL_GRID_TASK_TYPE_REMOVE) || this;
        _this.quadIndex = quadIndex;
        return _this;
    }
    RemoveVoxelBlockParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"](this.quadIndex).encode(bufferState);
    };
    RemoveVoxelBlockParams.decode = function (bufferState) {
        var quadIndex = _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState).n;
        return new RemoveVoxelBlockParams(quadIndex);
    };
    return RemoveVoxelBlockParams;
}(_updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_2__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveVoxelBlockParams);


/***/ }),

/***/ "./src/shared/voxel/types/update/setVoxelQuadTextureParams.ts":
/*!********************************************************************!*\
  !*** ./src/shared/voxel/types/update/setVoxelQuadTextureParams.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../networking/types/encodableRaw2ByteNumber */ "./src/shared/networking/types/encodableRaw2ByteNumber.ts");
/* harmony import */ var _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updateVoxelGridTaskParams */ "./src/shared/voxel/types/update/updateVoxelGridTaskParams.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var SetVoxelQuadTextureParams = /** @class */ (function (_super) {
    __extends(SetVoxelQuadTextureParams, _super);
    function SetVoxelQuadTextureParams(quadIndex, textureIndex) {
        var _this = _super.call(this, _system_constants__WEBPACK_IMPORTED_MODULE_2__.VOXEL_GRID_TASK_TYPE_TEX) || this;
        _this.quadIndex = quadIndex;
        _this.textureIndex = textureIndex;
        return _this;
    }
    SetVoxelQuadTextureParams.prototype.encode = function (bufferState) {
        new _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"](this.quadIndex).encode(bufferState);
        new _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](this.textureIndex).encode(bufferState);
    };
    SetVoxelQuadTextureParams.decode = function (bufferState) {
        var quadIndex = _networking_types_encodableRaw2ByteNumber__WEBPACK_IMPORTED_MODULE_0__["default"].decode(bufferState).n;
        var textureIndex = _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
        return new SetVoxelQuadTextureParams(quadIndex, textureIndex);
    };
    return SetVoxelQuadTextureParams;
}(_updateVoxelGridTaskParams__WEBPACK_IMPORTED_MODULE_3__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetVoxelQuadTextureParams);


/***/ }),

/***/ "./src/shared/voxel/types/update/updateVoxelGridParams.ts":
/*!****************************************************************!*\
  !*** ./src/shared/voxel/types/update/updateVoxelGridParams.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _addVoxelBlockParams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./addVoxelBlockParams */ "./src/shared/voxel/types/update/addVoxelBlockParams.ts");
/* harmony import */ var _moveVoxelBlockParams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./moveVoxelBlockParams */ "./src/shared/voxel/types/update/moveVoxelBlockParams.ts");
/* harmony import */ var _removeVoxelBlockParams__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./removeVoxelBlockParams */ "./src/shared/voxel/types/update/removeVoxelBlockParams.ts");
/* harmony import */ var _setVoxelQuadTextureParams__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./setVoxelQuadTextureParams */ "./src/shared/voxel/types/update/setVoxelQuadTextureParams.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var UpdateVoxelGridParams = /** @class */ (function (_super) {
    __extends(UpdateVoxelGridParams, _super);
    function UpdateVoxelGridParams(tasks) {
        var _this = _super.call(this) || this;
        _this.tasks = tasks;
        return _this;
    }
    UpdateVoxelGridParams.prototype.encode = function (bufferState) {
        for (var _i = 0, _a = this.tasks; _i < _a.length; _i++) {
            var task = _a[_i];
            new _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"](task.type).encode(bufferState);
            task.encode(bufferState);
        }
    };
    UpdateVoxelGridParams.decode = function (bufferState) {
        var tasks = [];
        while (bufferState.byteIndex < bufferState.view.byteLength) {
            var taskType = _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_1__["default"].decode(bufferState).n;
            switch (taskType) {
                case _system_constants__WEBPACK_IMPORTED_MODULE_2__.VOXEL_GRID_TASK_TYPE_MOVE:
                    tasks.push(_moveVoxelBlockParams__WEBPACK_IMPORTED_MODULE_4__["default"].decode(bufferState));
                    break;
                case _system_constants__WEBPACK_IMPORTED_MODULE_2__.VOXEL_GRID_TASK_TYPE_ADD:
                    tasks.push(_addVoxelBlockParams__WEBPACK_IMPORTED_MODULE_3__["default"].decode(bufferState));
                    break;
                case _system_constants__WEBPACK_IMPORTED_MODULE_2__.VOXEL_GRID_TASK_TYPE_REMOVE:
                    tasks.push(_removeVoxelBlockParams__WEBPACK_IMPORTED_MODULE_5__["default"].decode(bufferState));
                    break;
                case _system_constants__WEBPACK_IMPORTED_MODULE_2__.VOXEL_GRID_TASK_TYPE_TEX:
                    tasks.push(_setVoxelQuadTextureParams__WEBPACK_IMPORTED_MODULE_6__["default"].decode(bufferState));
                    break;
                /*case VOXEL_GRID_TASK_TYPE_SHRINK_OR_EXPAND:
                    tasks.push(ShrinkOrExpandVoxelBlockParams.decode(bufferState) as ShrinkOrExpandVoxelBlockParams);
                    break;*/
                default:
                    console.error("Unknown task type :: ".concat(taskType));
                    break;
            }
        }
        return new UpdateVoxelGridParams(tasks);
    };
    return UpdateVoxelGridParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateVoxelGridParams);


/***/ }),

/***/ "./src/shared/voxel/types/update/updateVoxelGridTaskParams.ts":
/*!********************************************************************!*\
  !*** ./src/shared/voxel/types/update/updateVoxelGridTaskParams.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var UpdateVoxelGridTaskParams = /** @class */ (function (_super) {
    __extends(UpdateVoxelGridTaskParams, _super);
    function UpdateVoxelGridTaskParams(type) {
        var _this = _super.call(this) || this;
        _this.type = type;
        return _this;
    }
    UpdateVoxelGridTaskParams.prototype.encode = function (bufferState) {
        throw new Error("Thie 'encode' method in UpdateVoxelGridTaskParams must be overriden by a child class.");
    };
    UpdateVoxelGridTaskParams.decode = function (bufferState) {
        throw new Error("Thie 'decode' method in UpdateVoxelGridTaskParams must be overriden by a child class.");
    };
    return UpdateVoxelGridTaskParams;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateVoxelGridTaskParams);


/***/ }),

/***/ "./src/shared/voxel/types/voxel.ts":
/*!*****************************************!*\
  !*** ./src/shared/voxel/types/voxel.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/voxelQueryUtil */ "./src/shared/voxel/util/voxelQueryUtil.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var temp_quadsMem;
var temp_row = -1;
var temp_col = -1;
var Voxel = /** @class */ (function (_super) {
    __extends(Voxel, _super);
    function Voxel(quadsMem, row, col, 
    /*xShrinkMask: number, zShrinkMask: number,*/ collisionLayerMask) {
        var _this = _super.call(this) || this;
        _this.quadsMem = quadsMem;
        _this.gameObjectId = "";
        _this.row = row;
        _this.col = col;
        /*this.xShrinkMask = xShrinkMask;
        this.zShrinkMask = zShrinkMask;*/
        _this.collisionLayerMask = collisionLayerMask;
        return _this;
    }
    Voxel.prototype.setGameObjectId = function (id) {
        this.gameObjectId = id;
    };
    Voxel.prototype.encode = function (bufferState) {
        /*if (this.xShrinkMask < 0 || this.xShrinkMask > 255)
            throw new Error(`Voxel's xShrinkMask is out of its range (value found = ${this.xShrinkMask}, range = [0:255])`);
        if (this.zShrinkMask < 0 || this.zShrinkMask > 255)
            throw new Error(`Voxel's zShrinkMask is out of its range (value found = ${this.zShrinkMask}, range = [0:255])`);*/
        if (this.collisionLayerMask < 0 || this.collisionLayerMask > 255)
            throw new Error("Voxel's collisionLayerMask is out of its range (value found = ".concat(this.collisionLayerMask, ", range = [0:255])"));
        /*// X-Shrink Byte
        bufferState.view[bufferState.byteIndex++] = this.xShrinkMask;

        // Z-Shrink Byte
        bufferState.view[bufferState.byteIndex++] = this.zShrinkMask;*/
        var quads = this.quadsMem.quads;
        var startIndex = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getFirstVoxelQuadIndexInVoxel)(this.row, this.col);
        bufferState.view[bufferState.byteIndex++] =
            quads[startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL - 2]; // Floor Byte (= second last quad of the voxel)
        bufferState.view[bufferState.byteIndex++] =
            quads[startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL - 1]; // Ceiling Byte (= last quad of the voxel)
        // CollisionLayerMask Byte
        bufferState.view[bufferState.byteIndex++] = this.collisionLayerMask;
        // 6-Byte CollisionLayer Contents (NUM_VOXEL_QUADS_PER_COLLISION_LAYER = 6)
        var collisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MIN;
        while (collisionLayer <= _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MAX) {
            if (((1 << collisionLayer) & this.collisionLayerMask) != 0) // Layer is occupied
             {
                var startIndex_1 = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getFirstVoxelQuadIndexInLayer)(this.row, this.col, collisionLayer);
                for (var i = startIndex_1; i < startIndex_1 + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER; ++i)
                    bufferState.view[bufferState.byteIndex++] = quads[i];
            }
            collisionLayer++;
        }
    };
    Voxel.decodeWithParams = function (bufferState, quadsMem, row, col) {
        temp_quadsMem = quadsMem;
        temp_row = row;
        temp_col = col;
        return Voxel.decode(bufferState);
    };
    Voxel.decode = function (bufferState) {
        /*// X-Shrink Byte
        const xShrinkMask = bufferState.view[bufferState.byteIndex++];

        // Z-Shrink Byte
        const zShrinkMask = bufferState.view[bufferState.byteIndex++];*/
        var quads = temp_quadsMem.quads;
        var startIndex = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getFirstVoxelQuadIndexInVoxel)(temp_row, temp_col);
        quads[startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL - 2] =
            bufferState.view[bufferState.byteIndex++]; // Floor Byte (= second last quad of the voxel)
        quads[startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL - 1] =
            bufferState.view[bufferState.byteIndex++]; // Ceiling Byte (= last quad of the voxel)
        // CollisionLayerMask Byte
        var collisionLayerMask = bufferState.view[bufferState.byteIndex++];
        var numCollisionLayers = 0;
        var collisionLayerMaskCopy = collisionLayerMask;
        while (collisionLayerMaskCopy != 0) // Count the number of 1s in collisionLayerMask's binary representation.
         {
            numCollisionLayers++;
            collisionLayerMaskCopy >>= 1;
        }
        // 6-Byte CollisionLayer Contents
        var collisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MIN;
        while (collisionLayer <= _system_constants__WEBPACK_IMPORTED_MODULE_1__.COLLISION_LAYER_MAX) {
            var startIndex_2 = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getFirstVoxelQuadIndexInLayer)(temp_row, temp_col, collisionLayer);
            if (((1 << collisionLayer) & collisionLayerMask) != 0) // Layer is occupied
             {
                for (var i = startIndex_2; i < startIndex_2 + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER; ++i)
                    quads[i] = bufferState.view[bufferState.byteIndex++];
            }
            else // Layer is NOT occupied
             {
                for (var i = startIndex_2; i < startIndex_2 + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER; ++i)
                    quads[i] = 0;
            }
            collisionLayer++;
        }
        return new Voxel(temp_quadsMem, temp_row, temp_col, /*xShrinkMask, zShrinkMask,*/ collisionLayerMask);
    };
    Voxel.prototype.toString = function () {
        var quads = this.quadsMem.quads;
        var quadStrs = ["(".concat(this.row, ",").concat(this.col, "):")];
        var firstIndex = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getFirstVoxelQuadIndexInVoxel)(this.row, this.col);
        for (var quadIndex = firstIndex; quadIndex < firstIndex + _system_constants__WEBPACK_IMPORTED_MODULE_1__.NUM_VOXEL_QUADS_PER_VOXEL; ++quadIndex) {
            var facingAxis = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadFacingAxisFromQuadIndex)(quadIndex);
            var orientation = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadOrientationFromQuadIndex)(quadIndex);
            var collisionLayer = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadCollisionLayerFromQuadIndex)(quadIndex);
            var quad = quads[quadIndex];
            var showQuad = (quad & 128) != 0;
            var textureIndex = quad & 127;
            if (showQuad)
                quadStrs.push("".concat(orientation).concat(facingAxis, " at ").concat(collisionLayer, " (texture ").concat(textureIndex, ")"));
        }
        return quadStrs.join("\n        ");
    };
    return Voxel;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_0__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Voxel);
//------------------------------------------------------------------------------
// Each Voxel's Binary-Encoded Format:
//------------------------------------------------------------------------------
//
// Layout: [X-Shrink Byte][Z-Shrink Byte][Floor Byte][Ceiling Byte][CollisionLayerMask Byte][6-Byte CollisionLayer Content][6-Byte CollisionLayer Content]...
//
// [X-Shrink Byte]:
//     8-bit binary mask to indicate whether to shrink each collisionLayer's block in the X direction (to a fraction of the full block size).
//
// [Z-Shrink Byte]:
//     8-bit binary mask to indicate whether to shrink each collisionLayer's block in the Z direction (to a fraction of the full block size).
//
// [Floor Byte]:
//     8 bits for the floor's (+y) facing quad
//
// [Ceiling Byte]:
//     8 bits for the ceiling's (-y) facing quad
//
// [CollisionLayerMask Byte]:
//     8 bits for the voxel's collisionLayerMask (e.g. Least significant bit represents whether the range y=[0,0.5] is occupied, second least significant bit represents whether the range y=[0.5,1] is occupied, and so on)
//     Subsequent 6-byte chunks will correspond to the consecutive "1"s in the collisionLayerMask.
//     e.g. If the collisionLayerMask is 10000101:
//         (1) The 1st subsequent 6-byte chunk will correspond to the quads surrounding the volume in y=[0,0.5] (= 1st layer from y=0)
//         (2) The 2nd subsequent 6-byte chunk will correspond to the quads surrounding the volume in y=[1,1.5] (= 3rd layer from y=0)
//         (3) The 3rd subsequent 6-byte chunk will correspond to the quads surrounding the volume in y=[3.5,4] (= 8th layer from y=0)
//
// [6-Byte CollisionLayer Content]:
//     8 bits for the (-y) facing quad
//     8 bits for the (+y) facing quad
//     8 bits for the (-x) facing quad
//     8 bits for the (+x) facing quad
//     8 bits for the (-z) facing quad
//     8 bits for the (+z) facing quad
//
// Note: (Maximum memory size of a room's voxelGrid) = about 52KB
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
// Each Voxel-Quad's Binary-Encoded Format:
//------------------------------------------------------------------------------
//
// 1 bit to indicate whether the quad is shown or hidden (1 = shown, 0 = hidden)
// 7 bits for the quad's textureIndex
//
//------------------------------------------------------------------------------


/***/ }),

/***/ "./src/shared/voxel/types/voxelGrid.ts":
/*!*********************************************!*\
  !*** ./src/shared/voxel/types/voxelGrid.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _voxel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./voxel */ "./src/shared/voxel/types/voxel.ts");
/* harmony import */ var _networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../networking/types/encodableData */ "./src/shared/networking/types/encodableData.ts");
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _voxelQuadsRuntimeMemory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./voxelQuadsRuntimeMemory */ "./src/shared/voxel/types/voxelQuadsRuntimeMemory.ts");
/* harmony import */ var _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../networking/types/encodableRawByteNumber */ "./src/shared/networking/types/encodableRawByteNumber.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var latestVersion = 0;
var VoxelGrid = /** @class */ (function (_super) {
    __extends(VoxelGrid, _super);
    function VoxelGrid(voxels, quadsMem) {
        var _this = _super.call(this) || this;
        _this.voxels = voxels;
        _this.quadsMem = quadsMem;
        return _this;
    }
    VoxelGrid.prototype.encode = function (bufferState) {
        new _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_4__["default"](latestVersion).encode(bufferState);
        for (var _i = 0, _a = this.voxels; _i < _a.length; _i++) {
            var voxel = _a[_i];
            voxel.encode(bufferState);
        }
    };
    VoxelGrid.decode = function (bufferState) {
        var versionFound = _networking_types_encodableRawByteNumber__WEBPACK_IMPORTED_MODULE_4__["default"].decode(bufferState).n;
        if (versionFound < latestVersion) {
            var data = olderVersionDecoders[versionFound](bufferState);
            for (var version = versionFound; version < latestVersion; ++version)
                data = versionConverters[version](data);
            return data;
        }
        var numVoxels = _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_ROWS * _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_COLS;
        var voxels = new Array(numVoxels);
        voxels.length = 0;
        var numGridColsInv = 1 / _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_COLS;
        var voxelIndex = 0;
        var quadsMem = new _voxelQuadsRuntimeMemory__WEBPACK_IMPORTED_MODULE_3__["default"]();
        while (voxelIndex < numVoxels) {
            var row = Math.floor(voxelIndex * numGridColsInv);
            var col = voxelIndex % _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_COLS;
            if (row < 0 || col < 0 || row >= _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_ROWS || col >= _system_constants__WEBPACK_IMPORTED_MODULE_2__.NUM_VOXEL_COLS)
                throw new Error("Decoded voxel coordinates are out of range (row = ".concat(row, ", col = ").concat(col, ")"));
            var voxel = _voxel__WEBPACK_IMPORTED_MODULE_0__["default"].decodeWithParams(bufferState, quadsMem, row, col);
            voxels[voxelIndex++] = voxel;
        }
        return new VoxelGrid(voxels, quadsMem);
    };
    return VoxelGrid;
}(_networking_types_encodableData__WEBPACK_IMPORTED_MODULE_1__["default"]));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VoxelGrid);
var olderVersionDecoders = [
    function (bufferState) {
        return new VoxelGrid([], new _voxelQuadsRuntimeMemory__WEBPACK_IMPORTED_MODULE_3__["default"]()); // This is just a placeholder
    },
];
var versionConverters = [
    function (olderVersionData) {
        return new VoxelGrid([], new _voxelQuadsRuntimeMemory__WEBPACK_IMPORTED_MODULE_3__["default"]()); // This is just a placeholder
    },
];


/***/ }),

/***/ "./src/shared/voxel/types/voxelQuadChange.ts":
/*!***************************************************!*\
  !*** ./src/shared/voxel/types/voxelQuadChange.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/voxelQueryUtil */ "./src/shared/voxel/util/voxelQueryUtil.ts");

var VoxelQuadChange = /** @class */ (function () {
    function VoxelQuadChange(quadIndex, newQuad) {
        this.quadIndex = quadIndex;
        this.newQuad = newQuad;
    }
    VoxelQuadChange.prototype.toString = function () {
        var row = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_0__.getVoxelRowFromQuadIndex)(this.quadIndex);
        var col = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_0__.getVoxelColFromQuadIndex)(this.quadIndex);
        var facingAxis = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_0__.getVoxelQuadFacingAxisFromQuadIndex)(this.quadIndex);
        var orientation = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_0__.getVoxelQuadOrientationFromQuadIndex)(this.quadIndex);
        var collisionLayer = (0,_util_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_0__.getVoxelQuadCollisionLayerFromQuadIndex)(this.quadIndex);
        var showQuad = (this.newQuad & 128) != 0;
        var textureIndex = this.newQuad & 127;
        return "(".concat(row, ",").concat(col, ") ").concat(orientation).concat(facingAxis, " at ").concat(collisionLayer, " ---> ").concat(showQuad ? "show" : "hide", " texture ").concat(textureIndex, "\n    Result: ").concat(this.voxelQuadsResultSnapshot || "(?)");
    };
    return VoxelQuadChange;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VoxelQuadChange);


/***/ }),

/***/ "./src/shared/voxel/types/voxelQuadsRuntimeMemory.ts":
/*!***********************************************************!*\
  !*** ./src/shared/voxel/types/voxelQuadsRuntimeMemory.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../system/constants */ "./src/shared/system/constants.ts");

var VoxelQuadsRuntimeMemory = /** @class */ (function () {
    function VoxelQuadsRuntimeMemory() {
        this.quads = new Uint8Array(_system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_ROOM);
    }
    return VoxelQuadsRuntimeMemory;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VoxelQuadsRuntimeMemory);


/***/ }),

/***/ "./src/shared/voxel/util/voxelBlockUpdateUtil.ts":
/*!*******************************************************!*\
  !*** ./src/shared/voxel/util/voxelBlockUpdateUtil.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addVoxelBlock: () => (/* binding */ addVoxelBlock),
/* harmony export */   moveVoxelBlock: () => (/* binding */ moveVoxelBlock),
/* harmony export */   removeVoxelBlock: () => (/* binding */ removeVoxelBlock),
/* harmony export */   setVoxelBlockUpdateUtilDebugEnabled: () => (/* binding */ setVoxelBlockUpdateUtilDebugEnabled)
/* harmony export */ });
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./voxelQuadUpdateUtil */ "./src/shared/voxel/util/voxelQuadUpdateUtil.ts");
/* harmony import */ var _voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./voxelQueryUtil */ "./src/shared/voxel/util/voxelQueryUtil.ts");



var debugEnabled = false;
function setVoxelBlockUpdateUtilDebugEnabled(enabled) {
    debugEnabled = enabled;
}
function moveVoxelBlock(room, quadIndex, rowOffset, colOffset, collisionLayerOffset) {
    var row = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelRowFromQuadIndex)(quadIndex);
    var col = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelColFromQuadIndex)(quadIndex);
    var collisionLayer = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadCollisionLayerFromQuadIndex)(quadIndex);
    if (debugEnabled)
        console.log("START - moveBlock - row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer, ", rowOffset: ").concat(rowOffset, ", colOffset: ").concat(colOffset, ", collisionLayerOffset: ").concat(collisionLayerOffset));
    var voxel = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxel)(room, row, col);
    if (!voxel) {
        console.error("No voxel found in (row: ".concat(row, ", col: ").concat(col, ")"));
        return false;
    }
    /*const xShrink = (voxel.xShrinkMask & (1 << collisionLayer)) != 0;
    const zShrink = (voxel.zShrinkMask & (1 << collisionLayer)) != 0;*/
    var quadTextureIndicesWithinLayer = [];
    var startIndex = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getFirstVoxelQuadIndexInLayer)(row, col, collisionLayer);
    for (var i = startIndex; i < startIndex + _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER; ++i)
        quadTextureIndicesWithinLayer.push(room.voxelGrid.quadsMem.quads[i] & 127);
    var newCollisionLayer = collisionLayer + collisionLayerOffset;
    if (newCollisionLayer < _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN || newCollisionLayer > _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX)
        newCollisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_NULL;
    var targetQuadIndex = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndex)(row + rowOffset, col + colOffset, "y", "-", newCollisionLayer);
    var success = addVoxelBlock(room, targetQuadIndex, /*xShrink, zShrink,*/ quadTextureIndicesWithinLayer)
        && removeVoxelBlock(room, quadIndex);
    if (debugEnabled)
        console.log("END - moveBlock - row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer, ", rowOffset: ").concat(rowOffset, ", colOffset: ").concat(colOffset, ", collisionLayerOffset: ").concat(collisionLayerOffset));
    return success;
}
function addVoxelBlock(room, quadIndex, /*xShrink: boolean, zShrink: boolean,*/ quadTextureIndicesWithinLayer) {
    var row = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelRowFromQuadIndex)(quadIndex);
    var col = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelColFromQuadIndex)(quadIndex);
    var collisionLayer = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadCollisionLayerFromQuadIndex)(quadIndex);
    if (debugEnabled)
        console.log("START - addBlock - row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer, ", quadTextureIndicesWithinLayer: ").concat(JSON.stringify(quadTextureIndicesWithinLayer)));
    if (collisionLayer < _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN || collisionLayer > _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX) {
        console.warn("collisionLayer is out of range (row: ".concat(row, ", col: ").concat(col, ", collisionLayer = ").concat(collisionLayer, ")"));
        return false;
    }
    if (row <= 0 || col <= 0 || row >= _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_ROWS - 1 || col >= _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS - 1) {
        console.warn("Cannot change a boundary voxel. (row: ".concat(row, ", col: ").concat(col, ", collisionLayer = ").concat(collisionLayer, ")"));
        return false;
    }
    var voxel = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxel)(room, row, col);
    if (!voxel) {
        console.error("No voxel found in (row: ".concat(row, ", col: ").concat(col, ")"));
        return false;
    }
    if ((0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.isVoxelCollisionLayerOccupied)(voxel, collisionLayer)) {
        console.error("Voxel block already exists (row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer, ")"));
        return false;
    }
    voxel.collisionLayerMask ^= (1 << collisionLayer);
    /*if (xShrink)
        voxel.xShrinkMask |= (1 << collisionLayer);
    else
        voxel.xShrinkMask &= ~(1 << collisionLayer);

    if (zShrink)
        voxel.zShrinkMask |= (1 << collisionLayer);
    else
        voxel.zShrinkMask &= ~(1 << collisionLayer);*/
    updateAllVoxelBlockSides(room, voxel, collisionLayer, quadTextureIndicesWithinLayer);
    if (debugEnabled)
        console.log("END - addBlock - row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer, ", quadTextureIndicesWithinLayer: ").concat(JSON.stringify(quadTextureIndicesWithinLayer)));
    return true;
}
function removeVoxelBlock(room, quadIndex) {
    var row = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelRowFromQuadIndex)(quadIndex);
    var col = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelColFromQuadIndex)(quadIndex);
    var collisionLayer = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadCollisionLayerFromQuadIndex)(quadIndex);
    if (debugEnabled)
        console.log("START - removeBlock - row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer));
    if (collisionLayer < _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN || collisionLayer > _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX) {
        console.warn("collisionLayer is out of range (row: ".concat(row, ", col: ").concat(col, ", collisionLayer = ").concat(collisionLayer, ")"));
        return false;
    }
    if (row <= 0 || col <= 0 || row >= _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_ROWS - 1 || col >= _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS - 1) {
        console.warn("Cannot change a boundary voxel. (row: ".concat(row, ", col: ").concat(col, ", collisionLayer = ").concat(collisionLayer, ")"));
        return false;
    }
    var voxel = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxel)(room, row, col);
    if (!voxel) {
        console.error("No voxel found in (row: ".concat(row, ", col: ").concat(col, ")"));
        return false;
    }
    if (!(0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.isVoxelCollisionLayerOccupied)(voxel, collisionLayer)) {
        console.error("No voxel block to remove (row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer, ")"));
        return false;
    }
    voxel.collisionLayerMask ^= (1 << collisionLayer);
    updateAllVoxelBlockSides(room, voxel, collisionLayer);
    if (debugEnabled)
        console.log("END - removeBlock - row: ".concat(row, ", col: ").concat(col, ", collisionLayer: ").concat(collisionLayer));
    return true;
}
/*export function shrinkOrExpandVoxelBlock(room: Room, quadIndex: number): boolean
{
    const row = getVoxelRowFromQuadIndex(quadIndex);
    const col = getVoxelColFromQuadIndex(quadIndex);
    const collisionLayer = getVoxelQuadCollisionLayerFromQuadIndex(quadIndex);
    const facingAxis = getVoxelQuadFacingAxisFromQuadIndex(quadIndex);

    if (debugEnabled)
        console.log(`START - shrinkOrExpandVoxelBlock - row: ${row}, col: ${col}, collisionLayer: ${collisionLayer}`);

    if (collisionLayer < COLLISION_LAYER_MIN || collisionLayer > COLLISION_LAYER_MAX)
    {
        console.warn(`collisionLayer is out of range (row: ${row}, col: ${col}, collisionLayer = ${collisionLayer})`);
        return false;
    }
    if (row <= 0 || col <= 0 || row >= NUM_VOXEL_ROWS-1 || col >= NUM_VOXEL_COLS-1)
    {
        console.warn(`Cannot change a boundary voxel. (row: ${row}, col: ${col}, collisionLayer = ${collisionLayer})`);
        return false;
    }
    const voxel = getVoxel(room, row, col);
    if (!voxel)
    {
        console.error(`No voxel found in (row: ${row}, col: ${col})`);
        return false;
    }

    switch (facingAxis)
    {
        case "y":
            if ((voxel.xShrinkMask & (1 << collisionLayer)) != (voxel.zShrinkMask & (1 << collisionLayer)))
            {
                voxel.xShrinkMask |= (1 << collisionLayer);
                voxel.zShrinkMask |= (1 << collisionLayer);
            }
            else
            {
                voxel.xShrinkMask ^= (1 << collisionLayer);
                voxel.zShrinkMask ^= (1 << collisionLayer);
            }
            break;
        case "x":
            voxel.zShrinkMask ^= (1 << collisionLayer);
            break;
        case "z":
            voxel.xShrinkMask ^= (1 << collisionLayer);
            break;
    }
    updateAllVoxelBlockSides(room, voxel, collisionLayer);

    if (debugEnabled)
        console.log(`END - shrinkOrExpandVoxelBlock - row: ${row}, col: ${col}, collisionLayer: ${collisionLayer}`);
    return true;
}*/
function updateAllVoxelBlockSides(room, voxel, collisionLayer, quadTextureIndicesWithinLayer) {
    var lowerCollisionLayer = collisionLayer - 1;
    if (lowerCollisionLayer < _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN)
        lowerCollisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_NULL;
    var upperCollisionLayer = collisionLayer + 1;
    if (upperCollisionLayer > _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX)
        upperCollisionLayer = _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_NULL;
    updateVoxelBlockSide(room, voxel, collisionLayer, lowerCollisionLayer, upperCollisionLayer, "y", "-", quadTextureIndicesWithinLayer != undefined ?
        quadTextureIndicesWithinLayer[(0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndexOffsetInsideLayer)("y", "-")] : undefined);
    updateVoxelBlockSide(room, voxel, collisionLayer, lowerCollisionLayer, upperCollisionLayer, "y", "+", quadTextureIndicesWithinLayer != undefined ?
        quadTextureIndicesWithinLayer[(0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndexOffsetInsideLayer)("y", "+")] : undefined);
    updateVoxelBlockSide(room, voxel, collisionLayer, lowerCollisionLayer, upperCollisionLayer, "x", "-", quadTextureIndicesWithinLayer != undefined ?
        quadTextureIndicesWithinLayer[(0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndexOffsetInsideLayer)("x", "-")] : undefined);
    updateVoxelBlockSide(room, voxel, collisionLayer, lowerCollisionLayer, upperCollisionLayer, "x", "+", quadTextureIndicesWithinLayer != undefined ?
        quadTextureIndicesWithinLayer[(0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndexOffsetInsideLayer)("x", "+")] : undefined);
    updateVoxelBlockSide(room, voxel, collisionLayer, lowerCollisionLayer, upperCollisionLayer, "z", "-", quadTextureIndicesWithinLayer != undefined ?
        quadTextureIndicesWithinLayer[(0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndexOffsetInsideLayer)("z", "-")] : undefined);
    updateVoxelBlockSide(room, voxel, collisionLayer, lowerCollisionLayer, upperCollisionLayer, "z", "+", quadTextureIndicesWithinLayer != undefined ?
        quadTextureIndicesWithinLayer[(0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndexOffsetInsideLayer)("z", "+")] : undefined);
}
function updateVoxelBlockSide(room, voxel, collisionLayer, lowerCollisionLayer, upperCollisionLayer, facingAxis, outOrientation, quadTextureIndicesWithinLayer) {
    if (quadTextureIndicesWithinLayer === void 0) { quadTextureIndicesWithinLayer = -1; }
    var adjBlockVoxel = voxel;
    var adjBlockCollisionLayer = collisionLayer;
    switch (facingAxis) {
        case "y":
            adjBlockCollisionLayer = (outOrientation == "-" ? lowerCollisionLayer : upperCollisionLayer);
            break;
        case "x":
            adjBlockVoxel = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxel)(room, voxel.row, voxel.col + (outOrientation == "-" ? -1 : 1));
            break;
        case "z":
            adjBlockVoxel = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxel)(room, voxel.row + (outOrientation == "-" ? -1 : 1), voxel.col);
            break;
    }
    var myBlockOccupied = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.isVoxelCollisionLayerOccupied)(voxel, collisionLayer);
    /*const myBlockXShrink = (voxel.xShrinkMask & (1 << collisionLayer)) != 0;
    const myBlockZShrink = (voxel.zShrinkMask & (1 << collisionLayer)) != 0;*/
    var adjBlockOccupied = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.isVoxelCollisionLayerOccupied)(adjBlockVoxel, adjBlockCollisionLayer);
    /*const adjBlockXShrink = (adjBlockCollisionLayer == COLLISION_LAYER_NULL)
        ? false : ((adjBlockVoxel.xShrinkMask & (1 << adjBlockCollisionLayer)) != 0);
    const adjBlockZShrink = (adjBlockCollisionLayer == COLLISION_LAYER_NULL)
        ? false : ((adjBlockVoxel.zShrinkMask & (1 << adjBlockCollisionLayer)) != 0);*/
    var showMyQuad = myBlockOccupied && !adjBlockOccupied;
    var showAdjQuad = adjBlockOccupied && !myBlockOccupied;
    /*let showMyQuad: boolean;
    let showAdjQuad: boolean;

    switch (facingAxis)
    {
        case "y":
            showMyQuad = myBlockOccupied && (!adjBlockOccupied ||
                (!myBlockXShrink && adjBlockXShrink) || // Block is partially exposed
                (!myBlockZShrink && adjBlockZShrink) // Block is partially exposed
            );
            showAdjQuad = adjBlockOccupied && (!myBlockOccupied ||
                (!adjBlockXShrink && myBlockXShrink) || // Block is partially exposed
                (!adjBlockZShrink && myBlockZShrink) // Block is partially exposed
            );
            break;
        case "x":
            showMyQuad = myBlockOccupied && (!adjBlockOccupied ||
                (adjBlockXShrink || myBlockXShrink) || // There is a gap between the two blocks
                (!myBlockZShrink && adjBlockZShrink) // Block is partially exposed
            );
            showAdjQuad = adjBlockOccupied && (!myBlockOccupied ||
                (myBlockXShrink || adjBlockXShrink) || // There is a gap between the two blocks
                (!adjBlockZShrink && myBlockZShrink) // Block is partially exposed
            );
            break;
        case "z":
            showMyQuad = myBlockOccupied && (!adjBlockOccupied ||
                (adjBlockZShrink || myBlockZShrink) || // There is a gap between the two blocks
                (!myBlockXShrink && adjBlockXShrink) // Block is partially exposed
            );
            showAdjQuad = adjBlockOccupied && (!myBlockOccupied ||
                (myBlockZShrink || adjBlockZShrink) || // There is a gap between the two blocks
                (!adjBlockXShrink && myBlockXShrink) // Block is partially exposed
            );
            break;
    }*/
    (0,_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_1__.setVoxelQuadVisible)(showMyQuad, voxel, facingAxis, outOrientation, collisionLayer, quadTextureIndicesWithinLayer);
    (0,_voxelQuadUpdateUtil__WEBPACK_IMPORTED_MODULE_1__.setVoxelQuadVisible)(showAdjQuad, adjBlockVoxel, facingAxis, outOrientation == "-" ? "+" : "-", adjBlockCollisionLayer);
}


/***/ }),

/***/ "./src/shared/voxel/util/voxelQuadUpdateUtil.ts":
/*!******************************************************!*\
  !*** ./src/shared/voxel/util/voxelQuadUpdateUtil.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   setVoxelQuadUpdateUtilDebugEnabled: () => (/* binding */ setVoxelQuadUpdateUtilDebugEnabled),
/* harmony export */   setVoxelQuadVisible: () => (/* binding */ setVoxelQuadVisible)
/* harmony export */ });
/* harmony import */ var _system_sharedObservables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../system/sharedObservables */ "./src/shared/system/sharedObservables.ts");
/* harmony import */ var _types_voxelQuadChange__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/voxelQuadChange */ "./src/shared/voxel/types/voxelQuadChange.ts");
/* harmony import */ var _voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./voxelQueryUtil */ "./src/shared/voxel/util/voxelQueryUtil.ts");



var debugEnabled = false;
function setVoxelQuadUpdateUtilDebugEnabled(enabled) {
    debugEnabled = enabled;
}
function setVoxelQuadVisible(visible, voxel, facingAxis, orientation, collisionLayer, textureIndex) {
    if (textureIndex === void 0) { textureIndex = -1; }
    var quadIndex = (0,_voxelQueryUtil__WEBPACK_IMPORTED_MODULE_2__.getVoxelQuadIndex)(voxel.row, voxel.col, facingAxis, orientation, collisionLayer);
    var oldQuad = voxel.quadsMem.quads[quadIndex];
    var newTextureIndex = (textureIndex >= 0) ? textureIndex : (oldQuad & 127);
    var newQuad = (newTextureIndex & 127) | (visible ? 128 : 0);
    if (newQuad == oldQuad)
        return false; // no change
    voxel.quadsMem.quads[quadIndex] = newQuad;
    var change = new _types_voxelQuadChange__WEBPACK_IMPORTED_MODULE_1__["default"](quadIndex, newQuad);
    if (debugEnabled)
        change.voxelQuadsResultSnapshot = String(voxel);
    _system_sharedObservables__WEBPACK_IMPORTED_MODULE_0__.voxelQuadChangeObservable.set(change);
    return true;
}


/***/ }),

/***/ "./src/shared/voxel/util/voxelQueryUtil.ts":
/*!*************************************************!*\
  !*** ./src/shared/voxel/util/voxelQueryUtil.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFirstVoxelQuadIndexInLayer: () => (/* binding */ getFirstVoxelQuadIndexInLayer),
/* harmony export */   getFirstVoxelQuadIndexInVoxel: () => (/* binding */ getFirstVoxelQuadIndexInVoxel),
/* harmony export */   getHighestOccupiedVoxelCollisionLayer: () => (/* binding */ getHighestOccupiedVoxelCollisionLayer),
/* harmony export */   getVoxel: () => (/* binding */ getVoxel),
/* harmony export */   getVoxelColFromQuadIndex: () => (/* binding */ getVoxelColFromQuadIndex),
/* harmony export */   getVoxelQuadCollisionLayerAfterOffset: () => (/* binding */ getVoxelQuadCollisionLayerAfterOffset),
/* harmony export */   getVoxelQuadCollisionLayerFromQuadIndex: () => (/* binding */ getVoxelQuadCollisionLayerFromQuadIndex),
/* harmony export */   getVoxelQuadFacingAxisFromQuadIndex: () => (/* binding */ getVoxelQuadFacingAxisFromQuadIndex),
/* harmony export */   getVoxelQuadIndex: () => (/* binding */ getVoxelQuadIndex),
/* harmony export */   getVoxelQuadIndexOffsetInsideLayer: () => (/* binding */ getVoxelQuadIndexOffsetInsideLayer),
/* harmony export */   getVoxelQuadOrientationFromQuadIndex: () => (/* binding */ getVoxelQuadOrientationFromQuadIndex),
/* harmony export */   getVoxelQuadTransformDimensions: () => (/* binding */ getVoxelQuadTransformDimensions),
/* harmony export */   getVoxelRowFromQuadIndex: () => (/* binding */ getVoxelRowFromQuadIndex),
/* harmony export */   isVoxelCollisionLayerOccupied: () => (/* binding */ isVoxelCollisionLayerOccupied)
/* harmony export */ });
/* harmony import */ var _system_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../system/constants */ "./src/shared/system/constants.ts");

//-------------------------------------------------------------------------------------
// Basic
//-------------------------------------------------------------------------------------
function getVoxel(room, row, col) {
    if (row < 0 || row >= _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_ROWS || col < 0 || col >= _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS)
        throw new Error("Voxel coordinates are out of range (row: ".concat(row, ", col: ").concat(col, ")"));
    return room.voxelGrid.voxels[row * _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS + col];
}
//-------------------------------------------------------------------------------------
// Physics
//-------------------------------------------------------------------------------------
function isVoxelCollisionLayerOccupied(voxel, collisionLayer) {
    if (collisionLayer < _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN || collisionLayer > _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX)
        return true;
    return (voxel.collisionLayerMask & (1 << collisionLayer)) != 0;
}
// Returns COLLISION_LAYER_NULL if no layer is occupied
function getHighestOccupiedVoxelCollisionLayer(voxel) {
    var layer = _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX;
    var maskTemp = voxel.collisionLayerMask;
    while ((maskTemp & 128) == 0) {
        maskTemp <<= 1;
        if (maskTemp == 0)
            return _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_NULL;
        layer--;
    }
    return layer;
}
//-------------------------------------------------------------------------------------
// Get quadIndex from properties
//-------------------------------------------------------------------------------------
function getVoxelQuadIndex(row, col, facingAxis, orientation, collisionLayer) {
    var firstIndex = getFirstVoxelQuadIndexInLayer(row, col, collisionLayer);
    var offset = getVoxelQuadIndexOffsetInsideLayer(facingAxis, orientation);
    if (offset >= _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER)
        return -1; // invalid quad
    else
        return firstIndex + offset;
}
function getFirstVoxelQuadIndexInLayer(row, col, collisionLayer) {
    return getFirstVoxelQuadIndexInVoxel(row, col) +
        _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER * collisionLayer;
}
function getFirstVoxelQuadIndexInVoxel(row, col) {
    var voxelIndex = row * _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS + col;
    return _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_VOXEL * voxelIndex;
}
function getVoxelQuadIndexOffsetInsideLayer(facingAxis, orientation) {
    return 2 * (facingAxis == "y" ? 0 : (facingAxis == "x" ? 1 : 2)) +
        (orientation == "-" ? 0 : 1);
}
//-------------------------------------------------------------------------------------
// Get properties from quadIndex
//-------------------------------------------------------------------------------------
function getVoxelQuadFacingAxisFromQuadIndex(quadIndex) {
    var facingAxisCode = Math.floor(((quadIndex % _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_VOXEL) % _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_COLLISION_LAYER) * 0.5);
    return (facingAxisCode == 0 ? "y" : (facingAxisCode == 1 ? "x" : "z"));
}
function getVoxelQuadOrientationFromQuadIndex(quadIndex) {
    return (quadIndex % 2 == 0) ? "-" : "+";
}
function getVoxelQuadCollisionLayerFromQuadIndex(quadIndex) {
    return Math.floor((quadIndex % _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_VOXEL) / 6);
}
function getVoxelQuadCollisionLayerAfterOffset(quadIndex, collisionLayerOffset) {
    var newCollisionLayer = getVoxelQuadCollisionLayerFromQuadIndex(quadIndex) + collisionLayerOffset;
    if (newCollisionLayer < _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN || newCollisionLayer > _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX)
        return _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_NULL;
    return newCollisionLayer;
}
function getVoxelRowFromQuadIndex(quadIndex) {
    var voxelIndex = Math.floor(quadIndex / _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_VOXEL);
    return Math.floor(voxelIndex / _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS);
}
function getVoxelColFromQuadIndex(quadIndex) {
    var voxelIndex = Math.floor(quadIndex / _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_QUADS_PER_VOXEL);
    return voxelIndex % _system_constants__WEBPACK_IMPORTED_MODULE_0__.NUM_VOXEL_COLS;
}
//-------------------------------------------------------------------------------------
// Get transform dimensions from properties
//-------------------------------------------------------------------------------------
function getVoxelQuadTransformDimensions(voxel, quadIndex) {
    var quad = voxel.quadsMem.quads[quadIndex];
    if ((quad & 128) == 0) // quad is hidden
        return { offsetX: 0, offsetY: -9999, offsetZ: 0, dirX: 0, dirY: -1, dirZ: 0, scaleX: 1, scaleY: 1, scaleZ: 1 };
    var facingAxis = getVoxelQuadFacingAxisFromQuadIndex(quadIndex);
    var orientation = getVoxelQuadOrientationFromQuadIndex(quadIndex);
    var collisionLayer = getVoxelQuadCollisionLayerFromQuadIndex(quadIndex);
    /*const xShrink = (voxel.xShrinkMask & (1 << collisionLayer)) != 0;
    const zShrink = (voxel.zShrinkMask & (1 << collisionLayer)) != 0;*/
    var offsetX = 0, offsetY = 0, offsetZ = 0, dirX = 0, dirY = 0, dirZ = 0, scaleX = 1, scaleY = 0.5, scaleZ = 1;
    if (facingAxis == "y")
        scaleY = 1;
    /*switch (facingAxis)
    {
        case "y":
            scaleX = xShrink ? 0.5 : 1;
            scaleY = zShrink ? 0.5 : 1;
            break;
        case "x":
            scaleX = zShrink ? 0.5 : 1;
            break;
        case "z":
            scaleX = xShrink ? 0.5 : 1;
            break;
    }*/
    if (collisionLayer < _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MIN || collisionLayer > _system_constants__WEBPACK_IMPORTED_MODULE_0__.COLLISION_LAYER_MAX) {
        offsetY = (orientation == "+") ? 0 : 4; // floor or ceiling
    }
    else {
        if (facingAxis == "y")
            offsetY = ((orientation == "-") ? 0 : 0.5) + 0.5 * collisionLayer;
        else
            offsetY = 0.25 + 0.5 * collisionLayer;
    }
    switch (facingAxis) {
        case "x":
            if (orientation == "+") {
                dirX = 1;
                dirY = 0;
                dirZ = 0;
                offsetX += 0.5;
            }
            else {
                dirX = -1;
                dirY = 0;
                dirZ = 0;
                offsetX -= 0.5;
            }
            break;
        case "y":
            if (orientation == "+") {
                dirX = 0;
                dirY = 1;
                dirZ = 0;
            }
            else {
                dirX = 0;
                dirY = -1;
                dirZ = 0;
            }
            break;
        case "z":
            if (orientation == "+") {
                dirX = 0;
                dirY = 0;
                dirZ = 1;
                offsetZ += 0.5;
            }
            else {
                dirX = 0;
                dirY = 0;
                dirZ = -1;
                offsetZ -= 0.5;
            }
            break;
        default:
            throw new Error("Unknown facingAxis (".concat(facingAxis, ")"));
    }
    /*switch (facingAxis)
    {
        case "x":
            if (orientation == "+") { dirX = 1; dirY = 0; dirZ = 0; offsetX += xShrink ? 0.25 : 0.5; }
            else { dirX = -1; dirY = 0; dirZ = 0; offsetX -= xShrink ? 0.25 : 0.5; }
            break;
        case "y":
            if (orientation == "+") { dirX = 0; dirY = 1; dirZ = 0; }
            else { dirX = 0; dirY = -1; dirZ = 0; }
            break;
        case "z":
            if (orientation == "+") { dirX = 0; dirY = 0; dirZ = 1; offsetZ += zShrink ? 0.25 : 0.5; }
            else { dirX = 0; dirY = 0; dirZ = -1; offsetZ -= zShrink ? 0.25 : 0.5; }
            break;
        default:
            throw new Error(`Unknown facingAxis (${facingAxis})`);
    }*/
    return { offsetX: offsetX, offsetY: offsetY, offsetZ: offsetZ, dirX: dirX, dirY: dirY, dirZ: dirZ, scaleX: scaleX, scaleY: scaleY, scaleZ: scaleZ };
}


/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = require("axios");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("body-parser");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("cookie");

/***/ }),

/***/ "cookie-parser":
/*!********************************!*\
  !*** external "cookie-parser" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("cookie-parser");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "ejs":
/*!**********************!*\
  !*** external "ejs" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("ejs");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("express");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "hpp":
/*!**********************!*\
  !*** external "hpp" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("hpp");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("socket.io");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other modules in the chunk.
(() => {
/*!******************************!*\
  !*** ./src/server/server.ts ***!
  \******************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! http */ "http");
/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(http__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! body-parser */ "body-parser");
/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(body_parser__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cookie-parser */ "cookie-parser");
/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cookie_parser__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var hpp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hpp */ "hpp");
/* harmony import */ var hpp__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(hpp__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _ssg_ssg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ssg/ssg */ "./src/server/ssg/ssg.ts");
/* harmony import */ var _db_db__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./db/db */ "./src/server/db/db.ts");
/* harmony import */ var _router_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./router/router */ "./src/server/router/router.ts");
/* harmony import */ var _sockets_sockets__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sockets/sockets */ "./src/server/sockets/sockets.ts");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dotenv */ "dotenv");
/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _db_roomDB__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./db/roomDB */ "./src/server/db/roomDB.ts");
/* harmony import */ var _networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./networking/util/addressUtil */ "./src/server/networking/util/addressUtil.ts");
/* harmony import */ var _db_tasks_dbTask_init__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./db/tasks/dbTask_init */ "./src/server/db/tasks/dbTask_init.ts");
/* harmony import */ var _shared_system_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shared/system/constants */ "./src/shared/system/constants.ts");
/* harmony import */ var _shared_room_types_roomType__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../shared/room/types/roomType */ "./src/shared/room/types/roomType.ts");
/* harmony import */ var _db_searchDB__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./db/searchDB */ "./src/server/db/searchDB.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
















dotenv__WEBPACK_IMPORTED_MODULE_9___default().config();
function Server() {
    return __awaiter(this, void 0, void 0, function () {
        var result, dbVersion, roomSearchResult, success, app, server;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (!!process.env.SKIP_SSG) return [3 /*break*/, 4];
                    if (!(process.env.MODE == "dev")) return [3 /*break*/, 2];
                    return [4 /*yield*/, (0,_ssg_ssg__WEBPACK_IMPORTED_MODULE_5__["default"])()];
                case 1:
                    _a.sent();
                    return [3 /*break*/, 4];
                case 2:
                    if (!(process.env.MODE == "ssg")) return [3 /*break*/, 4];
                    return [4 /*yield*/, (0,_ssg_ssg__WEBPACK_IMPORTED_MODULE_5__["default"])()];
                case 3:
                    _a.sent();
                    return [2 /*return*/];
                case 4: return [4 /*yield*/, _db_db__WEBPACK_IMPORTED_MODULE_6__["default"].runQuery("DROP DATABASE IF EXISTS main;")];
                case 5:
                    // database initialization
                    if (!(_a.sent()).success)
                        return [2 /*return*/]; // <--- Reset the DB every time the server restarts (TODO: Remove this once the DB system gets fully stabilized.)
                    return [4 /*yield*/, _db_db__WEBPACK_IMPORTED_MODULE_6__["default"].runQuery("CREATE DATABASE IF NOT EXISTS main;")];
                case 6:
                    if (!(_a.sent()).success)
                        return [2 /*return*/];
                    return [4 /*yield*/, _db_db__WEBPACK_IMPORTED_MODULE_6__["default"].runQuery("USE main;")];
                case 7:
                    if (!(_a.sent()).success)
                        return [2 /*return*/];
                    return [4 /*yield*/, _db_db__WEBPACK_IMPORTED_MODULE_6__["default"].runQuery("CREATE TABLE IF NOT EXISTS globalData (dbVersion INT NOT NULL);")];
                case 8:
                    if (!(_a.sent()).success)
                        return [2 /*return*/];
                    return [4 /*yield*/, _db_db__WEBPACK_IMPORTED_MODULE_6__["default"].runQuery("SELECT dbVersion FROM globalData;")];
                case 9:
                    result = _a.sent();
                    if (!result.success)
                        return [2 /*return*/];
                    if (!(!result.data || result.data.length == 0)) return [3 /*break*/, 11];
                    return [4 /*yield*/, (0,_db_tasks_dbTask_init__WEBPACK_IMPORTED_MODULE_12__["default"])()];
                case 10:
                    if (!(_a.sent()))
                        return [2 /*return*/];
                    return [3 /*break*/, 12];
                case 11:
                    dbVersion = result.data[0];
                    console.log("Current DB Version: ".concat(dbVersion));
                    while (dbVersion < _shared_system_constants__WEBPACK_IMPORTED_MODULE_13__.LATEST_DB_VERSION) {
                        // Implement version migration routines here:
                        // ...
                        dbVersion++;
                    }
                    _a.label = 12;
                case 12: return [4 /*yield*/, _db_searchDB__WEBPACK_IMPORTED_MODULE_15__["default"].rooms.withRoomType(_shared_room_types_roomType__WEBPACK_IMPORTED_MODULE_14__.RoomTypeEnumMap.Hub)];
                case 13:
                    roomSearchResult = _a.sent();
                    if (!roomSearchResult.success)
                        return [2 /*return*/];
                    if (!(roomSearchResult.data.length == 0)) return [3 /*break*/, 15];
                    return [4 /*yield*/, _db_roomDB__WEBPACK_IMPORTED_MODULE_10__["default"].createRoom("hub", _shared_room_types_roomType__WEBPACK_IMPORTED_MODULE_14__.RoomTypeEnumMap.Hub, "", 0, 1, 2, "".concat(process.env.MODE == "dev" ? "http://".concat(_networking_util_addressUtil__WEBPACK_IMPORTED_MODULE_11__["default"].getLocalIpAddress(), ":").concat(process.env.PORT) : process.env.URL_STATIC, "/app/assets/texture_packs/default.jpg"))];
                case 14:
                    success = _a.sent();
                    if (!success)
                        return [2 /*return*/];
                    _a.label = 15;
                case 15:
                    app = express__WEBPACK_IMPORTED_MODULE_0___default()();
                    server = http__WEBPACK_IMPORTED_MODULE_1___default().createServer(app);
                    // config
                    app.set("view engine", "ejs");
                    // middleware
                    app.use(body_parser__WEBPACK_IMPORTED_MODULE_2___default().json());
                    app.use(body_parser__WEBPACK_IMPORTED_MODULE_2___default().urlencoded({ extended: true }));
                    app.use(cookie_parser__WEBPACK_IMPORTED_MODULE_3___default()());
                    app.use(hpp__WEBPACK_IMPORTED_MODULE_4___default()()); // for HTTP parameter pollution prevention
                    /*if (process.env.MODE == "dev")
                    {
                        app.use(cors({
                            origin: "*",
                            credentials: true,
                        }));
                    }*/
                    // router
                    (0,_router_router__WEBPACK_IMPORTED_MODULE_7__["default"])(app);
                    // server connection
                    server.listen(process.env.PORT, function () {
                        console.log("---------------------------------------------");
                        console.log("Listening to port ".concat(process.env.PORT, "."));
                    });
                    // socket connection
                    (0,_sockets_sockets__WEBPACK_IMPORTED_MODULE_8__["default"])(server);
                    return [2 /*return*/];
            }
        });
    });
}
Server();
// Prevent automatic restart when the server app crashes (only on dev mode)
if (process.env.MODE == "dev")
    setInterval(function () { }, 36000000);

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsOENBQU8sRUFBRSxDQUFDO29CQUNoQixNQUFNLEdBQUcsd0RBQWlCLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBRXRDLFNBQVM7b0JBQ1QsR0FBRyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7b0JBRTlCLGFBQWE7b0JBQ2IsR0FBRyxDQUFDLEdBQUcsQ0FBQyx1REFBZSxFQUFFLENBQUMsQ0FBQztvQkFDM0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyw2REFBcUIsQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ25ELEdBQUcsQ0FBQyxHQUFHLENBQUMsb0RBQVksRUFBRSxDQUFDLENBQUM7b0JBQ3hCLEdBQUcsQ0FBQyxHQUFHLENBQUMsMENBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQywwQ0FBMEM7b0JBQzFEOzs7Ozs7dUJBTUc7b0JBRUgsU0FBUztvQkFDVCwwREFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUVaLG9CQUFvQjtvQkFDcEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRTt3QkFDNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO3dCQUM3RCxPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUFxQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksTUFBRyxDQUFDLENBQUM7b0JBQzFELENBQUMsQ0FBQyxDQUFDO29CQUVILG9CQUFvQjtvQkFDcEIsNERBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7Ozs7Q0FDbkI7QUFFRCxNQUFNLEVBQUUsQ0FBQztBQUVULDJFQUEyRTtBQUMzRSxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEtBQUs7SUFDekIsV0FBVyxDQUFDLGNBQU8sQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvY2xpZW50L25ldHdvcmtpbmcvYXBpL3Jlc3RBUEkudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL2RiL2RiLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9kYi9yb29tREIudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL2RiL3NlYXJjaERCLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9kYi90YXNrcy9kYlRhc2tfaW5pdC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvZGIvdHlwZXMvc3FsUXVlcnkudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL2RiL3R5cGVzL3NxbFRyYW5zYWN0aW9uLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9kYi91c2VyREIudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL25ldHdvcmtpbmcvdXRpbC9hZGRyZXNzVXRpbC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvbmV0d29ya2luZy91dGlsL2Nvb2tpZVV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL25ldHdvcmtpbmcvdXRpbC9zZXJ2ZXJMb2dVdGlsLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9yb29tL3Jvb21NYW5hZ2VyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9yb29tL3V0aWwvcm9vbUNvcmVVdGlsLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9yb29tL3V0aWwvcm9vbU9iamVjdFV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3Jvb20vdXRpbC9yb29tVXNlclV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3Jvb20vdXRpbC9yb29tVm94ZWxVdGlsLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9yb3V0ZXIvYXBpL3VzZXJSb3V0ZXIudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3JvdXRlci9yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3JvdXRlci91aS9wYWdlUm91dGVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zb2NrZXRzL2NvbnNvbGVTb2NrZXRzLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zb2NrZXRzL2dhbWVTb2NrZXRzLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zb2NrZXRzL3NvY2tldHMudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3NvY2tldHMvdHlwZXMvc29ja2V0Um9vbUNvbnRleHQudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3NvY2tldHMvdHlwZXMvc29ja2V0VXNlckNvbnRleHQudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3NzZy9idWlsZGVyL2F0b21GZWVkQnVpbGRlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL2J1aWxkZXIvZW1iZWRkZWRTY3JpcHRCdWlsZGVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zc2cvYnVpbGRlci9wYWdlL2FyY2FkZUdhbWVQYWdlQnVpbGRlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL2J1aWxkZXIvcGFnZS9hcmNhZGVQYWdlQnVpbGRlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL2J1aWxkZXIvcGFnZS9lcnJvclBhZ2VCdWlsZGVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zc2cvYnVpbGRlci9wYWdlL2xpYnJhcnlQYWdlQnVpbGRlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL2J1aWxkZXIvcGFnZS9saWJyYXJ5UG9zdExpc3RQYWdlQnVpbGRlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL2J1aWxkZXIvcGFnZS9saWJyYXJ5UG9zdFBhZ2VCdWlsZGVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zc2cvYnVpbGRlci9zaXRlbWFwQnVpbGRlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL2J1aWxkZXIvdGV4dEZpbGVCdWlsZGVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zc2cvZGF0YS9hcmNhZGVEYXRhLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NlcnZlci9zc2cvZGF0YS9saWJyYXJ5RGF0YS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL3NzZy50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL3N0eWxlL3N0eWxlRGljdGlvbmFyeS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL3V0aWwvZWpzVXRpbC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc3NnL3V0aWwvZmlsZVV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3VzZXIvdXRpbC91c2VyQXV0aEdvb2dsZVV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3VzZXIvdXRpbC91c2VyQXV0aFBhc3N3b3JkVXRpbC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvdXNlci91dGlsL3VzZXJJZGVudGlmaWNhdGlvblV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2VydmVyL3VzZXIvdXRpbC91c2VyU2VhcmNoVXRpbC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvdXNlci91dGlsL3VzZXJUb2tlblV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL2VtYmVkZGVkU2NyaXB0cy9jb25maWcvdWlDb25maWcuanMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL2VtYmVkZGVkU2NyaXB0cy91dGlsL3RleHRVdGlsLmpzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9sb2NhbGl6YXRpb24vdXRpbC9sb2NVdGlsLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9tYXRoL3V0aWwvZ2VvbWV0cnkyRC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvbWF0aC91dGlsL251bS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvbWF0aC91dGlsL3ZlY3RvcjJELnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9uZXR3b3JraW5nL21hcHMvc2lnbmFsVHlwZUNvbmZpZ01hcC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVBcnJheS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVCeXRlTnVtYmVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZUJ5dGVTdHJpbmcudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlQnl0ZVZlYzIudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVFbnVtLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZVJhdzJCeXRlTnVtYmVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZVJhdzRCeXRlTnVtYmVyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZVJhd0J5dGVOdW1iZXIudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlUmF3U2lnbmVkQnl0ZU51bWJlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvbmV0d29ya2luZy91dGlsL2VuY29kaW5nVXRpbC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvb2JqZWN0L21hcHMvb2JqZWN0VHlwZUNvbmZpZ01hcC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdERlc3Bhd25QYXJhbXMudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL29iamVjdC90eXBlcy9vYmplY3REZXN5bmNSZXNvbHZlUGFyYW1zLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9vYmplY3QvdHlwZXMvb2JqZWN0TWVzc2FnZVBhcmFtcy50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdFJ1bnRpbWVNZW1vcnkudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL29iamVjdC90eXBlcy9vYmplY3RTcGF3blBhcmFtcy50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdFN5bmNQYXJhbXMudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL29iamVjdC90eXBlcy9vYmplY3RUcmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL29iamVjdC90eXBlcy9wZXJzaXN0ZW50T2JqZWN0LnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9vYmplY3QvdHlwZXMvcGVyc2lzdGVudE9iamVjdEdyb3VwLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9waHlzaWNzL3BoeXNpY3NNYW5hZ2VyLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9waHlzaWNzL3V0aWwvcGh5c2ljc0NvbGxpc2lvblV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL3BoeXNpY3MvdXRpbC9waHlzaWNzT2JqZWN0VXRpbC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvcGh5c2ljcy91dGlsL3BoeXNpY3NWb3hlbFV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL3Jvb20vcm9vbUdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvcm9vbS90eXBlcy9yb29tLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9yb29tL3R5cGVzL3Jvb21DaGFuZ2VSZXF1ZXN0UGFyYW1zLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9yb29tL3R5cGVzL3Jvb21SdW50aW1lTWVtb3J5LnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9yb29tL3R5cGVzL3Jvb21UeXBlLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9zeXN0ZW0vY29uc3RhbnRzLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9zeXN0ZW0vc2hhcmVkT2JzZXJ2YWJsZXMudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL3N5c3RlbS90eXBlcy9vYnNlcnZhYmxlLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC9zeXN0ZW0vdXRpbC9lcnJvclV0aWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL3VzZXIvdHlwZXMvdXNlci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdXNlci90eXBlcy91c2VyVHlwZS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdXNlci91dGlsL3VzZXJJbnB1dFZhbGlkYXRvci50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdm94ZWwvdHlwZXMvdXBkYXRlL2FkZFZveGVsQmxvY2tQYXJhbXMudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL3ZveGVsL3R5cGVzL3VwZGF0ZS9tb3ZlVm94ZWxCbG9ja1BhcmFtcy50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdm94ZWwvdHlwZXMvdXBkYXRlL3JlbW92ZVZveGVsQmxvY2tQYXJhbXMudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL3ZveGVsL3R5cGVzL3VwZGF0ZS9zZXRWb3hlbFF1YWRUZXh0dXJlUGFyYW1zLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC92b3hlbC90eXBlcy91cGRhdGUvdXBkYXRlVm94ZWxHcmlkUGFyYW1zLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC92b3hlbC90eXBlcy91cGRhdGUvdXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtcy50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdm94ZWwvdHlwZXMvdm94ZWwudHMiLCJ3ZWJwYWNrOi8veW91bmdqaW4vLi9zcmMvc2hhcmVkL3ZveGVsL3R5cGVzL3ZveGVsR3JpZC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdm94ZWwvdHlwZXMvdm94ZWxRdWFkQ2hhbmdlLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC92b3hlbC90eXBlcy92b3hlbFF1YWRzUnVudGltZU1lbW9yeS50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdm94ZWwvdXRpbC92b3hlbEJsb2NrVXBkYXRlVXRpbC50cyIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zaGFyZWQvdm94ZWwvdXRpbC92b3hlbFF1YWRVcGRhdGVVdGlsLnRzIiwid2VicGFjazovL3lvdW5namluLy4vc3JjL3NoYXJlZC92b3hlbC91dGlsL3ZveGVsUXVlcnlVdGlsLnRzIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIGNvbW1vbmpzIFwiYXhpb3NcIiIsIndlYnBhY2s6Ly95b3VuZ2ppbi9leHRlcm5hbCBjb21tb25qcyBcImJjcnlwdFwiIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIGNvbW1vbmpzIFwiYm9keS1wYXJzZXJcIiIsIndlYnBhY2s6Ly95b3VuZ2ppbi9leHRlcm5hbCBjb21tb25qcyBcImNvb2tpZVwiIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIGNvbW1vbmpzIFwiY29va2llLXBhcnNlclwiIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJjcnlwdG9cIiIsIndlYnBhY2s6Ly95b3VuZ2ppbi9leHRlcm5hbCBjb21tb25qcyBcImRvdGVudlwiIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIGNvbW1vbmpzIFwiZWpzXCIiLCJ3ZWJwYWNrOi8veW91bmdqaW4vZXh0ZXJuYWwgY29tbW9uanMgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8veW91bmdqaW4vZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImZzL3Byb21pc2VzXCIiLCJ3ZWJwYWNrOi8veW91bmdqaW4vZXh0ZXJuYWwgY29tbW9uanMgXCJocHBcIiIsIndlYnBhY2s6Ly95b3VuZ2ppbi9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiaHR0cFwiIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIGNvbW1vbmpzIFwianNvbndlYnRva2VuXCIiLCJ3ZWJwYWNrOi8veW91bmdqaW4vZXh0ZXJuYWwgY29tbW9uanMgXCJteXNxbDIvcHJvbWlzZVwiIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJvc1wiIiwid2VicGFjazovL3lvdW5namluL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8veW91bmdqaW4vZXh0ZXJuYWwgY29tbW9uanMgXCJzb2NrZXQuaW9cIiIsIndlYnBhY2s6Ly95b3VuZ2ppbi9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwidXJsXCIiLCJ3ZWJwYWNrOi8veW91bmdqaW4vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8veW91bmdqaW4vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8veW91bmdqaW4vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3lvdW5namluL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8veW91bmdqaW4vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly95b3VuZ2ppbi8uL3NyYy9zZXJ2ZXIvc2VydmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcywgeyBBeGlvc1JlcXVlc3RDb25maWcgfSBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCBFcnJvclV0aWwgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9zeXN0ZW0vdXRpbC9lcnJvclV0aWxcIjtcblxuY29uc3QgUmVzdEFQSSA9XG57XG4gICAgZ2V0OiBhc3luYyAodXJsOiBzdHJpbmcsIHJlcXVlc3RDb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcpOiBQcm9taXNlPFJlc3RBUElSZXNwb25zZT4gPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBhd2FpdCBzZW5kKFwiZ2V0XCIsIHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgfSxcbiAgICBwb3N0OiBhc3luYyAodXJsOiBzdHJpbmcsIHJlcXVlc3RDb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcpOiBQcm9taXNlPFJlc3RBUElSZXNwb25zZT4gPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBhd2FpdCBzZW5kKFwicG9zdFwiLCB1cmwsIHJlcXVlc3RDb25maWcpO1xuICAgIH0sXG4gICAgcHV0OiBhc3luYyAodXJsOiBzdHJpbmcsIHJlcXVlc3RDb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcpOiBQcm9taXNlPFJlc3RBUElSZXNwb25zZT4gPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBhd2FpdCBzZW5kKFwicHV0XCIsIHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgfSxcbiAgICBkZWxldGU6IGFzeW5jICh1cmw6IHN0cmluZywgcmVxdWVzdENvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IFByb21pc2U8UmVzdEFQSVJlc3BvbnNlPiA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHNlbmQoXCJkZWxldGVcIiwgdXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICB9LFxufVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kKG1ldGhvZDogXCJnZXRcIiB8IFwicG9zdFwiIHwgXCJwdXRcIiB8IFwiZGVsZXRlXCIsXG4gICAgdXJsOiBzdHJpbmcsIHJlcXVlc3RDb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcpOiBQcm9taXNlPFJlc3RBUElSZXNwb25zZT5cbntcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBheGlvc1Jlc3BvbnNlID0gYXdhaXQgYXhpb3NbbWV0aG9kXSh1cmwsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICByZXR1cm4geyBzdGF0dXM6IGF4aW9zUmVzcG9uc2Uuc3RhdHVzLCBkYXRhOiBheGlvc1Jlc3BvbnNlLmRhdGEgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogZXJyLnJlc3BvbnNlLnN0YXR1cywgZGF0YTogZXJyLnJlc3BvbnNlLmRhdGEgfTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IGVyci5zdGF0dXMgPz8gNTAwLCBkYXRhOiBlcnIubWVzc2FnZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiA1MDAsIGRhdGE6IEVycm9yVXRpbC5nZXRFcnJvck1lc3NhZ2UoZXJyKSB9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3RBUElSZXNwb25zZVxue1xuICAgIHN0YXR1czogbnVtYmVyO1xuICAgIGRhdGE6IGFueTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVzdEFQSTsiLCJpbXBvcnQgbXlzcWwgZnJvbSBcIm15c3FsMi9wcm9taXNlXCI7XG5pbXBvcnQgU2VydmVyTG9nVXRpbCBmcm9tIFwiLi4vbmV0d29ya2luZy91dGlsL3NlcnZlckxvZ1V0aWxcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IFNRTFF1ZXJ5IGZyb20gXCIuL3R5cGVzL3NxbFF1ZXJ5XCI7XG5pbXBvcnQgU1FMVHJhbnNhY3Rpb24gZnJvbSBcIi4vdHlwZXMvc3FsVHJhbnNhY3Rpb25cIjtcbmltcG9ydCB7IFNRTFF1ZXJ5UGFyYW1UeXBlIH0gZnJvbSBcIi4vdHlwZXMvc3FsUXVlcnlQYXJhbVR5cGVcIjtcbmltcG9ydCBTUUxRdWVyeVJlc3BvbnNlIGZyb20gXCIuL3R5cGVzL3NxbFF1ZXJ5UmVzcG9uc2VcIjtcbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgZGV2ID0gcHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiO1xubGV0IHBvb2w6IG15c3FsLlBvb2wgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbmNvbnN0IERCID1cbntcbiAgICBnZXRQb29sKCk6IG15c3FsLlBvb2wgfCB1bmRlZmluZWRcbiAgICB7XG4gICAgICAgIGlmICghcG9vbClcbiAgICAgICAgICAgIGNyZWF0ZVBvb2woKTtcbiAgICAgICAgcmV0dXJuIHBvb2w7XG4gICAgfSxcbiAgICBydW5RdWVyeTogYXN5bmMgPFJldHVybkRhdGFUeXBlPihxdWVyeVN0cjogc3RyaW5nLCBxdWVyeVBhcmFtcz86IFNRTFF1ZXJ5UGFyYW1UeXBlW10pXG4gICAgICAgIDogUHJvbWlzZTxTUUxRdWVyeVJlc3BvbnNlPFJldHVybkRhdGFUeXBlPj4gPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBhd2FpdCAobmV3IFNRTFF1ZXJ5PFJldHVybkRhdGFUeXBlPihxdWVyeVN0ciwgcXVlcnlQYXJhbXMpLnJ1bigpKTtcbiAgICB9LFxuICAgIHJ1blRyYW5zYWN0aW9uOiBhc3luYyAocXVlcmllczogU1FMUXVlcnk8dm9pZD5bXSk6IFByb21pc2U8Ym9vbGVhbj4gPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBhd2FpdCAobmV3IFNRTFRyYW5zYWN0aW9uKHF1ZXJpZXMpLnJ1bigpKTtcbiAgICB9LFxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb29sKClcbntcbiAgICBpZiAocG9vbClcbiAgICB7XG4gICAgICAgIFNlcnZlckxvZ1V0aWwubG9nUmF3KFwiREIgY29ubmVjdGlvbiBwb29sIGlzIGFscmVhZHkgY3JlYXRlZC5cIiwgXCJoaWdoXCIsIFwicGlua1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwb29sID0gbXlzcWwuY3JlYXRlUG9vbCh7XG4gICAgICAgIGhvc3Q6IGRldiA/IHByb2Nlc3MuZW52LlNRTF9IT1NUX0RFViA6IHByb2Nlc3MuZW52LlNRTF9IT1NUX1BST0QsXG4gICAgICAgIHVzZXI6IGRldiA/IHByb2Nlc3MuZW52LlNRTF9VU0VSX0RFViA6IHByb2Nlc3MuZW52LlNRTF9VU0VSX1BST0QsXG4gICAgICAgIHBhc3N3b3JkOiBkZXYgPyBwcm9jZXNzLmVudi5TUUxfUEFTU19ERVYgOiBwcm9jZXNzLmVudi5TUUxfUEFTU19QUk9ELFxuICAgICAgICBkYXRhYmFzZTogXCJtYWluXCIsXG4gICAgICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcbiAgICAgICAgY29ubmVjdGlvbkxpbWl0OiAxMCxcbiAgICAgICAgcXVldWVMaW1pdDogMCxcbiAgICAgICAgZW5hYmxlS2VlcEFsaXZlOiB0cnVlLFxuICAgICAgICBrZWVwQWxpdmVJbml0aWFsRGVsYXk6IDAsXG4gICAgfSk7XG4gICAgaWYgKCFwb29sKVxuICAgIHtcbiAgICAgICAgU2VydmVyTG9nVXRpbC5sb2dSYXcoXCJGYWlsZWQgdG8gY3JlYXRlIGEgREIgY29ubmVjdGlvbiBwb29sLlwiLCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEQjsiLCJpbXBvcnQgREIgZnJvbSBcIi4vZGJcIjtcbmltcG9ydCBSb29tIGZyb20gXCIuLi8uLi9zaGFyZWQvcm9vbS90eXBlcy9yb29tXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCBSb29tR2VuZXJhdG9yIGZyb20gXCIuLi8uLi9zaGFyZWQvcm9vbS9yb29tR2VuZXJhdG9yXCI7XG5pbXBvcnQgU1FMUm9vbSBmcm9tIFwiLi4vLi4vc2hhcmVkL2RiL3R5cGVzL3NxbFJvb21cIjtcbmltcG9ydCB7IFJvb21UeXBlIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9yb29tL3R5cGVzL3Jvb21UeXBlXCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IFJvb21EQiA9XG57XG4gICAgZ2V0Um9vbUNvbnRlbnQ6IGFzeW5jIChyb29tSUQ6IG51bWJlcik6IFByb21pc2U8Um9vbSB8IG51bGw+ID0+XG4gICAge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBEQi5ydW5RdWVyeTxTUUxSb29tPihcbiAgICAgICAgICAgIGBTRUxFQ1QgKiBGUk9NIHJvb21zIFdIRVJFIHJvb21zLnJvb21JRCA9ID87YCxcbiAgICAgICAgICAgIFtyb29tSURdKTtcblxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzIHx8IHJlc3VsdC5kYXRhLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBSb29tLmZyb21TUUwocmVzdWx0LmRhdGFbMF0pO1xuICAgIH0sXG4gICAgc2F2ZVJvb21Db250ZW50OiBhc3luYyAocm9vbTogUm9vbSk6IFByb21pc2U8Ym9vbGVhbj4gPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHNxbFJvb20gPSByb29tLnRvU1FMKCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBEQi5ydW5RdWVyeTx2b2lkPihcbiAgICAgICAgICAgIGBVUERBVEUgcm9vbXNcbiAgICAgICAgICAgIFNFVCB2b3hlbEdyaWQgPSA/LCBwZXJzaXN0ZW50T2JqZWN0R3JvdXAgPSA/XG4gICAgICAgICAgICBXSEVSRSByb29tSUQgPSA/YCxcbiAgICAgICAgICAgIFtCdWZmZXIuZnJvbShzcWxSb29tLnZveGVsR3JpZCksIEJ1ZmZlci5mcm9tKHNxbFJvb20ucGVyc2lzdGVudE9iamVjdEdyb3VwKSxcbiAgICAgICAgICAgICAgICByb29tLnJvb21JRF0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQuc3VjY2VzcztcbiAgICB9LFxuICAgIGNyZWF0ZVJvb206IGFzeW5jIChyb29tTmFtZTogc3RyaW5nLCByb29tVHlwZTogUm9vbVR5cGUsIG93bmVyVXNlck5hbWU6IHN0cmluZyxcbiAgICAgICAgZmxvb3JUZXh0dXJlSW5kZXg6IG51bWJlciwgd2FsbFRleHR1cmVJbmRleDogbnVtYmVyLCBjZWlsaW5nVGV4dHVyZUluZGV4OiBudW1iZXIsXG4gICAgICAgIHRleHR1cmVQYWNrVVJMOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+XG4gICAge1xuICAgICAgICBjb25zdCB7dm94ZWxHcmlkLCBwZXJzaXN0ZW50T2JqZWN0R3JvdXB9ID1cbiAgICAgICAgICAgIFJvb21HZW5lcmF0b3IuZ2VuZXJhdGVFbXB0eVJvb20oZmxvb3JUZXh0dXJlSW5kZXgsIHdhbGxUZXh0dXJlSW5kZXgsIGNlaWxpbmdUZXh0dXJlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IHJvb20gPSBuZXcgUm9vbSgwLCByb29tTmFtZSwgcm9vbVR5cGUsIG93bmVyVXNlck5hbWUsIHRleHR1cmVQYWNrVVJMLFxuICAgICAgICAgICAgdm94ZWxHcmlkLCBwZXJzaXN0ZW50T2JqZWN0R3JvdXApO1xuICAgICAgICBjb25zdCBzcWxSb29tID0gcm9vbS50b1NRTCgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IERCLnJ1blF1ZXJ5PHZvaWQ+KFxuICAgICAgICAgICAgYElOU0VSVCBJTlRPIHJvb21zXG4gICAgICAgICAgICAocm9vbU5hbWUsIHJvb21UeXBlLCBvd25lclVzZXJOYW1lLCB0ZXh0dXJlUGFja1VSTCwgdm94ZWxHcmlkLCBwZXJzaXN0ZW50T2JqZWN0R3JvdXApXG4gICAgICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8pO2AsXG4gICAgICAgICAgICBbc3FsUm9vbS5yb29tTmFtZSwgc3FsUm9vbS5yb29tVHlwZSwgc3FsUm9vbS5vd25lclVzZXJOYW1lLCBzcWxSb29tLnRleHR1cmVQYWNrVVJMLFxuICAgICAgICAgICAgICAgIEJ1ZmZlci5mcm9tKHNxbFJvb20udm94ZWxHcmlkKSwgQnVmZmVyLmZyb20oc3FsUm9vbS5wZXJzaXN0ZW50T2JqZWN0R3JvdXApXSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzO1xuICAgIH0sXG4gICAgZGVsZXRlUm9vbTogYXN5bmMgKHJvb21JRDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgREIucnVuUXVlcnk8dm9pZD4oXG4gICAgICAgICAgICBgREVMRVRFIEZST00gcm9vbXMgV0hFUkUgcm9vbUlEID0gPztgLFxuICAgICAgICAgICAgW3Jvb21JRF0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQuc3VjY2VzcztcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBSb29tREI7IiwiaW1wb3J0IERCIGZyb20gXCIuL2RiXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCBTUUxRdWVyeVJlc3BvbnNlIGZyb20gXCIuL3R5cGVzL3NxbFF1ZXJ5UmVzcG9uc2VcIjtcbmltcG9ydCB7IFJvb21UeXBlIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9yb29tL3R5cGVzL3Jvb21UeXBlXCI7XG5pbXBvcnQgU1FMVXNlciBmcm9tIFwiLi4vLi4vc2hhcmVkL2RiL3R5cGVzL3NxbFVzZXJcIjtcbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgU2VhcmNoREIgPVxue1xuICAgIHJvb21zOiB7XG4gICAgICAgIGFsbDogYXN5bmMgKHBhZ2U6IG51bWJlcik6IFByb21pc2U8U1FMUXVlcnlSZXNwb25zZTxSb29tU2VhcmNoUmVzdWx0Pj4gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IERCLnJ1blF1ZXJ5PFJvb21TZWFyY2hSZXN1bHQ+KFxuICAgICAgICAgICAgICAgIGBTRUxFQ1Qgcm9vbUlELCByb29tTmFtZSwgcm9vbVR5cGUgRlJPTSByb29tc1xuICAgICAgICAgICAgICAgIE9SREVSIEJZIHJvb21JRCBMSU1JVCAxMCwgJHtwYWdlICogMTB9O2ApO1xuICAgICAgICB9LFxuICAgICAgICB3aXRoUm9vbU5hbWU6IGFzeW5jIChyb29tTmFtZTogc3RyaW5nKTogUHJvbWlzZTxTUUxRdWVyeVJlc3BvbnNlPFJvb21TZWFyY2hSZXN1bHQ+PiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgREIucnVuUXVlcnk8Um9vbVNlYXJjaFJlc3VsdD4oXG4gICAgICAgICAgICAgICAgYFNFTEVDVCByb29tSUQsIHJvb21OYW1lLCByb29tVHlwZSBGUk9NIHJvb21zIFdIRVJFIHJvb21OYW1lID0gPztgLFxuICAgICAgICAgICAgICAgIFtyb29tTmFtZV0pO1xuICAgICAgICB9LFxuICAgICAgICB3aXRoUm9vbVR5cGU6IGFzeW5jIChyb29tVHlwZTogUm9vbVR5cGUpOiBQcm9taXNlPFNRTFF1ZXJ5UmVzcG9uc2U8Um9vbVNlYXJjaFJlc3VsdD4+ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBEQi5ydW5RdWVyeTxSb29tU2VhcmNoUmVzdWx0PihcbiAgICAgICAgICAgICAgICBgU0VMRUNUIHJvb21JRCwgcm9vbU5hbWUsIHJvb21UeXBlIEZST00gcm9vbXMgV0hFUkUgcm9vbVR5cGUgPSA/O2AsXG4gICAgICAgICAgICAgICAgW3Jvb21UeXBlXSk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB1c2Vyczoge1xuICAgICAgICBhbGw6IGFzeW5jIChwYWdlOiBudW1iZXIpOiBQcm9taXNlPFNRTFF1ZXJ5UmVzcG9uc2U8U1FMVXNlcj4+ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBEQi5ydW5RdWVyeTxTUUxVc2VyPihcbiAgICAgICAgICAgICAgICBgU0VMRUNUICogRlJPTSB1c2Vyc1xuICAgICAgICAgICAgICAgIE9SREVSIEJZIHVzZXJJRCBMSU1JVCAxMCwgJHtwYWdlICogMTB9O2ApO1xuICAgICAgICB9LFxuICAgICAgICB3aXRoVXNlck5hbWU6IGFzeW5jICh1c2VyTmFtZTogc3RyaW5nKTogUHJvbWlzZTxTUUxRdWVyeVJlc3BvbnNlPFNRTFVzZXI+PiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgREIucnVuUXVlcnk8U1FMVXNlcj4oXG4gICAgICAgICAgICAgICAgYFNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgdXNlck5hbWUgPSA/O2AsXG4gICAgICAgICAgICAgICAgW3VzZXJOYW1lXSk7XG4gICAgICAgIH0sXG4gICAgICAgIHdpdGhFbWFpbDogYXN5bmMgKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFNRTFF1ZXJ5UmVzcG9uc2U8U1FMVXNlcj4+ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBEQi5ydW5RdWVyeTxTUUxVc2VyPihcbiAgICAgICAgICAgICAgICBgU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID87YCxcbiAgICAgICAgICAgICAgICBbZW1haWxdKTtcbiAgICAgICAgfSxcbiAgICAgICAgd2l0aFVzZXJOYW1lT3JFbWFpbDogYXN5bmMgKHVzZXJOYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFNRTFF1ZXJ5UmVzcG9uc2U8U1FMVXNlcj4+ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBEQi5ydW5RdWVyeTxTUUxVc2VyPihcbiAgICAgICAgICAgICAgICBgU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VyTmFtZSA9ID8gT1IgZW1haWwgPSA/O2AsXG4gICAgICAgICAgICAgICAgW3VzZXJOYW1lLCBlbWFpbF0pO1xuICAgICAgICB9LFxuICAgIH0sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm9vbVNlYXJjaFJlc3VsdFxue1xuICAgIHJvb21JRDogbnVtYmVyO1xuICAgIHJvb21OYW1lOiBzdHJpbmc7XG4gICAgcm9vbVR5cGU6IFJvb21UeXBlLFxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWFyY2hEQjsiLCJpbXBvcnQgREIgZnJvbSBcIi4uL2RiXCI7XG5pbXBvcnQgU1FMUXVlcnkgZnJvbSBcIi4uL3R5cGVzL3NxbFF1ZXJ5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGRiVGFza19pbml0KCk6IFByb21pc2U8Ym9vbGVhbj5cbntcbiAgICByZXR1cm4gYXdhaXQgREIucnVuVHJhbnNhY3Rpb24oW1xuICAgICAgICBuZXcgU1FMUXVlcnkoYFxuICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcnMgKFxuICAgICAgICAgICAgICAgIHVzZXJJRCBJTlQgTk9UIE5VTEwgQVVUT19JTkNSRU1FTlQsXG4gICAgICAgICAgICAgICAgdXNlck5hbWUgVkFSQ0hBUigzMikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgdXNlclR5cGUgVElOWUlOVCBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICBwYXNzd29yZEhhc2ggVkFSQ0hBUig3MikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgZW1haWwgVkFSQ0hBUig2NCkgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgdHV0b3JpYWxTdGVwIFRJTllJTlQgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKHVzZXJJRCksXG4gICAgICAgICAgICAgICAgVU5JUVVFIEtFWSAodXNlck5hbWUpLFxuICAgICAgICAgICAgICAgIFVOSVFVRSBLRVkgKGVtYWlsKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgYCksXG4gICAgICAgIG5ldyBTUUxRdWVyeShgXG4gICAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyByb29tcyAoXG4gICAgICAgICAgICAgICAgcm9vbUlEIElOVCBOT1QgTlVMTCBBVVRPX0lOQ1JFTUVOVCxcbiAgICAgICAgICAgICAgICByb29tTmFtZSBWQVJDSEFSKDY0KSBOT1QgTlVMTCxcbiAgICAgICAgICAgICAgICByb29tVHlwZSBUSU5ZSU5UIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIG93bmVyVXNlck5hbWUgVkFSQ0hBUigxNikgTk9UIE5VTEwsXG4gICAgICAgICAgICAgICAgdGV4dHVyZVBhY2tVUkwgVkFSQ0hBUigxMjgpIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIHZveGVsR3JpZCBCTE9CIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIHBlcnNpc3RlbnRPYmplY3RHcm91cCBCTE9CIE5PVCBOVUxMLFxuICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChyb29tSUQpLFxuICAgICAgICAgICAgICAgIFVOSVFVRSBLRVkgKHJvb21OYW1lKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgYCksXG4gICAgICAgIG5ldyBTUUxRdWVyeShgSU5TRVJUIElOVE8gZ2xvYmFsRGF0YSAoZGJWZXJzaW9uKSBWQUxVRVMgKDApO2ApLFxuICAgIF0pO1xufSIsImltcG9ydCBteXNxbCBmcm9tIFwibXlzcWwyL3Byb21pc2VcIjtcbmltcG9ydCBTZXJ2ZXJMb2dVdGlsIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3V0aWwvc2VydmVyTG9nVXRpbFwiO1xuaW1wb3J0IHsgU1FMUXVlcnlQYXJhbVR5cGUgfSBmcm9tIFwiLi9zcWxRdWVyeVBhcmFtVHlwZVwiO1xuaW1wb3J0IFNRTFF1ZXJ5UmVzcG9uc2UgZnJvbSBcIi4vc3FsUXVlcnlSZXNwb25zZVwiO1xuaW1wb3J0IERCIGZyb20gXCIuLi9kYlwiO1xuaW1wb3J0IEVycm9yVXRpbCBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3N5c3RlbS91dGlsL2Vycm9yVXRpbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTUUxRdWVyeTxSZXR1cm5EYXRhVHlwZT5cbntcbiAgICBwdWJsaWMgcXVlcnlTdHI6IHN0cmluZztcbiAgICBwdWJsaWMgcXVlcnlQYXJhbXM/OiBTUUxRdWVyeVBhcmFtVHlwZVtdO1xuXG4gICAgY29uc3RydWN0b3IocXVlcnlTdHI6IHN0cmluZywgcXVlcnlQYXJhbXM/OiBTUUxRdWVyeVBhcmFtVHlwZVtdKVxuICAgIHtcbiAgICAgICAgdGhpcy5xdWVyeVN0ciA9IHF1ZXJ5U3RyO1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXM7XG4gICAgfVxuXG4gICAgYXN5bmMgcnVuKCk6IFByb21pc2U8U1FMUXVlcnlSZXNwb25zZTxSZXR1cm5EYXRhVHlwZT4+XG4gICAge1xuICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIlNRTCBRdWVyeSBTdGFydGVkXCIsIHtxdWVyeVN0cjogdGhpcy5xdWVyeVN0ci8qLCBxdWVyeVBhcmFtczogdGhpcy5xdWVyeVBhcmFtcyovfSwgXCJsb3dcIik7XG5cbiAgICAgICAgbGV0IHBvb2w6IG15c3FsLlBvb2wgfCB1bmRlZmluZWQgPSBEQi5nZXRQb29sKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXBvb2wpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2dSYXcoXCJTUUwgQ29ubmVjdGlvbiBQb29sIEZhaWxlZCBUbyBMb2FkXCIsIFwiaGlnaFwiLCBcInBpbmtcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGRhdGE6IFtdIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBbcmVzdWx0cywgZmllbGRzXSA9IGF3YWl0IHBvb2wucXVlcnk8bXlzcWwuUm93RGF0YVBhY2tldFtdPih0aGlzLnF1ZXJ5U3RyLCB0aGlzLnF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiU1FMIFF1ZXJ5IFN1Y2NlZWRlZFwiLCB7cXVlcnlTdHI6IHRoaXMucXVlcnlTdHIvKiwgcXVlcnlQYXJhbXM6IHRoaXMucXVlcnlQYXJhbXMqL30sIFwibWVkaXVtXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0cyBhcyBSZXR1cm5EYXRhVHlwZVtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2coXCJTUUwgUXVlcnkgRXJyb3JcIiwge2Vycm9yTWVzc2FnZTogRXJyb3JVdGlsLmdldEVycm9yTWVzc2FnZShlcnIpfSwgXCJoaWdoXCIsIFwicGlua1wiKTtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBkYXRhOiBbXSB9O1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBteXNxbCBmcm9tIFwibXlzcWwyL3Byb21pc2VcIjtcbmltcG9ydCBTUUxRdWVyeSBmcm9tIFwiLi9zcWxRdWVyeVwiO1xuaW1wb3J0IFNlcnZlckxvZ1V0aWwgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdXRpbC9zZXJ2ZXJMb2dVdGlsXCI7XG5pbXBvcnQgREIgZnJvbSBcIi4uL2RiXCI7XG5pbXBvcnQgRXJyb3JVdGlsIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvc3lzdGVtL3V0aWwvZXJyb3JVdGlsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNRTFRyYW5zYWN0aW9uXG57XG4gICAgcHVibGljIHF1ZXJpZXM6IFNRTFF1ZXJ5PHZvaWQ+W107XG5cbiAgICBjb25zdHJ1Y3RvcihxdWVyaWVzOiBTUUxRdWVyeTx2b2lkPltdKVxuICAgIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzID0gcXVlcmllcztcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIFRSVUUgaWYgdGhlIHRyYW5zYWN0aW9uIHN1Y2NlZWRlZCwgb3IgRkFMU0Ugb3RoZXJ3aXNlLlxuICAgIGFzeW5jIHJ1bigpOiBQcm9taXNlPGJvb2xlYW4+XG4gICAge1xuICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIlNRTCBUcmFuc2FjdGlvbiBCZWdhblwiLCB7bnVtUXVlcmllczogdGhpcy5xdWVyaWVzLmxlbmd0aH0sIFwibG93XCIpO1xuXG4gICAgICAgIGxldCBwb29sOiBteXNxbC5Qb29sIHwgdW5kZWZpbmVkID0gREIuZ2V0UG9vbCgpO1xuICAgICAgICBsZXQgY29ubjogbXlzcWwuUG9vbENvbm5lY3Rpb24gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFwb29sKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nUmF3KFwiU1FMIENvbm5lY3Rpb24gUG9vbCBGYWlsZWQgVG8gTG9hZFwiLCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm4gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIGlmICghY29ubilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZ1JhdyhcIlNRTCBUcmFuc2FjdGlvbiBDb25uZWN0aW9uIEZhaWxlZFwiLCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGNvbm4uYmVnaW5UcmFuc2FjdGlvbigpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHRoaXMucXVlcmllcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uLmV4ZWN1dGUocXVlcnkucXVlcnlTdHIsIHF1ZXJ5LnF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIlNRTCBUcmFuc2FjdGlvbiBRdWVyeSBTdWNjZWVkZWRcIiwge3Byb2dyZXNzOiBgJHtzdWNjZXNzQ291bnR9LyR7dGhpcy5xdWVyaWVzLmxlbmd0aH1gLCBxdWVyeX0sIFwibG93XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgY29ubi5jb21taXQoKTtcbiAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nUmF3KFwiU1FMIFRyYW5zYWN0aW9uIENvbW1pdHRlZFwiLCBcIm1lZGl1bVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIlNRTCBUcmFuc2FjdGlvbiBFcnJvclwiLCB7cHJvZ3Jlc3M6IGAke3N1Y2Nlc3NDb3VudH0vJHt0aGlzLnF1ZXJpZXMubGVuZ3RofWAsIGVycm9yTWVzc2FnZTogRXJyb3JVdGlsLmdldEVycm9yTWVzc2FnZShlcnIpfSwgXCJoaWdoXCIsIFwicGlua1wiKTtcbiAgICAgICAgICAgIGF3YWl0IGNvbm4/LnJvbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjb25uPy5yZWxlYXNlKCk7XG4gICAgICAgICAgICByZXR1cm4gc3VjY2Vzc0NvdW50ID09IHRoaXMucXVlcmllcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9O1xufSIsImltcG9ydCB7IFVzZXJUeXBlIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91c2VyL3R5cGVzL3VzZXJUeXBlXCI7XG5pbXBvcnQgREIgZnJvbSBcIi4vZGJcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBVc2VyREIgPVxue1xuICAgIGNyZWF0ZVVzZXI6IGFzeW5jICh1c2VyTmFtZTogc3RyaW5nLCB1c2VyVHlwZTogVXNlclR5cGUsIHBhc3N3b3JkSGFzaDogc3RyaW5nLFxuICAgICAgICBlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgREIucnVuUXVlcnk8dm9pZD4oXG4gICAgICAgICAgICBgSU5TRVJUIElOVE8gdXNlcnMgKHVzZXJOYW1lLCB1c2VyVHlwZSwgcGFzc3dvcmRIYXNoLCBlbWFpbCwgdHV0b3JpYWxTdGVwKVxuICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCAwKTtgLFxuICAgICAgICAgICAgW3VzZXJOYW1lLCB1c2VyVHlwZSwgcGFzc3dvcmRIYXNoLCBlbWFpbF0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzO1xuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJEQjsiLCJjb25zdCBvcyA9IHJlcXVpcmUoXCJvc1wiKTtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG4vLyBJZiB0aGlzIGlzIHNldCB0byBUUlVFLCB0aGUgbG9jYWwgSVAgYWRkcmVzcyB3aWxsIHNpbXBseSBiZSBcImxvY2FsaG9zdFwiIChUaGlzIGlzIGZvciB0ZXN0aW5nIGZlYXR1cmVzIHdoaWNoIHJlcXVpcmUgdGhlIHNlcnZlciBVUkwgdG8gYmUgYmFzZWQgb24gXCJsb2NhbGhvc3RcIiBpbnN0ZWFkIG9mIGFuIGFjdHVhbCBJUCBhZGRyZXNzKS5cbmNvbnN0IGZvcmNlTG9jYWxob3N0ID0gdHJ1ZTtcblxuY29uc3QgQWRkcmVzc1V0aWwgPVxue1xuICAgIGdldEVycm9yUGFnZVVSTDogKGVycm9yUGFnZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICByZXR1cm4gYCR7cHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiID8gYGh0dHA6Ly8ke0FkZHJlc3NVdGlsLmdldExvY2FsSXBBZGRyZXNzKCl9OiR7cHJvY2Vzcy5lbnYuUE9SVH1gIDogcHJvY2Vzcy5lbnYuVVJMX1NUQVRJQ30vZXJyb3IvJHtlcnJvclBhZ2VOYW1lfS5odG1sYDtcbiAgICB9LFxuICAgIGdldE15UGFnZVVSTDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gYCR7cHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiID8gYGh0dHA6Ly8ke0FkZHJlc3NVdGlsLmdldExvY2FsSXBBZGRyZXNzKCl9OiR7cHJvY2Vzcy5lbnYuUE9SVH1gIDogcHJvY2Vzcy5lbnYuVVJMX0RZTkFNSUN9L215cGFnZWA7XG4gICAgfSxcbiAgICBnZXRMb2NhbElwQWRkcmVzczogKCkgPT5cbiAgICB7XG4gICAgICAgIGlmIChmb3JjZUxvY2FsaG9zdClcbiAgICAgICAgICAgIHJldHVybiBcImxvY2FsaG9zdFwiO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5NT0RFICE9IFwiZGV2XCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsaW5nICdnZXRMb2NhbElwQWRkcmVzcycgaXMgbm90IGFsbG93ZWQgaW4gYSBub24tZGV2IG1vZGUuXCIpO1xuXG4gICAgICAgIGNvbnN0IGludGVyZmFjZXMgPSBvcy5uZXR3b3JrSW50ZXJmYWNlcygpO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoaW50ZXJmYWNlcykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBpbnRlcmZhY2VzW25hbWVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpLmZhbWlseSA9PSBcIklQdjRcIiAmJiAhaS5pbnRlcm5hbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuYWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCIxMjcuMC4wLjFcIjtcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBBZGRyZXNzVXRpbDsiLCJpbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCB7IEFVVEhfVE9LRU5fTkFNRV9CQVNFIH0gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9zeXN0ZW0vY29uc3RhbnRzXCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IGRldiA9IHByb2Nlc3MuZW52Lk1PREUgPT0gXCJkZXZcIjtcblxuY29uc3QgQ29va2llVXRpbCA9XG57XG4gICAgZ2V0QXV0aFRva2VuTmFtZTogKCkgPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBgJHtBVVRIX1RPS0VOX05BTUVfQkFTRX0ke2RldiA/IFwiX2RldlwiIDogXCJcIn1gO1xuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvb2tpZVV0aWw7IiwiaW1wb3J0IENvbnNvbGVTb2NrZXRzIGZyb20gXCIuLi8uLi9zb2NrZXRzL2NvbnNvbGVTb2NrZXRzXCI7XG5cbmNvbnN0IHN0YWNrVHJhY2U6IHN0cmluZ1tdID0gW107XG5cbmNvbnN0IFNlcnZlckxvZ1V0aWwgPVxue1xuICAgIHRocmVzaG9sZExvZ0xldmVsOiAwLCAvLyAwID0gbG93IGltcG9ydGFuY2UsIDEgPSBtZWRpdW0gaW1wb3J0YW5jZSwgMiA9IGhpZ2ggaW1wb3J0YW5jZVxuICAgIHNldFRocmVzaG9sZExvZ0xldmVsOiAobG9nTGV2ZWxPck5hbWU6IG51bWJlciB8IHN0cmluZyk6IHZvaWQgPT5cbiAgICB7XG4gICAgICAgIFNlcnZlckxvZ1V0aWwudGhyZXNob2xkTG9nTGV2ZWwgPSBpc05hTihsb2dMZXZlbE9yTmFtZSBhcyBudW1iZXIpID9cbiAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwuZ2V0TG9nTGV2ZWxGcm9tTmFtZShsb2dMZXZlbE9yTmFtZSBhcyBzdHJpbmcpIDogKGxvZ0xldmVsT3JOYW1lIGFzIG51bWJlcik7XG4gICAgfSxcbiAgICBnZXRUaHJlc2hvbGRMb2dMZXZlbDogKCk6IG51bWJlciA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIFNlcnZlckxvZ1V0aWwudGhyZXNob2xkTG9nTGV2ZWw7XG4gICAgfSxcbiAgICBnZXRMb2dMZXZlbEZyb21OYW1lOiAobG9nTGV2ZWxOYW1lOiBzdHJpbmcpOiBudW1iZXIgPT4gLy8gXCJsb3dcIiBmb3IgMCwgXCJtZWRpdW1cIiBmb3IgMSwgXCJoaWdoXCIgZm9yIDJcbiAgICB7XG4gICAgICAgIHN3aXRjaCAobG9nTGV2ZWxOYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIFwibG93XCI6IHJldHVybiAwO1xuICAgICAgICAgICAgY2FzZSBcIm1lZGl1bVwiOiByZXR1cm4gMTtcbiAgICAgICAgICAgIGNhc2UgXCJoaWdoXCI6IHJldHVybiAyO1xuICAgICAgICAgICAgZGVmYXVsdDogY29uc29sZS5lcnJvcihgRVJST1I6IFVua25vd24gbG9nIGxldmVsIG5hbWUgKFwiJHtsb2dMZXZlbE5hbWV9XCIpYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBsb2c6IChldmVudFRpdGxlOiBzdHJpbmcsIGV2ZW50RGVzY09iajogYW55ID0gdW5kZWZpbmVkLCBsb2dMZXZlbE5hbWU6IHN0cmluZyA9IFwiaGlnaFwiLCBoaWdobGlnaHRDb2xvcj86IHN0cmluZyk6IHZvaWQgPT5cbiAgICB7XG4gICAgICAgIGxldCBkZXRhaWxzID0gXCJcIjtcbiAgICAgICAgaWYgKGV2ZW50RGVzY09iaiAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICBkZXRhaWxzID0gSlNPTi5zdHJpbmdpZnkoZXZlbnREZXNjT2JqKS5zdWJzdHJpbmcoMCwgMTAyNCk7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IFNlcnZlckxvZ1V0aWwuZ2V0U3RhY2tUcmFjZSgpO1xuXG4gICAgICAgIGNvbnN0IGxvZ0xldmVsID0gU2VydmVyTG9nVXRpbC5nZXRMb2dMZXZlbEZyb21OYW1lKGxvZ0xldmVsTmFtZSk7XG4gICAgICAgIGlmIChsb2dMZXZlbCA+PSBTZXJ2ZXJMb2dVdGlsLnRocmVzaG9sZExvZ0xldmVsKVxuICAgICAgICAgICAgQ29uc29sZVNvY2tldHMubG9nKChoaWdobGlnaHRDb2xvciA/IGA8YiBzdHlsZT1cImNvbG9yOiR7aGlnaGxpZ2h0Q29sb3J9XCI+YCA6IFwiXCIpICsgZXZlbnRUaXRsZSArIChoaWdobGlnaHRDb2xvciA/IFwiPC9iPlwiIDogXCJcIiksIG9yaWdpbiwgZGV0YWlscyk7XG4gICAgfSxcbiAgICBsb2dSYXc6IChtZXNzYWdlOiBzdHJpbmcsIGxvZ0xldmVsTmFtZTogc3RyaW5nID0gXCJoaWdoXCIsIGhpZ2hsaWdodENvbG9yPzogc3RyaW5nKTogdm9pZCA9PlxuICAgIHtcbiAgICAgICAgU2VydmVyTG9nVXRpbC5sb2cobWVzc2FnZSwgdW5kZWZpbmVkLCBsb2dMZXZlbE5hbWUsIGhpZ2hsaWdodENvbG9yKTtcbiAgICB9LFxuICAgIGdldFN0YWNrVHJhY2U6ICgpOiBzdHJpbmcgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGFycjogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YWNrVHJhY2UubGVuZ3RoLTE7IGkgPj0gMDsgLS1pKVxuICAgICAgICAgICAgYXJyLnB1c2goc3RhY2tUcmFjZVtpXSk7XG4gICAgICAgIHJldHVybiBhcnIuam9pbihcIiA8LSBcIik7XG4gICAgfSxcbiAgICBwdXNoU3RhY2tUcmFjZTogKHRyYWNlTmFtZTogc3RyaW5nKTogdm9pZCA9PlxuICAgIHtcbiAgICAgICAgc3RhY2tUcmFjZS5wdXNoKHRyYWNlTmFtZSk7XG4gICAgICAgIFNlcnZlckxvZ1V0aWwubG9nUmF3KGBwdXNoU3RhY2tUcmFjZTogJHt0cmFjZU5hbWV9YCwgXCJoaWdoXCIsIFwiZ3JheVwiKTtcbiAgICB9LFxuICAgIHBvcFN0YWNrVHJhY2U6ICh0cmFjZU5hbWU6IHN0cmluZyk6IHZvaWQgPT5cbiAgICB7XG4gICAgICAgIGlmIChzdGFja1RyYWNlLmxlbmd0aCA9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZ1JhdyhgTm8gbmFtZSB0byBwb3AgaW4gc3RhY2tUcmFjZSA6OiAodHJhY2VOYW1lID0gJHt0cmFjZU5hbWV9KWAsIFwiaGlnaFwiLCBcInBpbmtcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUcmFjZU5hbWUgPSBzdGFja1RyYWNlLnBvcCgpO1xuICAgICAgICBpZiAoZXhwZWN0ZWRUcmFjZU5hbWUgIT0gdHJhY2VOYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZ1JhdyhgTmFtZSBtaXNtYXRjaCBpbiBzdGFja1RyYWNlIDo6ICh0cmFjZU5hbWUgPSAke3RyYWNlTmFtZX0sIGV4cGVjdGVkVHJhY2VOYW1lID0gJHtleHBlY3RlZFRyYWNlTmFtZX0pYCwgXCJoaWdoXCIsIFwicGlua1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZ1JhdyhgcG9wU3RhY2tUcmFjZTogJHt0cmFjZU5hbWV9YCwgXCJoaWdoXCIsIFwiZ3JheVwiKTtcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBTZXJ2ZXJMb2dVdGlsOyIsImltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi9zaGFyZWQvdXNlci90eXBlcy91c2VyXCI7XG5pbXBvcnQgUGh5c2ljc01hbmFnZXIgZnJvbSBcIi4uLy4uL3NoYXJlZC9waHlzaWNzL3BoeXNpY3NNYW5hZ2VyXCI7XG5pbXBvcnQgUm9vbVJ1bnRpbWVNZW1vcnkgZnJvbSBcIi4uLy4uL3NoYXJlZC9yb29tL3R5cGVzL3Jvb21SdW50aW1lTWVtb3J5XCI7XG5pbXBvcnQgVmVjMiBmcm9tIFwiLi4vLi4vc2hhcmVkL21hdGgvdHlwZXMvdmVjMlwiO1xuaW1wb3J0IE9iamVjdFRyYW5zZm9ybSBmcm9tIFwiLi4vLi4vc2hhcmVkL29iamVjdC90eXBlcy9vYmplY3RUcmFuc2Zvcm1cIjtcbmltcG9ydCBPYmplY3REZXN5bmNSZXNvbHZlUGFyYW1zIGZyb20gXCIuLi8uLi9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdERlc3luY1Jlc29sdmVQYXJhbXNcIjtcbmltcG9ydCBPYmplY3RTeW5jUGFyYW1zIGZyb20gXCIuLi8uLi9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdFN5bmNQYXJhbXNcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IFNvY2tldFVzZXJDb250ZXh0IGZyb20gXCIuLi9zb2NrZXRzL3R5cGVzL3NvY2tldFVzZXJDb250ZXh0XCI7XG5pbXBvcnQgU29ja2V0Um9vbUNvbnRleHQgZnJvbSBcIi4uL3NvY2tldHMvdHlwZXMvc29ja2V0Um9vbUNvbnRleHRcIjtcbmltcG9ydCBPYmplY3RNZXNzYWdlUGFyYW1zIGZyb20gXCIuLi8uLi9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdE1lc3NhZ2VQYXJhbXNcIjtcbmltcG9ydCB7IGFkZFVzZXJUb1Jvb20sIHJlbW92ZVVzZXJGcm9tUm9vbSB9IGZyb20gXCIuL3V0aWwvcm9vbVVzZXJVdGlsXCI7XG5pbXBvcnQgeyBsb2FkUm9vbSB9IGZyb20gXCIuL3V0aWwvcm9vbUNvcmVVdGlsXCI7XG5pbXBvcnQgeyB1cGRhdGVWb3hlbEdyaWQgfSBmcm9tIFwiLi91dGlsL3Jvb21Wb3hlbFV0aWxcIjtcbmltcG9ydCBVcGRhdGVWb3hlbEdyaWRQYXJhbXMgZnJvbSBcIi4uLy4uL3NoYXJlZC92b3hlbC90eXBlcy91cGRhdGUvdXBkYXRlVm94ZWxHcmlkUGFyYW1zXCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IHJvb21SdW50aW1lTWVtb3JpZXM6IHtbcm9vbUlEOiBudW1iZXJdOiBSb29tUnVudGltZU1lbW9yeX0gPSB7fTtcbmNvbnN0IHNvY2tldFJvb21Db250ZXh0czoge1tyb29tSUQ6IG51bWJlcl06IFNvY2tldFJvb21Db250ZXh0fSA9IHt9O1xuY29uc3QgY3VycmVudFJvb21JREJ5VXNlck5hbWU6IHtbdXNlck5hbWU6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcblxuY29uc3QgUm9vbU1hbmFnZXIgPVxue1xuICAgIHJvb21SdW50aW1lTWVtb3JpZXMsXG4gICAgc29ja2V0Um9vbUNvbnRleHRzLFxuICAgIGN1cnJlbnRSb29tSURCeVVzZXJOYW1lLFxuICAgIGNoYW5nZVVzZXJSb29tOiBhc3luYyAoc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0LCByb29tSUQ6IG51bWJlciB8IHVuZGVmaW5lZCwgcHJldlJvb21TaG91bGRFeGlzdDogYm9vbGVhbikgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXRVc2VyQ29udGV4dC5zb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICAgICAgY29uc29sZS5sb2coYFJvb21NYW5hZ2VyLmNoYW5nZVVzZXJSb29tIDo6IHJvb21JRCA9ICR7cm9vbUlEfSwgdXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9YCk7XG4gICAgICAgIHJlbW92ZVVzZXJGcm9tUm9vbShzb2NrZXRVc2VyQ29udGV4dCwgcHJldlJvb21TaG91bGRFeGlzdCk7XG4gICAgICAgIGlmICghcm9vbUlEKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgIFxuICAgICAgICBsZXQgcm9vbVJ1bnRpbWVNZW1vcnkgPSByb29tUnVudGltZU1lbW9yaWVzW3Jvb21JRF07XG4gICAgICAgIGlmICghcm9vbVJ1bnRpbWVNZW1vcnkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbSA9IGF3YWl0IGxvYWRSb29tKHJvb21JRCk7XG4gICAgICAgICAgICBpZiAobWVtKVxuICAgICAgICAgICAgICAgIHJvb21SdW50aW1lTWVtb3J5ID0gbWVtO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcm9vbVJ1bnRpbWVNZW1vcnkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIHJvb20gKElEID0gJHtyb29tSUR9KWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFkZFVzZXJUb1Jvb20oc29ja2V0VXNlckNvbnRleHQsIHJvb21SdW50aW1lTWVtb3J5LCB1c2VyLnVzZXJOYW1lKTtcblxuICAgICAgICBjb25zdCBzb2NrZXRSb29tQ29udGV4dCA9IHNvY2tldFJvb21Db250ZXh0c1tyb29tSURdO1xuICAgICAgICBpZiAoIXNvY2tldFJvb21Db250ZXh0KVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUm9vbU1hbmFnZXIuY2hhbmdlVXNlclJvb20gOjogU29ja2V0Um9vbUNvbnRleHQgbm90IGZvdW5kIChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNvY2tldFJvb21Db250ZXh0LnVuaWNhc3RTaWduYWwoXCJyb29tUnVudGltZU1lbW9yeVwiLCByb29tUnVudGltZU1lbW9yeSwgdXNlci51c2VyTmFtZSk7XG4gICAgfSxcbiAgICB1cGRhdGVWb3hlbEdyaWQ6IChzb2NrZXRVc2VyQ29udGV4dDogU29ja2V0VXNlckNvbnRleHQsIHBhcmFtczogVXBkYXRlVm94ZWxHcmlkUGFyYW1zKSA9PlxuICAgIHtcbiAgICAgICAgdXBkYXRlVm94ZWxHcmlkKHNvY2tldFVzZXJDb250ZXh0LCBwYXJhbXMpO1xuICAgIH0sXG4gICAgc2VuZE9iamVjdE1lc3NhZ2U6IChzb2NrZXRVc2VyQ29udGV4dDogU29ja2V0VXNlckNvbnRleHQsIHBhcmFtczogT2JqZWN0TWVzc2FnZVBhcmFtcykgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXRVc2VyQ29udGV4dC5zb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICAgICAgY29uc3Qgcm9vbUlEID0gY3VycmVudFJvb21JREJ5VXNlck5hbWVbdXNlci51c2VyTmFtZV07XG4gICAgICAgIGlmIChyb29tSUQgPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5zZW5kT2JqZWN0TWVzc2FnZSA6OiBSb29tSUQgbm90IGZvdW5kICh1c2VyTmFtZSA9ICR7dXNlci51c2VyTmFtZX0pYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm9vbVJ1bnRpbWVNZW1vcnkgPSByb29tUnVudGltZU1lbW9yaWVzW3Jvb21JRF07XG4gICAgICAgIGlmIChyb29tUnVudGltZU1lbW9yeSA9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnNlbmRPYmplY3RNZXNzYWdlIDo6IFJvb21SdW50aW1lTWVtb3J5IGRvZXNuJ3QgZXhpc3QgKHJvb21JRCA9ICR7cm9vbUlEfSlgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvYmplY3RSdW50aW1lTWVtb3J5ID0gcm9vbVJ1bnRpbWVNZW1vcnkub2JqZWN0UnVudGltZU1lbW9yaWVzW3BhcmFtcy5zZW5kZXJPYmplY3RJZF07XG4gICAgICAgIGlmIChvYmplY3RSdW50aW1lTWVtb3J5ID09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUm9vbU1hbmFnZXIuc2VuZE9iamVjdE1lc3NhZ2UgOjogT2JqZWN0UnVudGltZU1lbW9yeSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0sIG9iamVjdElkID0gJHtwYXJhbXMuc2VuZGVyT2JqZWN0SWR9KWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RSdW50aW1lTWVtb3J5Lm9iamVjdFNwYXduUGFyYW1zLnNvdXJjZVVzZXJOYW1lICE9IHVzZXIudXNlck5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnNlbmRPYmplY3RNZXNzYWdlIDo6IFVzZXIgaGFzIG5vIGF1dGhvcml0eSB0byBjb250cm9sIHRoaXMgb2JqZWN0IChyb29tSUQgPSAke3Jvb21JRH0sIG9iamVjdElkID0gJHtwYXJhbXMuc2VuZGVyT2JqZWN0SWR9KWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcy5tZXNzYWdlID0gcGFyYW1zLm1lc3NhZ2UudHJpbSgpLnN1YnN0cmluZygwLCAzMik7XG5cbiAgICAgICAgY29uc3Qgc29ja2V0Um9vbUNvbnRleHQgPSBzb2NrZXRSb29tQ29udGV4dHNbcm9vbUlEXTtcbiAgICAgICAgaWYgKCFzb2NrZXRSb29tQ29udGV4dClcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnNlbmRPYmplY3RNZXNzYWdlIDo6IFNvY2tldFJvb21Db250ZXh0IG5vdCBmb3VuZCAocm9vbUlEID0gJHtyb29tSUR9KWApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzb2NrZXRSb29tQ29udGV4dC5tdWx0aWNhc3RTaWduYWwoXCJvYmplY3RNZXNzYWdlUGFyYW1zXCIsIHBhcmFtcywgdXNlci51c2VyTmFtZSk7XG4gICAgfSxcbiAgICB1cGRhdGVPYmplY3RUcmFuc2Zvcm06IChzb2NrZXRVc2VyQ29udGV4dDogU29ja2V0VXNlckNvbnRleHQsIG9iamVjdElkOiBzdHJpbmcsIHRyYW5zZm9ybTogT2JqZWN0VHJhbnNmb3JtKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgdXNlcjogVXNlciA9IHNvY2tldFVzZXJDb250ZXh0LnNvY2tldC5oYW5kc2hha2UuYXV0aCBhcyBVc2VyO1xuICAgICAgICBjb25zdCByb29tSUQgPSBjdXJyZW50Um9vbUlEQnlVc2VyTmFtZVt1c2VyLnVzZXJOYW1lXTtcbiAgICAgICAgaWYgKHJvb21JRCA9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnVwZGF0ZU9iamVjdFRyYW5zZm9ybSA6OiBSb29tSUQgbm90IGZvdW5kICh1c2VyTmFtZSA9ICR7dXNlci51c2VyTmFtZX0pYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm9vbVJ1bnRpbWVNZW1vcnkgPSByb29tUnVudGltZU1lbW9yaWVzW3Jvb21JRF07XG4gICAgICAgIGlmIChyb29tUnVudGltZU1lbW9yeSA9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnVwZGF0ZU9iamVjdFRyYW5zZm9ybSA6OiBSb29tUnVudGltZU1lbW9yeSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JqZWN0UnVudGltZU1lbW9yeSA9IHJvb21SdW50aW1lTWVtb3J5Lm9iamVjdFJ1bnRpbWVNZW1vcmllc1tvYmplY3RJZF07XG4gICAgICAgIGlmIChvYmplY3RSdW50aW1lTWVtb3J5ID09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUm9vbU1hbmFnZXIudXBkYXRlT2JqZWN0VHJhbnNmb3JtIDo6IE9iamVjdFJ1bnRpbWVNZW1vcnkgZG9lc24ndCBleGlzdCAocm9vbUlEID0gJHtyb29tSUR9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RSdW50aW1lTWVtb3J5Lm9iamVjdFNwYXduUGFyYW1zLnNvdXJjZVVzZXJOYW1lICE9IHVzZXIudXNlck5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnVwZGF0ZU9iamVjdFRyYW5zZm9ybSA6OiBVc2VyIGhhcyBubyBhdXRob3JpdHkgdG8gY29udHJvbCB0aGlzIG9iamVjdCAocm9vbUlEID0gJHtyb29tSUR9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zOiBWZWMyID0geyB4OiB0cmFuc2Zvcm0ueCwgeTogdHJhbnNmb3JtLnogfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUGh5c2ljc01hbmFnZXIudHJ5TW92ZU9iamVjdChyb29tSUQsIG9iamVjdElkLCB0YXJnZXRQb3MpO1xuICAgICAgICB0cmFuc2Zvcm0ueCA9IHJlc3VsdC5yZXNvbHZlZFBvcy54O1xuICAgICAgICB0cmFuc2Zvcm0ueiA9IHJlc3VsdC5yZXNvbHZlZFBvcy55O1xuICAgICAgICBPYmplY3QuYXNzaWduKG9iamVjdFJ1bnRpbWVNZW1vcnkub2JqZWN0U3Bhd25QYXJhbXMudHJhbnNmb3JtLCB0cmFuc2Zvcm0pO1xuXG4gICAgICAgIGlmIChyZXN1bHQuZGVzeW5jRGV0ZWN0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBPYmplY3REZXN5bmNSZXNvbHZlUGFyYW1zKG9iamVjdElkLCByZXN1bHQucmVzb2x2ZWRQb3MpO1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0Um9vbUNvbnRleHQgPSBzb2NrZXRSb29tQ29udGV4dHNbcm9vbUlEXTtcbiAgICAgICAgICAgIGlmICghc29ja2V0Um9vbUNvbnRleHQpXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUm9vbU1hbmFnZXIudXBkYXRlT2JqZWN0VHJhbnNmb3JtIDo6IFNvY2tldFJvb21Db250ZXh0IG5vdCBmb3VuZCAocm9vbUlEID0gJHtyb29tSUR9KWApO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNvY2tldFJvb21Db250ZXh0Lm11bHRpY2FzdFNpZ25hbChcIm9iamVjdERlc3luY1Jlc29sdmVQYXJhbXNcIiwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBPYmplY3RTeW5jUGFyYW1zKG9iamVjdElkLCB0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0Um9vbUNvbnRleHQgPSBzb2NrZXRSb29tQ29udGV4dHNbcm9vbUlEXTtcbiAgICAgICAgICAgIGlmICghc29ja2V0Um9vbUNvbnRleHQpXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUm9vbU1hbmFnZXIudXBkYXRlT2JqZWN0VHJhbnNmb3JtIDo6IFNvY2tldFJvb21Db250ZXh0IG5vdCBmb3VuZCAocm9vbUlEID0gJHtyb29tSUR9KWApO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNvY2tldFJvb21Db250ZXh0Lm11bHRpY2FzdFNpZ25hbChcIm9iamVjdFN5bmNQYXJhbXNcIiwgcGFyYW1zLCB1c2VyLnVzZXJOYW1lKTtcbiAgICAgICAgfVxuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvb21NYW5hZ2VyOyIsImltcG9ydCBQaHlzaWNzTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3BoeXNpY3MvcGh5c2ljc01hbmFnZXJcIjtcbmltcG9ydCBSb29tUnVudGltZU1lbW9yeSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3Jvb20vdHlwZXMvcm9vbVJ1bnRpbWVNZW1vcnlcIjtcbmltcG9ydCBSb29tREIgZnJvbSBcIi4uLy4uL2RiL3Jvb21EQlwiO1xuaW1wb3J0IFNvY2tldFJvb21Db250ZXh0IGZyb20gXCIuLi8uLi9zb2NrZXRzL3R5cGVzL3NvY2tldFJvb21Db250ZXh0XCI7XG5pbXBvcnQgUm9vbU1hbmFnZXIgZnJvbSBcIi4uL3Jvb21NYW5hZ2VyXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkUm9vbShyb29tSUQ6IG51bWJlcik6IFByb21pc2U8Um9vbVJ1bnRpbWVNZW1vcnkgfCBudWxsPlxue1xuICAgIGNvbnNvbGUubG9nKGBSb29tTWFuYWdlci5sb2FkUm9vbSA6OiByb29tSUQgPSAke3Jvb21JRH1gKTtcbiAgICBpZiAoUm9vbU1hbmFnZXIucm9vbVJ1bnRpbWVNZW1vcmllc1tyb29tSURdICE9IHVuZGVmaW5lZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSb29tTWFuYWdlci5sb2FkUm9vbSA6OiBSb29tUnVudGltZU1lbW9yeSBhbHJlYWR5IGV4aXN0cyAocm9vbUlEID0gJHtyb29tSUR9KWApO1xuXG4gICAgY29uc3Qgcm9vbSA9IGF3YWl0IFJvb21EQi5nZXRSb29tQ29udGVudChyb29tSUQpO1xuICAgIGlmICghcm9vbSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCByb29tUnVudGltZU1lbW9yeSA9IG5ldyBSb29tUnVudGltZU1lbW9yeShyb29tLCB7fSwge30pO1xuICAgIFJvb21NYW5hZ2VyLnJvb21SdW50aW1lTWVtb3JpZXNbcm9vbUlEXSA9IHJvb21SdW50aW1lTWVtb3J5O1xuICAgIFJvb21NYW5hZ2VyLnNvY2tldFJvb21Db250ZXh0c1tyb29tSURdID0gbmV3IFNvY2tldFJvb21Db250ZXh0KCk7XG5cbiAgICBQaHlzaWNzTWFuYWdlci5sb2FkKHJvb21SdW50aW1lTWVtb3J5KTtcbiAgICByZXR1cm4gcm9vbVJ1bnRpbWVNZW1vcnk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxvYWRSb29tKHJvb21JRDogbnVtYmVyKVxue1xuICAgIGNvbnNvbGUubG9nKGBSb29tTWFuYWdlci51bmxvYWRSb29tIDo6IHJvb21JRCA9ICR7cm9vbUlEfWApO1xuICAgIGNvbnN0IHJvb21SdW50aW1lTWVtb3J5ID0gUm9vbU1hbmFnZXIucm9vbVJ1bnRpbWVNZW1vcmllc1tyb29tSURdO1xuICAgIGlmIChSb29tTWFuYWdlci5yb29tUnVudGltZU1lbW9yaWVzW3Jvb21JRF0gPT0gdW5kZWZpbmVkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJvb21NYW5hZ2VyLnVubG9hZFJvb20gOjogUm9vbVJ1bnRpbWVNZW1vcnkgZG9lc24ndCBleGlzdCAocm9vbUlEID0gJHtyb29tSUR9KWApO1xuICAgIGlmIChPYmplY3Qua2V5cyhyb29tUnVudGltZU1lbW9yeS5wYXJ0aWNpcGFudFVzZXJOYW1lcykubGVuZ3RoID4gMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSb29tTWFuYWdlci51bmxvYWRSb29tIDo6IFRoZXJlIGFyZSBzdGlsbCBwYXJ0aWNpcGFudHMgaW4gdGhlIHJvb20gKHBhcnRpY2lwYW50cyA9IFske0pTT04uc3RyaW5naWZ5KHJvb21SdW50aW1lTWVtb3J5LnBhcnRpY2lwYW50VXNlck5hbWVzKX1dKWApO1xuICAgIGRlbGV0ZSBSb29tTWFuYWdlci5yb29tUnVudGltZU1lbW9yaWVzW3Jvb21JRF07XG4gICAgZGVsZXRlIFJvb21NYW5hZ2VyLnNvY2tldFJvb21Db250ZXh0c1tyb29tSURdO1xuXG4gICAgUGh5c2ljc01hbmFnZXIudW5sb2FkKHJvb21JRCk7XG59IiwiaW1wb3J0IFVzZXIgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC91c2VyL3R5cGVzL3VzZXJcIjtcbmltcG9ydCBBQUJCMiBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL21hdGgvdHlwZXMvYWFiYjJcIjtcbmltcG9ydCBPYmplY3RUeXBlQ29uZmlnTWFwIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvb2JqZWN0L21hcHMvb2JqZWN0VHlwZUNvbmZpZ01hcFwiO1xuaW1wb3J0IE9iamVjdERlc3Bhd25QYXJhbXMgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9vYmplY3QvdHlwZXMvb2JqZWN0RGVzcGF3blBhcmFtc1wiO1xuaW1wb3J0IE9iamVjdFJ1bnRpbWVNZW1vcnkgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9vYmplY3QvdHlwZXMvb2JqZWN0UnVudGltZU1lbW9yeVwiO1xuaW1wb3J0IFBoeXNpY3NNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvcGh5c2ljcy9waHlzaWNzTWFuYWdlclwiO1xuaW1wb3J0IFNvY2tldFVzZXJDb250ZXh0IGZyb20gXCIuLi8uLi9zb2NrZXRzL3R5cGVzL3NvY2tldFVzZXJDb250ZXh0XCI7XG5pbXBvcnQgUm9vbU1hbmFnZXIgZnJvbSBcIi4uL3Jvb21NYW5hZ2VyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRPYmplY3Qoc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0LCBvYmplY3RSdW50aW1lTWVtb3J5OiBPYmplY3RSdW50aW1lTWVtb3J5KVxue1xuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXRVc2VyQ29udGV4dC5zb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICBjb25zdCByb29tSUQgPSBSb29tTWFuYWdlci5jdXJyZW50Um9vbUlEQnlVc2VyTmFtZVt1c2VyLnVzZXJOYW1lXTtcbiAgICBjb25zdCBvYmplY3RJZCA9IG9iamVjdFJ1bnRpbWVNZW1vcnkub2JqZWN0U3Bhd25QYXJhbXMub2JqZWN0SWQ7XG5cbiAgICBjb25zb2xlLmxvZyhgUm9vbU1hbmFnZXIuYWRkT2JqZWN0IDo6IHJvb21JRCA9ICR7cm9vbUlEfSwgdXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9YCk7XG4gICAgaWYgKHJvb21JRCA9PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5hZGRPYmplY3QgOjogUm9vbUlEIG5vdCBmb3VuZCAodXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvb21SdW50aW1lTWVtb3J5ID0gUm9vbU1hbmFnZXIucm9vbVJ1bnRpbWVNZW1vcmllc1tyb29tSURdO1xuICAgIGlmIChyb29tUnVudGltZU1lbW9yeSA9PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5hZGRPYmplY3QgOjogUm9vbVJ1bnRpbWVNZW1vcnkgZG9lc24ndCBleGlzdCAocm9vbUlEID0gJHtyb29tSUR9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyb29tUnVudGltZU1lbW9yeS5vYmplY3RSdW50aW1lTWVtb3JpZXNbb2JqZWN0SWRdICE9IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLmFkZE9iamVjdCA6OiBPYmplY3RSdW50aW1lTWVtb3J5IGFscmVhZHkgZXhpc3RzIChyb29tSUQgPSAke3Jvb21JRH0sIG9iamVjdElkID0gJHtvYmplY3RJZH0pYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcm9vbVJ1bnRpbWVNZW1vcnkub2JqZWN0UnVudGltZU1lbW9yaWVzW29iamVjdElkXSA9IG9iamVjdFJ1bnRpbWVNZW1vcnk7XG5cbiAgICBjb25zdCBjb25maWcgPSBPYmplY3RUeXBlQ29uZmlnTWFwLmdldENvbmZpZ0J5SW5kZXgob2JqZWN0UnVudGltZU1lbW9yeS5vYmplY3RTcGF3blBhcmFtcy5vYmplY3RUeXBlSW5kZXgpO1xuICAgIFxuICAgIGNvbnN0IGNvbGxpZGVyQ29uZmlnID0gY29uZmlnLmNvbXBvbmVudHMuc3Bhd25lZEJ5QW55Py5jb2xsaWRlcjtcbiAgICBpZiAoY29sbGlkZXJDb25maWcpXG4gICAge1xuICAgICAgICBjb25zdCBoYWxmU2l6ZVggPSAwLjUgKiBjb2xsaWRlckNvbmZpZy5oaXRib3hTaXplLnNpemVYO1xuICAgICAgICBjb25zdCBoYWxmU2l6ZVkgPSAwLjUgKiBjb2xsaWRlckNvbmZpZy5oaXRib3hTaXplLnNpemVaO1xuICAgIFxuICAgICAgICBjb25zdCBoaXRib3g6IEFBQkIyID0ge1xuICAgICAgICAgICAgeDogb2JqZWN0UnVudGltZU1lbW9yeS5vYmplY3RTcGF3blBhcmFtcy50cmFuc2Zvcm0ueCxcbiAgICAgICAgICAgIHk6IG9iamVjdFJ1bnRpbWVNZW1vcnkub2JqZWN0U3Bhd25QYXJhbXMudHJhbnNmb3JtLnosXG4gICAgICAgICAgICBoYWxmU2l6ZVgsXG4gICAgICAgICAgICBoYWxmU2l6ZVksXG4gICAgICAgIH07XG4gICAgICAgIFBoeXNpY3NNYW5hZ2VyLmFkZE9iamVjdChyb29tSUQsIG9iamVjdElkLCBoaXRib3gsIGNvbGxpZGVyQ29uZmlnLmNvbGxpc2lvbkxheWVyTWFza0F0R3JvdW5kTGV2ZWwpO1xuICAgIH1cblxuICAgIGNvbnN0IHNvY2tldFJvb21Db250ZXh0ID0gUm9vbU1hbmFnZXIuc29ja2V0Um9vbUNvbnRleHRzW3Jvb21JRF07XG4gICAgaWYgKCFzb2NrZXRSb29tQ29udGV4dClcbiAgICAgICAgY29uc29sZS5lcnJvcihgUm9vbU1hbmFnZXIuYWRkT2JqZWN0IDo6IFNvY2tldFJvb21Db250ZXh0IG5vdCBmb3VuZCAocm9vbUlEID0gJHtyb29tSUR9KWApO1xuICAgIGVsc2VcbiAgICAgICAgc29ja2V0Um9vbUNvbnRleHQubXVsdGljYXN0U2lnbmFsKFwib2JqZWN0U3Bhd25QYXJhbXNcIiwgb2JqZWN0UnVudGltZU1lbW9yeS5vYmplY3RTcGF3blBhcmFtcywgdXNlci51c2VyTmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVPYmplY3Qoc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0LCBvYmplY3RJZDogc3RyaW5nKVxue1xuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXRVc2VyQ29udGV4dC5zb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICBjb25zdCByb29tSUQgPSBSb29tTWFuYWdlci5jdXJyZW50Um9vbUlEQnlVc2VyTmFtZVt1c2VyLnVzZXJOYW1lXTtcbiAgICBjb25zb2xlLmxvZyhgUm9vbU1hbmFnZXIucmVtb3ZlT2JqZWN0IDo6IHJvb21JRCA9ICR7cm9vbUlEfSwgdXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9YCk7XG4gICAgaWYgKHJvb21JRCA9PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5yZW1vdmVPYmplY3QgOjogUm9vbUlEIG5vdCBmb3VuZCAodXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvb21SdW50aW1lTWVtb3J5ID0gUm9vbU1hbmFnZXIucm9vbVJ1bnRpbWVNZW1vcmllc1tyb29tSURdO1xuICAgIGlmIChyb29tUnVudGltZU1lbW9yeSA9PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5yZW1vdmVPYmplY3QgOjogUm9vbVJ1bnRpbWVNZW1vcnkgZG9lc24ndCBleGlzdCAocm9vbUlEID0gJHtyb29tSUR9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9iamVjdFJ1bnRpbWVNZW1vcnkgPSByb29tUnVudGltZU1lbW9yeS5vYmplY3RSdW50aW1lTWVtb3JpZXNbb2JqZWN0SWRdO1xuICAgIGlmIChvYmplY3RSdW50aW1lTWVtb3J5ID09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnJlbW92ZU9iamVjdCA6OiBPYmplY3RSdW50aW1lTWVtb3J5IGRvZXNuJ3QgZXhpc3QgKHJvb21JRCA9ICR7cm9vbUlEfSwgb2JqZWN0SWQgPSAke29iamVjdElkfSlgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWxldGUgcm9vbVJ1bnRpbWVNZW1vcnkub2JqZWN0UnVudGltZU1lbW9yaWVzW29iamVjdElkXTtcblxuICAgIGNvbnN0IGNvbmZpZyA9IE9iamVjdFR5cGVDb25maWdNYXAuZ2V0Q29uZmlnQnlJbmRleChvYmplY3RSdW50aW1lTWVtb3J5Lm9iamVjdFNwYXduUGFyYW1zLm9iamVjdFR5cGVJbmRleCk7XG4gICAgY29uc3QgY29sbGlkZXJDb25maWcgPSBjb25maWcuY29tcG9uZW50cy5zcGF3bmVkQnlBbnk/LmNvbGxpZGVyO1xuICAgIGlmIChjb2xsaWRlckNvbmZpZylcbiAgICAgICAgUGh5c2ljc01hbmFnZXIucmVtb3ZlT2JqZWN0KHJvb21JRCwgb2JqZWN0SWQpO1xuICAgIFxuICAgIGNvbnN0IGRlc3Bhd25QYXJhbXMgPSBuZXcgT2JqZWN0RGVzcGF3blBhcmFtcyhvYmplY3RJZCk7XG5cbiAgICBjb25zdCBzb2NrZXRSb29tQ29udGV4dCA9IFJvb21NYW5hZ2VyLnNvY2tldFJvb21Db250ZXh0c1tyb29tSURdO1xuICAgIGlmICghc29ja2V0Um9vbUNvbnRleHQpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnJlbW92ZU9iamVjdCA6OiBTb2NrZXRSb29tQ29udGV4dCBub3QgZm91bmQgKHJvb21JRCA9ICR7cm9vbUlEfSlgKTtcbiAgICBlbHNlXG4gICAgICAgIHNvY2tldFJvb21Db250ZXh0Lm11bHRpY2FzdFNpZ25hbChcIm9iamVjdERlc3Bhd25QYXJhbXNcIiwgZGVzcGF3blBhcmFtcywgdXNlci51c2VyTmFtZSk7XG59IiwiaW1wb3J0IFVzZXIgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC91c2VyL3R5cGVzL3VzZXJcIjtcbmltcG9ydCBPYmplY3RUeXBlQ29uZmlnTWFwIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvb2JqZWN0L21hcHMvb2JqZWN0VHlwZUNvbmZpZ01hcFwiO1xuaW1wb3J0IE9iamVjdFJ1bnRpbWVNZW1vcnkgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9vYmplY3QvdHlwZXMvb2JqZWN0UnVudGltZU1lbW9yeVwiO1xuaW1wb3J0IE9iamVjdFNwYXduUGFyYW1zIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdFNwYXduUGFyYW1zXCI7XG5pbXBvcnQgT2JqZWN0VHJhbnNmb3JtIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdFRyYW5zZm9ybVwiO1xuaW1wb3J0IFJvb21SdW50aW1lTWVtb3J5IGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvcm9vbS90eXBlcy9yb29tUnVudGltZU1lbW9yeVwiO1xuaW1wb3J0IFNvY2tldFVzZXJDb250ZXh0IGZyb20gXCIuLi8uLi9zb2NrZXRzL3R5cGVzL3NvY2tldFVzZXJDb250ZXh0XCI7XG5pbXBvcnQgUm9vbU1hbmFnZXIgZnJvbSBcIi4uL3Jvb21NYW5hZ2VyXCI7XG4vL2ltcG9ydCB7IHVubG9hZFJvb20gfSBmcm9tIFwiLi9yb29tQ29yZVV0aWxcIjtcbmltcG9ydCB7IGFkZE9iamVjdCwgcmVtb3ZlT2JqZWN0IH0gZnJvbSBcIi4vcm9vbU9iamVjdFV0aWxcIjtcblxubGV0IGxhc3RPYmplY3RJZE51bWJlciA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRVc2VyVG9Sb29tKHNvY2tldFVzZXJDb250ZXh0OiBTb2NrZXRVc2VyQ29udGV4dCwgcm9vbVJ1bnRpbWVNZW1vcnk6IFJvb21SdW50aW1lTWVtb3J5LCB1c2VyTmFtZTogc3RyaW5nKVxue1xuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXRVc2VyQ29udGV4dC5zb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgUm9vbU1hbmFnZXIuYWRkVXNlclRvUm9vbSA6OiByb29tSUQgPSAke3Jvb21SdW50aW1lTWVtb3J5LnJvb20ucm9vbUlEfSwgdXNlck5hbWUgPSAke3VzZXJOYW1lfWApO1xuICAgIGlmIChyb29tUnVudGltZU1lbW9yeS5wYXJ0aWNpcGFudFVzZXJOYW1lc1t1c2VyTmFtZV0gIT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgUm9vbU1hbmFnZXIuYWRkVXNlclRvUm9vbSA6OiBVc2VyIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCAocm9vbUlEID0gJHtyb29tUnVudGltZU1lbW9yeS5yb29tLnJvb21JRH0sIHVzZXJOYW1lID0gJHt1c2VyTmFtZX0pYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgUm9vbU1hbmFnZXIuY3VycmVudFJvb21JREJ5VXNlck5hbWVbdXNlck5hbWVdID0gcm9vbVJ1bnRpbWVNZW1vcnkucm9vbS5yb29tSUQ7XG4gICAgcm9vbVJ1bnRpbWVNZW1vcnkucGFydGljaXBhbnRVc2VyTmFtZXNbdXNlck5hbWVdID0gdHJ1ZTtcblxuICAgIGNvbnN0IHNvY2tldFJvb21Db250ZXh0ID0gUm9vbU1hbmFnZXIuc29ja2V0Um9vbUNvbnRleHRzW3Jvb21SdW50aW1lTWVtb3J5LnJvb20ucm9vbUlEXTtcbiAgICBpZiAoIXNvY2tldFJvb21Db250ZXh0KVxuICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5hZGRVc2VyVG9Sb29tIDo6IFNvY2tldFJvb21Db250ZXh0IG5vdCBmb3VuZCAocm9vbUlEID0gJHtyb29tUnVudGltZU1lbW9yeS5yb29tLnJvb21JRH0pYCk7XG4gICAgZWxzZVxuICAgICAgICBzb2NrZXRSb29tQ29udGV4dC5hZGRTb2NrZXRVc2VyQ29udGV4dCh1c2VyTmFtZSwgc29ja2V0VXNlckNvbnRleHQpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSB1c2VyJ3MgcGxheWVyIG9iamVjdFxuICAgIGFkZE9iamVjdChzb2NrZXRVc2VyQ29udGV4dCwgbmV3IE9iamVjdFJ1bnRpbWVNZW1vcnkobmV3IE9iamVjdFNwYXduUGFyYW1zKFxuICAgICAgICB1c2VyLnVzZXJOYW1lLFxuICAgICAgICBPYmplY3RUeXBlQ29uZmlnTWFwLmdldEluZGV4QnlUeXBlKFwiUGxheWVyXCIpLFxuICAgICAgICBgIyR7KytsYXN0T2JqZWN0SWROdW1iZXJ9YCxcbiAgICAgICAgbmV3IE9iamVjdFRyYW5zZm9ybShcbiAgICAgICAgICAgIDE2LCAwLCAxNixcbiAgICAgICAgICAgIDAsIDAsIDFcbiAgICAgICAgKSxcbiAgICAgICAgXCJcIlxuICAgICApKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVVc2VyRnJvbVJvb20oc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0LCBwcmV2Um9vbVNob3VsZEV4aXN0OiBib29sZWFuKVxue1xuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXRVc2VyQ29udGV4dC5zb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICBjb25zdCByb29tSUQgPSBSb29tTWFuYWdlci5jdXJyZW50Um9vbUlEQnlVc2VyTmFtZVt1c2VyLnVzZXJOYW1lXTtcbiAgICBjb25zb2xlLmxvZyhgUm9vbU1hbmFnZXIucmVtb3ZlVXNlckZyb21Sb29tIDo6IHJvb21JRCA9ICR7cm9vbUlEfSwgdXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9YCk7XG4gICAgaWYgKHJvb21JRCA9PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBpZiAocHJldlJvb21TaG91bGRFeGlzdCkgLy8gVGhpcyBtYXkgaGFwcGVuIHdoZW4gdGhlIGNsaWVudCBkaXNjb25uZWN0cyBiZWZvcmUgam9pbmluZyB0aGUgdmVyeSBmaXJzdCByb29tLlxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBSb29tTWFuYWdlci5yZW1vdmVVc2VyRnJvbVJvb20gOjogUHJldmlvdXMgcm9vbSBub3QgZm91bmQgOjogdXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgcm9vbVJ1bnRpbWVNZW1vcnkgPSBSb29tTWFuYWdlci5yb29tUnVudGltZU1lbW9yaWVzW3Jvb21JRF07XG4gICAgaWYgKHJvb21SdW50aW1lTWVtb3J5ID09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLnJlbW92ZVVzZXJGcm9tUm9vbSA6OiBSb29tUnVudGltZU1lbW9yeSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb2JqZWN0SWRzID0gZ2V0SWRzT2ZPYmplY3RzU3Bhd25lZEJ5VXNlcihyb29tSUQsIHVzZXIudXNlck5hbWUpO1xuICAgIGZvciAoY29uc3Qgb2JqZWN0SWQgb2Ygb2JqZWN0SWRzKVxuICAgICAgICByZW1vdmVPYmplY3Qoc29ja2V0VXNlckNvbnRleHQsIG9iamVjdElkKTtcblxuICAgIGlmIChyb29tUnVudGltZU1lbW9yeS5wYXJ0aWNpcGFudFVzZXJOYW1lc1t1c2VyLnVzZXJOYW1lXSA9PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5yZW1vdmVVc2VyRnJvbVJvb20gOjogVXNlciBpcyBub3QgcmVnaXN0ZXJlZCBhcyB0aGUgcm9vbSdzIHBhcnRpY2lwYW50ICh1c2VyTmFtZSA9ICR7dXNlci51c2VyTmFtZX0sIHJvb21JRCA9ICR7cm9vbUlEfSlgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWxldGUgUm9vbU1hbmFnZXIuY3VycmVudFJvb21JREJ5VXNlck5hbWVbdXNlci51c2VyTmFtZV07XG4gICAgZGVsZXRlIHJvb21SdW50aW1lTWVtb3J5LnBhcnRpY2lwYW50VXNlck5hbWVzW3VzZXIudXNlck5hbWVdO1xuXG4gICAgY29uc3Qgc29ja2V0Um9vbUNvbnRleHQgPSBSb29tTWFuYWdlci5zb2NrZXRSb29tQ29udGV4dHNbcm9vbUlEXTtcbiAgICBpZiAoIXNvY2tldFJvb21Db250ZXh0KVxuICAgICAgICBjb25zb2xlLmVycm9yKGBSb29tTWFuYWdlci5yZW1vdmVVc2VyRnJvbVJvb20gOjogU29ja2V0Um9vbUNvbnRleHQgbm90IGZvdW5kIChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG4gICAgZWxzZVxuICAgICAgICBzb2NrZXRSb29tQ29udGV4dC5yZW1vdmVTb2NrZXRVc2VyQ29udGV4dCh1c2VyLnVzZXJOYW1lKTtcblxuICAgIC8vIE5PVEU6IEZvciBub3csIGRvbid0IHVubG9hZCBhIHJvb20gZXZlbiBpZiB0aGVyZSdzIG5vIHVzZXIgbGVmdCBpbiBpdC5cbiAgICAvL2lmIChPYmplY3Qua2V5cyhyb29tUnVudGltZU1lbW9yeS5wYXJ0aWNpcGFudFVzZXJOYW1lcykubGVuZ3RoID09IDApXG4gICAgLy8gICAgdW5sb2FkUm9vbShyb29tSUQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWRzT2ZPYmplY3RzU3Bhd25lZEJ5VXNlcihyb29tSUQ6IG51bWJlciwgdXNlck5hbWU6IHN0cmluZyk6IHN0cmluZ1tdXG57XG4gICAgY29uc3Qgcm9vbVJ1bnRpbWVNZW1vcnkgPSBSb29tTWFuYWdlci5yb29tUnVudGltZU1lbW9yaWVzW3Jvb21JRF07XG4gICAgaWYgKHJvb21SdW50aW1lTWVtb3J5ID09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFJvb21NYW5hZ2VyLmdldElkc09mT2JqZWN0c1NwYXduZWRCeVVzZXIgOjogUm9vbVJ1bnRpbWVNZW1vcnkgZG9lc24ndCBleGlzdCAocm9vbUlEID0gJHtyb29tSUR9KWApO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGlkczogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtvYmplY3RJZCwgb2JqZWN0UnVudGltZU1lbW9yeV0gb2YgT2JqZWN0LmVudHJpZXMocm9vbVJ1bnRpbWVNZW1vcnkub2JqZWN0UnVudGltZU1lbW9yaWVzKSlcbiAgICB7XG4gICAgICAgIGlmIChvYmplY3RSdW50aW1lTWVtb3J5Lm9iamVjdFNwYXduUGFyYW1zLnNvdXJjZVVzZXJOYW1lID09IHVzZXJOYW1lKVxuICAgICAgICAgICAgaWRzLnB1c2gob2JqZWN0SWQpO1xuICAgIH1cbiAgICByZXR1cm4gaWRzO1xufSIsImltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvdXNlci90eXBlcy91c2VyXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiO1xuaW1wb3J0IFJvb20gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9yb29tL3R5cGVzL3Jvb21cIjtcbmltcG9ydCB7IFZPWEVMX0dSSURfVEFTS19UWVBFX0FERCwgVk9YRUxfR1JJRF9UQVNLX1RZUEVfTU9WRSwgVk9YRUxfR1JJRF9UQVNLX1RZUEVfUkVNT1ZFLCBWT1hFTF9HUklEX1RBU0tfVFlQRV9URVggfSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3N5c3RlbS9jb25zdGFudHNcIjtcbmltcG9ydCBBZGRWb3hlbEJsb2NrUGFyYW1zIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvdm94ZWwvdHlwZXMvdXBkYXRlL2FkZFZveGVsQmxvY2tQYXJhbXNcIjtcbmltcG9ydCBNb3ZlVm94ZWxCbG9ja1BhcmFtcyBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3ZveGVsL3R5cGVzL3VwZGF0ZS9tb3ZlVm94ZWxCbG9ja1BhcmFtc1wiO1xuaW1wb3J0IFJlbW92ZVZveGVsQmxvY2tQYXJhbXMgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC92b3hlbC90eXBlcy91cGRhdGUvcmVtb3ZlVm94ZWxCbG9ja1BhcmFtc1wiO1xuaW1wb3J0IFNldFZveGVsUXVhZFRleHR1cmVQYXJhbXMgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC92b3hlbC90eXBlcy91cGRhdGUvc2V0Vm94ZWxRdWFkVGV4dHVyZVBhcmFtc1wiO1xuaW1wb3J0IFVwZGF0ZVZveGVsR3JpZFBhcmFtcyBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3ZveGVsL3R5cGVzL3VwZGF0ZS91cGRhdGVWb3hlbEdyaWRQYXJhbXNcIjtcbmltcG9ydCBVcGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvdm94ZWwvdHlwZXMvdXBkYXRlL3VwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXNcIjtcbmltcG9ydCB7IGFkZFZveGVsQmxvY2ssIG1vdmVWb3hlbEJsb2NrLCByZW1vdmVWb3hlbEJsb2NrIH0gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC92b3hlbC91dGlsL3ZveGVsQmxvY2tVcGRhdGVVdGlsXCI7XG5pbXBvcnQgeyBzZXRWb3hlbFF1YWRWaXNpYmxlIH0gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC92b3hlbC91dGlsL3ZveGVsUXVhZFVwZGF0ZVV0aWxcIjtcbmltcG9ydCB7IGdldFZveGVsLCBnZXRWb3hlbENvbEZyb21RdWFkSW5kZXgsIGdldFZveGVsUXVhZENvbGxpc2lvbkxheWVyRnJvbVF1YWRJbmRleCwgZ2V0Vm94ZWxRdWFkRmFjaW5nQXhpc0Zyb21RdWFkSW5kZXgsIGdldFZveGVsUXVhZE9yaWVudGF0aW9uRnJvbVF1YWRJbmRleCwgZ2V0Vm94ZWxSb3dGcm9tUXVhZEluZGV4IH0gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC92b3hlbC91dGlsL3ZveGVsUXVlcnlVdGlsXCI7XG5pbXBvcnQgU29ja2V0VXNlckNvbnRleHQgZnJvbSBcIi4uLy4uL3NvY2tldHMvdHlwZXMvc29ja2V0VXNlckNvbnRleHRcIjtcbmltcG9ydCBSb29tTWFuYWdlciBmcm9tIFwiLi4vcm9vbU1hbmFnZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVZveGVsR3JpZChzb2NrZXRVc2VyQ29udGV4dDogU29ja2V0VXNlckNvbnRleHQsIHBhcmFtczogVXBkYXRlVm94ZWxHcmlkUGFyYW1zKVxue1xuICAgIGZvciAoY29uc3QgdGFzayBvZiBwYXJhbXMudGFza3MpXG4gICAge1xuICAgICAgICBzd2l0Y2ggKHRhc2sudHlwZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSBWT1hFTF9HUklEX1RBU0tfVFlQRV9NT1ZFOlxuICAgICAgICAgICAgICAgIG1vdmVWb3hlbEJsb2NrVGFzayhzb2NrZXRVc2VyQ29udGV4dCwgdGFzayBhcyBNb3ZlVm94ZWxCbG9ja1BhcmFtcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZPWEVMX0dSSURfVEFTS19UWVBFX0FERDpcbiAgICAgICAgICAgICAgICBhZGRWb3hlbEJsb2NrVGFzayhzb2NrZXRVc2VyQ29udGV4dCwgdGFzayBhcyBBZGRWb3hlbEJsb2NrUGFyYW1zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVk9YRUxfR1JJRF9UQVNLX1RZUEVfUkVNT1ZFOlxuICAgICAgICAgICAgICAgIHJlbW92ZVZveGVsQmxvY2tUYXNrKHNvY2tldFVzZXJDb250ZXh0LCB0YXNrIGFzIFJlbW92ZVZveGVsQmxvY2tQYXJhbXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWT1hFTF9HUklEX1RBU0tfVFlQRV9URVg6XG4gICAgICAgICAgICAgICAgc2V0Vm94ZWxRdWFkVGV4dHVyZVRhc2soc29ja2V0VXNlckNvbnRleHQsIHRhc2sgYXMgU2V0Vm94ZWxRdWFkVGV4dHVyZVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvKmNhc2UgVk9YRUxfR1JJRF9UQVNLX1RZUEVfU0hSSU5LX09SX0VYUEFORDpcbiAgICAgICAgICAgICAgICBzaHJpbmtPckV4cGFuZFZveGVsQmxvY2tUYXNrKHNvY2tldFVzZXJDb250ZXh0LCB0YXNrIGFzIFNocmlua09yRXhwYW5kVm94ZWxCbG9ja1BhcmFtcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7Ki9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5rbm93biB0YXNrIHR5cGUgOjogJHt0YXNrLnR5cGV9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1vdmVWb3hlbEJsb2NrVGFzayhzb2NrZXRVc2VyQ29udGV4dDogU29ja2V0VXNlckNvbnRleHQsIHBhcmFtczogTW92ZVZveGVsQmxvY2tQYXJhbXMpXG57XG4gICAgY29uc3Qgcm9vbSA9IGdldFJvb20oc29ja2V0VXNlckNvbnRleHQpO1xuICAgIGlmICghcm9vbSB8fCAhbW92ZVZveGVsQmxvY2socm9vbSwgcGFyYW1zLnF1YWRJbmRleCwgcGFyYW1zLnJvd09mZnNldCwgcGFyYW1zLmNvbE9mZnNldCwgcGFyYW1zLmNvbGxpc2lvbkxheWVyT2Zmc2V0KSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFZveGVsIHVwZGF0ZSBmYWlsZWQgKG1vdmVWb3hlbEJsb2NrVGFzaykgLSBwYXJhbXM6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zKX1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBicm9hZGNhc3Qoc29ja2V0VXNlckNvbnRleHQsIHJvb20sIHBhcmFtcywgXCJtb3ZlVm94ZWxCbG9ja1wiKTtcbn1cblxuZnVuY3Rpb24gYWRkVm94ZWxCbG9ja1Rhc2soc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0LCBwYXJhbXM6IEFkZFZveGVsQmxvY2tQYXJhbXMpXG57XG4gICAgY29uc3Qgcm9vbSA9IGdldFJvb20oc29ja2V0VXNlckNvbnRleHQpO1xuICAgIGlmICghcm9vbSB8fCAhYWRkVm94ZWxCbG9jayhyb29tLCBwYXJhbXMucXVhZEluZGV4LCAvKnBhcmFtcy54U2hyaW5rLCBwYXJhbXMuelNocmluaywqLyBwYXJhbXMucXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXIpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVm94ZWwgdXBkYXRlIGZhaWxlZCAoYWRkVm94ZWxCbG9ja1Rhc2spIC0gcGFyYW1zOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcyl9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYnJvYWRjYXN0KHNvY2tldFVzZXJDb250ZXh0LCByb29tLCBwYXJhbXMsIFwiYWRkVm94ZWxCbG9ja1wiKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVm94ZWxCbG9ja1Rhc2soc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0LCBwYXJhbXM6IFJlbW92ZVZveGVsQmxvY2tQYXJhbXMpXG57XG4gICAgY29uc3Qgcm9vbSA9IGdldFJvb20oc29ja2V0VXNlckNvbnRleHQpO1xuICAgIGlmICghcm9vbSB8fCAhcmVtb3ZlVm94ZWxCbG9jayhyb29tLCBwYXJhbXMucXVhZEluZGV4KSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFZveGVsIHVwZGF0ZSBmYWlsZWQgKHJlbW92ZVZveGVsQmxvY2tUYXNrKSAtIHBhcmFtczogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMpfWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGJyb2FkY2FzdChzb2NrZXRVc2VyQ29udGV4dCwgcm9vbSwgcGFyYW1zLCBcInJlbW92ZVZveGVsQmxvY2tcIik7XG59XG5cbmZ1bmN0aW9uIHNldFZveGVsUXVhZFRleHR1cmVUYXNrKHNvY2tldFVzZXJDb250ZXh0OiBTb2NrZXRVc2VyQ29udGV4dCwgcGFyYW1zOiBTZXRWb3hlbFF1YWRUZXh0dXJlUGFyYW1zKVxue1xuICAgIGNvbnN0IHJvb20gPSBnZXRSb29tKHNvY2tldFVzZXJDb250ZXh0KTtcbiAgICBpZiAoIXJvb20pXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBWb3hlbCB1cGRhdGUgZmFpbGVkIChzZXRWb3hlbFF1YWRUZXh0dXJlVGFzaykgLSByb29tIG5vdCBmb3VuZCAtIHBhcmFtczogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMpfWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHF1YWRJbmRleCA9IHBhcmFtcy5xdWFkSW5kZXg7XG4gICAgY29uc3Qgcm93ID0gZ2V0Vm94ZWxSb3dGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgY29uc3QgY29sID0gZ2V0Vm94ZWxDb2xGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgY29uc3Qgdm94ZWwgPSBnZXRWb3hlbChyb29tLCByb3csIGNvbCk7XG4gICAgaWYgKCF2b3hlbClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFZveGVsIHVwZGF0ZSBmYWlsZWQgKHNldFZveGVsUXVhZFRleHR1cmVUYXNrKSAtIHZveGVsIG5vdCBmb3VuZCAtIHBhcmFtczogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMpfWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZhY2luZ0F4aXMgPSBnZXRWb3hlbFF1YWRGYWNpbmdBeGlzRnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gZ2V0Vm94ZWxRdWFkT3JpZW50YXRpb25Gcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgY29uc3QgY29sbGlzaW9uTGF5ZXIgPSBnZXRWb3hlbFF1YWRDb2xsaXNpb25MYXllckZyb21RdWFkSW5kZXgocXVhZEluZGV4KTtcbiAgICBpZiAoIXNldFZveGVsUXVhZFZpc2libGUodHJ1ZSwgdm94ZWwsIGZhY2luZ0F4aXMsIG9yaWVudGF0aW9uLCBjb2xsaXNpb25MYXllciwgcGFyYW1zLnRleHR1cmVJbmRleCkpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBWb3hlbCB1cGRhdGUgZmFpbGVkIChzZXRWb3hlbFF1YWRUZXh0dXJlVGFzaykgLSBwYXJhbXM6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zKX1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBicm9hZGNhc3Qoc29ja2V0VXNlckNvbnRleHQsIHJvb20sIHBhcmFtcywgXCJzZXRWb3hlbFF1YWRUZXh0dXJlXCIpO1xufVxuXG4vKmZ1bmN0aW9uIHNocmlua09yRXhwYW5kVm94ZWxCbG9ja1Rhc2soc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0LCBwYXJhbXM6IFNocmlua09yRXhwYW5kVm94ZWxCbG9ja1BhcmFtcylcbntcbiAgICBjb25zdCByb29tID0gZ2V0Um9vbShzb2NrZXRVc2VyQ29udGV4dCk7XG4gICAgaWYgKCFyb29tIHx8ICFzaHJpbmtPckV4cGFuZFZveGVsQmxvY2socm9vbSwgcGFyYW1zLnF1YWRJbmRleCkpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBWb3hlbCB1cGRhdGUgZmFpbGVkIChzaHJpbmtPckV4cGFuZFZveGVsQmxvY2spIC0gcGFyYW1zOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcyl9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYnJvYWRjYXN0KHNvY2tldFVzZXJDb250ZXh0LCByb29tLCBwYXJhbXMsIFwic2hyaW5rT3JFeHBhbmRWb3hlbEJsb2NrXCIpO1xufSovXG5cbmZ1bmN0aW9uIGJyb2FkY2FzdChzb2NrZXRVc2VyQ29udGV4dDogU29ja2V0VXNlckNvbnRleHQsIHJvb206IFJvb20sXG4gICAgc2lnbmFsOiBFbmNvZGFibGVEYXRhLCB1cGRhdGVUeXBlOiBzdHJpbmcpXG57XG4gICAgY29uc3QgdXNlcjogVXNlciA9IHNvY2tldFVzZXJDb250ZXh0LnNvY2tldC5oYW5kc2hha2UuYXV0aCBhcyBVc2VyO1xuICAgIGNvbnN0IHNvY2tldFJvb21Db250ZXh0ID0gUm9vbU1hbmFnZXIuc29ja2V0Um9vbUNvbnRleHRzW3Jvb20ucm9vbUlEXTtcbiAgICBpZiAoIXNvY2tldFJvb21Db250ZXh0KVxuICAgICAgICBjb25zb2xlLmVycm9yKGBTb2NrZXRSb29tQ29udGV4dCBub3QgZm91bmQgKHJvb21JRCA9ICR7cm9vbS5yb29tSUR9KWApO1xuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHNvY2tldFJvb21Db250ZXh0LmdldFVzZXJDb250ZXh0cygpKS5mb3JFYWNoKChrdnA6IFtzdHJpbmcsIFNvY2tldFVzZXJDb250ZXh0XSkgPT4ge1xuICAgICAgICAgICAgaWYgKHVzZXIudXNlck5hbWUgIT0ga3ZwWzBdKSAvLyBFeGNsdWRlIHRoZSBicm9hZGNhc3Qgc2VuZGVyIGZyb20gdGhlIGdyb3VwIG9mIGJyb2FkY2FzdCByZWNpcGllbnRzIChpbiBvcmRlciB0byBwcmV2ZW50IGFuIGluZmluaXRlIGN5Y2xlKS5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBrdnBbMV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGN0eC50cnlVcGRhdGVMYXRlc3RQZW5kaW5nU2lnbmFsKFwidXBkYXRlVm94ZWxHcmlkUGFyYW1zXCIsIChleGlzdGluZ1NpZ25hbDogRW5jb2RhYmxlRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVWb3hlbEdyaWRQYXJhbXMgPSBleGlzdGluZ1NpZ25hbCBhcyBVcGRhdGVWb3hlbEdyaWRQYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZveGVsR3JpZFBhcmFtcy50YXNrcy5wdXNoKHNpZ25hbCBhcyBVcGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdHguYWRkUGVuZGluZ1NpZ25hbChcInVwZGF0ZVZveGVsR3JpZFBhcmFtc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFVwZGF0ZVZveGVsR3JpZFBhcmFtcyhbc2lnbmFsIGFzIFVwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXNdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFJvb20oc29ja2V0VXNlckNvbnRleHQ6IFNvY2tldFVzZXJDb250ZXh0KTogUm9vbSB8IHVuZGVmaW5lZFxue1xuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXRVc2VyQ29udGV4dC5zb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICBjb25zdCByb29tSUQgPSBSb29tTWFuYWdlci5jdXJyZW50Um9vbUlEQnlVc2VyTmFtZVt1c2VyLnVzZXJOYW1lXTtcbiAgICBpZiAocm9vbUlEID09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGdldFJvb20gOjogUm9vbUlEIG5vdCBmb3VuZCAodXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9KWApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCByb29tUnVudGltZU1lbW9yeSA9IFJvb21NYW5hZ2VyLnJvb21SdW50aW1lTWVtb3JpZXNbcm9vbUlEXTtcbiAgICBpZiAocm9vbVJ1bnRpbWVNZW1vcnkgPT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgZ2V0Um9vbSA6OiBSb29tUnVudGltZU1lbW9yeSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiByb29tUnVudGltZU1lbW9yeS5yb29tO1xufSIsImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgVXNlckF1dGhQYXNzd29yZFV0aWwgZnJvbSBcIi4uLy4uL3VzZXIvdXRpbC91c2VyQXV0aFBhc3N3b3JkVXRpbFwiO1xuaW1wb3J0IFVzZXJBdXRoR29vZ2xlVXRpbCBmcm9tIFwiLi4vLi4vdXNlci91dGlsL3VzZXJBdXRoR29vZ2xlVXRpbFwiO1xuaW1wb3J0IFVzZXJUb2tlblV0aWwgZnJvbSBcIi4uLy4uL3VzZXIvdXRpbC91c2VyVG9rZW5VdGlsXCI7XG5pbXBvcnQgQWRkcmVzc1V0aWwgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdXRpbC9hZGRyZXNzVXRpbFwiO1xuXG5jb25zdCBVc2VyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuLy8gcmVxLmJvZHkgPSB7dXNlck5hbWUsIHBhc3N3b3JkfVxuVXNlclJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX3Bhc3N3b3JkXCIsIGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBhd2FpdCBVc2VyQXV0aFBhc3N3b3JkVXRpbC5yZWdpc3RlcihyZXEsIHJlcyk7XG4gICAgaWYgKHJlcy5zdGF0dXNDb2RlID49IDIwMCAmJiByZXMuc3RhdHVzQ29kZSA8PSAyOTkpXG4gICAgICAgIHJlcy5lbmQoKTtcbn0pO1xuXG4vLyByZXEuYm9keSA9IHt1c2VyTmFtZSwgcGFzc3dvcmR9XG5Vc2VyUm91dGVyLnBvc3QoXCIvbG9naW5fcGFzc3dvcmRcIiwgYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IFVzZXJBdXRoUGFzc3dvcmRVdGlsLmxvZ2luKHJlcSwgcmVzKTtcbiAgICBpZiAocmVzLnN0YXR1c0NvZGUgPj0gMjAwICYmIHJlcy5zdGF0dXNDb2RlIDw9IDI5OSlcbiAgICAgICAgcmVzLmVuZCgpO1xufSk7XG5cblVzZXJSb3V0ZXIuZ2V0KFwiL2xvZ2luX2dvb2dsZVwiLCBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgYXdhaXQgVXNlckF1dGhHb29nbGVVdGlsLmxvZ2luKHJlcSwgcmVzKTtcbiAgICBpZiAocmVzLnN0YXR1c0NvZGUgPj0gMjAwICYmIHJlcy5zdGF0dXNDb2RlIDw9IDI5OSlcbiAgICAgICAgcmVzLmVuZCgpO1xufSk7XG5cblVzZXJSb3V0ZXIuZ2V0KFwiL2xvZ2luX2dvb2dsZV9jYWxsYmFja1wiLCBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgYXdhaXQgVXNlckF1dGhHb29nbGVVdGlsLmxvZ2luQ2FsbGJhY2socmVxLCByZXMpO1xuICAgIGlmIChyZXMuc3RhdHVzQ29kZSA+PSAyMDAgJiYgcmVzLnN0YXR1c0NvZGUgPD0gMjk5KVxuICAgICAgICByZXMucmVkaXJlY3QoQWRkcmVzc1V0aWwuZ2V0TXlQYWdlVVJMKCkpO1xufSk7XG5cblVzZXJSb3V0ZXIuZ2V0KFwiL2xvZ291dFwiLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogdm9pZCA9PiB7XG4gICAgVXNlclRva2VuVXRpbC5jbGVhclRva2VuRnJvbVVzZXIocmVxLCByZXMpO1xuICAgIGlmIChyZXMuc3RhdHVzQ29kZSA+PSAyMDAgJiYgcmVzLnN0YXR1c0NvZGUgPD0gMjk5KVxuICAgICAgICByZXMuZW5kKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgVXNlclJvdXRlcjsiLCJpbXBvcnQgeyBFeHByZXNzLCBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgUGFnZVJvdXRlciBmcm9tIFwiLi91aS9wYWdlUm91dGVyXCI7XG5pbXBvcnQgVXNlclJvdXRlciBmcm9tIFwiLi9hcGkvdXNlclJvdXRlclwiO1xuaW1wb3J0IEZpbGVVdGlsIGZyb20gXCIuLi9zc2cvdXRpbC9maWxlVXRpbFwiO1xuaW1wb3J0IEVKU1V0aWwgZnJvbSBcIi4uL3NzZy91dGlsL2Vqc1V0aWxcIjtcbmltcG9ydCB7IFVTRVJfQVBJX1JPVVRFX1BBVEggfSBmcm9tIFwiLi4vLi4vc2hhcmVkL3N5c3RlbS9jb25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm91dGVyKGFwcDogRXhwcmVzcyk6IHZvaWRcbntcbiAgICAvLyBJZiB5b3UgYXJlIGluIGRldiBtb2RlLCBhbHNvIGVtdWxhdGUgdGhlIGJlaGF2aW9yIG9mIHRoZSBzdGF0aWMgd2ViIHNlcnZlci5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiKVxuICAgIHtcbiAgICAgICAgYXBwLmdldChcIi9cIiwgYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGljQ29udGVudCA9IGF3YWl0IEZpbGVVdGlsLnJlYWQocmVxLnVybCArIFwiaW5kZXguaHRtbFwiKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZXRIZWFkZXIoXCJjb250ZW50LXR5cGVcIiwgXCJ0ZXh0L2h0bWxcIilcbiAgICAgICAgICAgICAgICAuc2VuZChFSlNVdGlsLnBvc3RQcm9jZXNzSFRNTChzdGF0aWNDb250ZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHAuZ2V0KC8uKlxcLmh0bWwkLywgYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGljQ29udGVudCA9IGF3YWl0IEZpbGVVdGlsLnJlYWQocmVxLnVybCk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2V0SGVhZGVyKFwiY29udGVudC10eXBlXCIsIFwidGV4dC9odG1sXCIpXG4gICAgICAgICAgICAgICAgLnNlbmQoRUpTVXRpbC5wb3N0UHJvY2Vzc0hUTUwoc3RhdGljQ29udGVudCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXBwLmdldCgvLipcXC5qcyQvLCBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2V0SGVhZGVyKFwiY29udGVudC10eXBlXCIsIFwidGV4dC9qYXZhc2NyaXB0XCIpXG4gICAgICAgICAgICAgICAgLnNlbmRGaWxlKEZpbGVVdGlsLmdldEFic29sdXRlRmlsZVBhdGgocmVxLnVybCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXBwLmdldCgvKC4qXFwuY3NzKXwoLipcXC5qcGcpfCguKlxcLnBuZyl8KC4qXFwuaWNvKXwoLipcXC5hdG9tKXwoLipcXC54bWwpfCguKlxcLnBkZil8KC4qXFwuZ2xiKSQvLCBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgICAgICByZXMuc2VuZEZpbGUoRmlsZVV0aWwuZ2V0QWJzb2x1dGVGaWxlUGF0aChyZXEudXJsKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBhcHAudXNlKGAvJHtVU0VSX0FQSV9ST1VURV9QQVRIfWAsIFVzZXJSb3V0ZXIpO1xuICAgIGFwcC51c2UoXCIvXCIsIFBhZ2VSb3V0ZXIpO1xufSIsImltcG9ydCBFSlNVdGlsIGZyb20gXCIuLi8uLi9zc2cvdXRpbC9lanNVdGlsXCI7XG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgeyBBcmNhZGVEYXRhIH0gZnJvbSBcIi4uLy4uL3NzZy9kYXRhL2FyY2FkZURhdGFcIjtcbmltcG9ydCBVc2VySWRlbnRpZmljYXRpb25VdGlsIGZyb20gXCIuLi8uLi91c2VyL3V0aWwvdXNlcklkZW50aWZpY2F0aW9uVXRpbFwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBQYWdlUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuUGFnZVJvdXRlci5nZXQoXCIvbXlwYWdlXCIsIFVzZXJJZGVudGlmaWNhdGlvblV0aWwuaWRlbnRpZnlBbnlVc2VyLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogdm9pZCA9PiB7XG4gICAgRUpTVXRpbC5yZW5kZXIocmVxLCByZXMsIFwicGFnZS9keW5hbWljL215cGFnZVwiLCB7XG4gICAgICAgIGxvZ2luRGVzdGluYXRpb246IGAke3Byb2Nlc3MuZW52LlVSTF9EWU5BTUlDfS9teXBhZ2VgLFxuICAgIH0pO1xufSk7XG5cbmlmIChwcm9jZXNzLmVudi5NT0RFID09IFwiZGV2XCIpXG57XG4gICAgUGFnZVJvdXRlci5nZXQoXCIvYWRtaW5cIiwgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IHZvaWQgPT4ge1xuICAgICAgICBFSlNVdGlsLnJlbmRlcihyZXEsIHJlcywgXCJwYWdlL2RldmVsb3BtZW50L2FkbWluXCIsIHt9KTtcbiAgICB9KTtcblxuICAgIFBhZ2VSb3V0ZXIuZ2V0KFwiL2NvbnNvbGVcIiwgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IHZvaWQgPT4ge1xuICAgICAgICBFSlNVdGlsLnJlbmRlcihyZXEsIHJlcywgXCJwYWdlL2RldmVsb3BtZW50L2NvbnNvbGVcIiwge30pO1xuICAgIH0pO1xuXG4gICAgUGFnZVJvdXRlci5nZXQoXCIvdGVzdC11aVwiLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogdm9pZCA9PiB7XG4gICAgICAgIEVKU1V0aWwucmVuZGVyKHJlcSwgcmVzLCBcInBhZ2UvZGV2ZWxvcG1lbnQvdGVzdF91aVwiLCB7XG4gICAgICAgICAgICBnYW1lRW50cmllczogQXJjYWRlRGF0YS5nYW1lRW50cmllc1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIFBhZ2VSb3V0ZXIuZ2V0KFwiL3RhaWx3aW5kX3Rlc3RcIiwgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IHZvaWQgPT4ge1xuICAgICAgICBFSlNVdGlsLnJlbmRlcihyZXEsIHJlcywgXCJwYWdlL2RldmVsb3BtZW50L3RhaWx3aW5kX3Rlc3RcIiwge1xuICAgICAgICAgICAgbG9naW5EZXN0aW5hdGlvbjogYCR7cHJvY2Vzcy5lbnYuVVJMX0RZTkFNSUN9L3RhaWx3aW5kX3Rlc3RgLFxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmVsc2VcbntcbiAgICBQYWdlUm91dGVyLmdldChcIi9hZG1pblwiLCBVc2VySWRlbnRpZmljYXRpb25VdGlsLmlkZW50aWZ5QWRtaW4sIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiB2b2lkID0+IHtcbiAgICAgICAgRUpTVXRpbC5yZW5kZXIocmVxLCByZXMsIFwicGFnZS9kZXZlbG9wbWVudC9hZG1pblwiLCB7fSk7XG4gICAgfSk7XG5cbiAgICBQYWdlUm91dGVyLmdldChcIi9jb25zb2xlXCIsIFVzZXJJZGVudGlmaWNhdGlvblV0aWwuaWRlbnRpZnlBZG1pbiwgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IHZvaWQgPT4ge1xuICAgICAgICBFSlNVdGlsLnJlbmRlcihyZXEsIHJlcywgXCJwYWdlL2RldmVsb3BtZW50L2NvbnNvbGVcIiwge30pO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQYWdlUm91dGVyOyIsImltcG9ydCBzb2NrZXRJTyBmcm9tIFwic29ja2V0LmlvXCI7XG5pbXBvcnQgeyBTb2NrZXRNaWRkbGV3YXJlIH0gZnJvbSBcIi4vdHlwZXMvc29ja2V0TWlkZGxld2FyZVwiO1xuaW1wb3J0IFNlcnZlckxvZ1V0aWwgZnJvbSBcIi4uL25ldHdvcmtpbmcvdXRpbC9zZXJ2ZXJMb2dVdGlsXCI7XG5cbmxldCBuc3A6IHNvY2tldElPLk5hbWVzcGFjZTtcblxuY29uc3QgY29sMSA9IGA8dGQgc3R5bGU9XCJjb2xvcjogI2UwZTAyMDsgYmFja2dyb3VuZC1jb2xvcjogIzIwMjA5MDtcIj5gO1xuY29uc3QgY29sMiA9IGA8dGQgc3R5bGU9XCJjb2xvcjogIzIwZTAyMDsgYmFja2dyb3VuZC1jb2xvcjogIzEwMTAxMDtcIj5gO1xuY29uc3QgY29sMyA9IGA8dGQgc3R5bGU9XCJjb2xvcjogIzMwMzAzMDsgYmFja2dyb3VuZC1jb2xvcjogI2MwYzBjMDtcIj5gO1xuY29uc3QgZW5kID0gYDwvdGQ+YDtcbmNvbnN0IHJvdyA9ICh0eHQxOiBzdHJpbmcsIHR4dDI6IHN0cmluZywgdHh0Mzogc3RyaW5nKSA9PlxuICAgIGAke2NvbDF9JHt0eHQxfSR7ZW5kfSR7Y29sMn0ke3R4dDJ9JHtlbmR9JHtjb2wzfSR7dHh0M30ke2VuZH1gO1xuXG5jb25zdCBDb25zb2xlU29ja2V0cyA9XG57XG4gICAgaW5pdDogKGlvOiBzb2NrZXRJTy5TZXJ2ZXIsIGF1dGhNaWRkbGV3YXJlOiBTb2NrZXRNaWRkbGV3YXJlKTogdm9pZCA9PlxuICAgIHtcbiAgICAgICAgbnNwID0gaW8ub2YoXCIvY29uc29sZV9zb2NrZXRzXCIpO1xuICAgICAgICBuc3AudXNlKGF1dGhNaWRkbGV3YXJlKTtcbiAgICBcbiAgICAgICAgbnNwLm9uKFwiY29ubmVjdGlvblwiLCAoc29ja2V0OiBzb2NrZXRJTy5Tb2NrZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAoQ29uc29sZVNvY2tldHMpIENsaWVudCBjb25uZWN0ZWQgOjogJHtKU09OLnN0cmluZ2lmeShzb2NrZXQuaGFuZHNoYWtlLmF1dGgpfWApO1xuXG4gICAgICAgICAgICBzb2NrZXQub24oXCJjb21tYW5kXCIsIChjb21tYW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYChDb25zb2xlU29ja2V0cykgQ29tbWFuZCByZWNlaXZlZCA6OiBbJHtjb21tYW5kfV0gLSBzZW50IGJ5IDo6ICR7SlNPTi5zdHJpbmdpZnkoc29ja2V0LmhhbmRzaGFrZS5hdXRoLnVzZXIpfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gY29tbWFuZC5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh3b3Jkc1swXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcmludFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nUmF3KCh3b3Jkcy5sZW5ndGggPT0gMCkgPyBcIi1cIiA6IHdvcmRzLmpvaW4oXCIgXCIpLCBcImhpZ2hcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlYm9vdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2dSYXcoXCJSZWJvb3RpbmcuLi5cIiwgXCJoaWdoXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZ1JhdyhgVW5rbm93biBjb21tYW5kIFwiJHt3b3Jkc1swXX1cIi5gLCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAoQ29uc29sZVNvY2tldHMpIENsaWVudCBkaXNjb25uZWN0ZWQgOjogJHtKU09OLnN0cmluZ2lmeShzb2NrZXQuaGFuZHNoYWtlLmF1dGgpfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgbG9nOiAobWVzc2FnZTogc3RyaW5nLCBvcmlnaW46IHN0cmluZywgZGV0YWlsczogc3RyaW5nKTogdm9pZCA9PlxuICAgIHtcbiAgICAgICAgaWYgKG5zcClcbiAgICAgICAgICAgIG5zcC5lbWl0KFwibG9nXCIsIHJvdyhtZXNzYWdlLCBvcmlnaW4sIGRldGFpbHMpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7bWVzc2FnZX0gKE9SSUdJTjogJHtvcmlnaW59KSAoREVUQUlMUzogJHtkZXRhaWxzfSlgKTtcbiAgICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uc29sZVNvY2tldHM7IiwiaW1wb3J0IHNvY2tldElPIGZyb20gXCJzb2NrZXQuaW9cIjtcbmltcG9ydCB7IFNvY2tldE1pZGRsZXdhcmUgfSBmcm9tIFwiLi90eXBlcy9zb2NrZXRNaWRkbGV3YXJlXCI7XG5pbXBvcnQgT2JqZWN0TWVzc2FnZVBhcmFtcyBmcm9tIFwiLi4vLi4vc2hhcmVkL29iamVjdC90eXBlcy9vYmplY3RNZXNzYWdlUGFyYW1zXCJcbmltcG9ydCBPYmplY3RTeW5jUGFyYW1zIGZyb20gXCIuLi8uLi9zaGFyZWQvb2JqZWN0L3R5cGVzL29iamVjdFN5bmNQYXJhbXNcIjtcbmltcG9ydCBSb29tQ2hhbmdlUmVxdWVzdFBhcmFtcyBmcm9tIFwiLi4vLi4vc2hhcmVkL3Jvb20vdHlwZXMvcm9vbUNoYW5nZVJlcXVlc3RQYXJhbXNcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi9zaGFyZWQvdXNlci90eXBlcy91c2VyXCI7XG5pbXBvcnQgUm9vbU1hbmFnZXIgZnJvbSBcIi4uL3Jvb20vcm9vbU1hbmFnZXJcIjtcbmltcG9ydCBTb2NrZXRVc2VyQ29udGV4dCBmcm9tIFwiLi90eXBlcy9zb2NrZXRVc2VyQ29udGV4dFwiO1xuaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi9zaGFyZWQvbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IFVwZGF0ZVZveGVsR3JpZFBhcmFtcyBmcm9tIFwiLi4vLi4vc2hhcmVkL3ZveGVsL3R5cGVzL3VwZGF0ZS91cGRhdGVWb3hlbEdyaWRQYXJhbXNcIjtcbmltcG9ydCB7IFNJR05BTF9CQVRDSF9TRU5EX0lOVEVSVkFMIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9zeXN0ZW0vY29uc3RhbnRzXCI7XG5pbXBvcnQgU2VhcmNoREIgZnJvbSBcIi4uL2RiL3NlYXJjaERCXCI7XG5pbXBvcnQgeyBSb29tVHlwZUVudW1NYXAgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL3Jvb20vdHlwZXMvcm9vbVR5cGVcIjtcblxubGV0IG5zcDogc29ja2V0SU8uTmFtZXNwYWNlO1xubGV0IHNpZ25hbFByb2Nlc3NpbmdJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQ7XG5jb25zdCBzb2NrZXRVc2VyQ29udGV4dHM6IHtbdXNlck5hbWU6IHN0cmluZ106IFNvY2tldFVzZXJDb250ZXh0fSA9IHt9O1xuXG5jb25zdCBHYW1lU29ja2V0cyA9XG57XG4gICAgaW5pdDogKGlvOiBzb2NrZXRJTy5TZXJ2ZXIsIGF1dGhNaWRkbGV3YXJlOiBTb2NrZXRNaWRkbGV3YXJlKTogdm9pZCA9PlxuICAgIHtcbiAgICAgICAgbnNwID0gaW8ub2YoXCIvZ2FtZV9zb2NrZXRzXCIpO1xuICAgICAgICBuc3AudXNlKGF1dGhNaWRkbGV3YXJlKTtcblxuICAgICAgICBuc3Aub24oXCJjb25uZWN0aW9uXCIsIGFzeW5jIChzb2NrZXQ6IHNvY2tldElPLlNvY2tldCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0VXNlckNvbnRleHQgPSBuZXcgU29ja2V0VXNlckNvbnRleHQoc29ja2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBzb2NrZXQuaGFuZHNoYWtlLmF1dGggYXMgVXNlcjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAoR2FtZVNvY2tldHMpIENsaWVudCBjb25uZWN0ZWQgOjogJHtKU09OLnN0cmluZ2lmeSh1c2VyKX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNvY2tldFVzZXJDb250ZXh0c1t1c2VyLnVzZXJOYW1lXSAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU29ja2V0VXNlckNvbnRleHQgd2l0aCB1c2VyTmFtZSBhbHJlYWR5IGV4aXN0cyAodXNlck5hbWUgPSAke3VzZXIudXNlck5hbWV9KWApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvY2tldFVzZXJDb250ZXh0c1t1c2VyLnVzZXJOYW1lXSA9IHNvY2tldFVzZXJDb250ZXh0O1xuXG4gICAgICAgICAgICBzb2NrZXQub24oXCJvYmplY3RTeW5jXCIsIChidWZmZXI6IEFycmF5QnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyU3RhdGUgPSBuZXcgQnVmZmVyU3RhdGUobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gT2JqZWN0U3luY1BhcmFtcy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIE9iamVjdFN5bmNQYXJhbXM7XG4gICAgICAgICAgICAgICAgUm9vbU1hbmFnZXIudXBkYXRlT2JqZWN0VHJhbnNmb3JtKHNvY2tldFVzZXJDb250ZXh0LCBwYXJhbXMub2JqZWN0SWQsIHBhcmFtcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzb2NrZXQub24oXCJvYmplY3RNZXNzYWdlXCIsIChidWZmZXI6IEFycmF5QnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyU3RhdGUgPSBuZXcgQnVmZmVyU3RhdGUobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gT2JqZWN0TWVzc2FnZVBhcmFtcy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIE9iamVjdE1lc3NhZ2VQYXJhbXM7XG4gICAgICAgICAgICAgICAgUm9vbU1hbmFnZXIuc2VuZE9iamVjdE1lc3NhZ2Uoc29ja2V0VXNlckNvbnRleHQsIHBhcmFtcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNvY2tldC5vbihcInVwZGF0ZVZveGVsR3JpZFwiLCAoYnVmZmVyOiBBcnJheUJ1ZmZlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlclN0YXRlID0gbmV3IEJ1ZmZlclN0YXRlKG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IFVwZGF0ZVZveGVsR3JpZFBhcmFtcy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIFVwZGF0ZVZveGVsR3JpZFBhcmFtcztcbiAgICAgICAgICAgICAgICBSb29tTWFuYWdlci51cGRhdGVWb3hlbEdyaWQoc29ja2V0VXNlckNvbnRleHQsIHBhcmFtcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNvY2tldC5vbihcInJvb21DaGFuZ2VSZXF1ZXN0XCIsIGFzeW5jIChidWZmZXI6IEFycmF5QnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyU3RhdGUgPSBuZXcgQnVmZmVyU3RhdGUobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gUm9vbUNoYW5nZVJlcXVlc3RQYXJhbXMuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBSb29tQ2hhbmdlUmVxdWVzdFBhcmFtcztcbiAgICAgICAgICAgICAgICBhd2FpdCBSb29tTWFuYWdlci5jaGFuZ2VVc2VyUm9vbShzb2NrZXRVc2VyQ29udGV4dCwgcGFyYW1zLnJvb21JRCwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYChHYW1lU29ja2V0cykgQ2xpZW50IGRpc2Nvbm5lY3RlZCA6OiAke0pTT04uc3RyaW5naWZ5KHVzZXIpfWApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldFVzZXJDb250ZXh0c1t1c2VyLnVzZXJOYW1lXSA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTb2NrZXRVc2VyQ29udGV4dCB3aXRoIHVzZXJOYW1lIGRvZXNuJ3QgZXhpc3QgKHVzZXJOYW1lID0gJHt1c2VyLnVzZXJOYW1lfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgc29ja2V0VXNlckNvbnRleHRzW3VzZXIudXNlck5hbWVdO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgUm9vbU1hbmFnZXIuY2hhbmdlVXNlclJvb20oc29ja2V0VXNlckNvbnRleHQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEEgcmVjZW50bHkgY29ubmVjdGVkIGNsaWVudCBzaG91bGQgYXV0b21hdGljYWxseSBqb2luIHRoZSBodWIuXG4gICAgICAgICAgICBjb25zdCByb29tU2VhcmNoUmVzdWx0ID0gYXdhaXQgU2VhcmNoREIucm9vbXMud2l0aFJvb21UeXBlKFJvb21UeXBlRW51bU1hcC5IdWIpO1xuICAgICAgICAgICAgaWYgKHJvb21TZWFyY2hSZXN1bHQuc3VjY2VzcyAmJiByb29tU2VhcmNoUmVzdWx0LmRhdGEubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb29tSUQgPSByb29tU2VhcmNoUmVzdWx0LmRhdGFbMF0ucm9vbUlEO1xuICAgICAgICAgICAgICAgIGF3YWl0IFJvb21NYW5hZ2VyLmNoYW5nZVVzZXJSb29tKHNvY2tldFVzZXJDb250ZXh0LCByb29tSUQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2lnbmFsUHJvY2Vzc2luZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzb2NrZXRVc2VyQ29udGV4dCBvZiBPYmplY3QudmFsdWVzKHNvY2tldFVzZXJDb250ZXh0cykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc29ja2V0VXNlckNvbnRleHQucHJvY2Vzc0FsbFBlbmRpbmdTaWduYWxzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFNJR05BTF9CQVRDSF9TRU5EX0lOVEVSVkFMKTtcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBHYW1lU29ja2V0czsiLCJpbXBvcnQgaHR0cCBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IHNvY2tldElPIGZyb20gXCJzb2NrZXQuaW9cIjtcbmltcG9ydCBDb25zb2xlU29ja2V0cyBmcm9tIFwiLi9jb25zb2xlU29ja2V0c1wiO1xuaW1wb3J0IEdhbWVTb2NrZXRzIGZyb20gXCIuL2dhbWVTb2NrZXRzXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCB7IFNvY2tldE1pZGRsZXdhcmUgfSBmcm9tIFwiLi90eXBlcy9zb2NrZXRNaWRkbGV3YXJlXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vLi4vc2hhcmVkL3VzZXIvdHlwZXMvdXNlclwiO1xuaW1wb3J0IEFkZHJlc3NVdGlsIGZyb20gXCIuLi9uZXR3b3JraW5nL3V0aWwvYWRkcmVzc1V0aWxcIjtcbmltcG9ydCAqIGFzIGNvb2tpZSBmcm9tIFwiY29va2llXCI7XG5pbXBvcnQgeyBVc2VyVHlwZUVudW1NYXAgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL3VzZXIvdHlwZXMvdXNlclR5cGVcIjtcbmltcG9ydCBVc2VyVG9rZW5VdGlsIGZyb20gXCIuLi91c2VyL3V0aWwvdXNlclRva2VuVXRpbFwiO1xuaW1wb3J0IENvb2tpZVV0aWwgZnJvbSBcIi4uL25ldHdvcmtpbmcvdXRpbC9jb29raWVVdGlsXCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IGNvbm5lY3RlZFVzZXJOYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTb2NrZXRzKHNlcnZlcjogaHR0cC5TZXJ2ZXIpXG57XG4gICAgY29uc3QgaW8gPSBuZXcgc29ja2V0SU8uU2VydmVyKHNlcnZlcik7XG5cbiAgICBDb25zb2xlU29ja2V0cy5pbml0KGlvLFxuICAgICAgICAocHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiKVxuICAgICAgICAgICAgPyAoXywgbmV4dCkgPT4gbmV4dCgpIC8vIERvbid0IGF1dGhlbnRpY2F0ZSBpbiBkZXYgbW9kZVxuICAgICAgICAgICAgOiBtYWtlQXV0aE1pZGRsZXdhcmUoKHVzZXI6IFVzZXIpID0+IHVzZXIudXNlclR5cGUgPT0gVXNlclR5cGVFbnVtTWFwLkFkbWluKVxuICAgICk7XG4gICAgXG4gICAgR2FtZVNvY2tldHMuaW5pdChpbyxcbiAgICAgICAgbWFrZUF1dGhNaWRkbGV3YXJlKCh1c2VyOiBVc2VyKSA9PiB0cnVlKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIG1ha2VBdXRoTWlkZGxld2FyZShwYXNzQ29uZGl0aW9uOiAodXNlcjogVXNlcikgPT4gQm9vbGVhbik6IFNvY2tldE1pZGRsZXdhcmVcbntcbiAgICByZXR1cm4gKHNvY2tldDogc29ja2V0SU8uU29ja2V0LCBuZXh0OiAoZXJyPzogc29ja2V0SU8uRXh0ZW5kZWRFcnJvcikgPT4gdm9pZCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGNvb2tpZVN0ciA9IHNvY2tldC5yZXF1ZXN0LmhlYWRlcnMuY29va2llO1xuICAgICAgICBjb25zb2xlLmxvZyhgQXV0aGVudGljYXRpbmcgc29ja2V0IChJRDogJHtzb2NrZXQuaWR9KWApO1xuICAgICAgICBpZiAoIWNvb2tpZVN0cilcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChuZXcgRXJyb3IoQWRkcmVzc1V0aWwuZ2V0RXJyb3JQYWdlVVJMKFwiYXV0aC1mYWlsdXJlXCIpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29va2llTWFwID0gY29va2llLnBhcnNlKGNvb2tpZVN0cik7XG4gICAgICAgIGNvbnN0IHRva2VuID0gY29va2llTWFwW0Nvb2tpZVV0aWwuZ2V0QXV0aFRva2VuTmFtZSgpXTtcbiAgICAgICAgaWYgKCF0b2tlbilcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChuZXcgRXJyb3IoQWRkcmVzc1V0aWwuZ2V0RXJyb3JQYWdlVVJMKFwiYXV0aC1mYWlsdXJlXCIpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlciA9IFVzZXJUb2tlblV0aWwuZ2V0VXNlckZyb21Ub2tlbih0b2tlbik7XG4gICAgICAgIGlmICghdXNlcilcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChuZXcgRXJyb3IoQWRkcmVzc1V0aWwuZ2V0RXJyb3JQYWdlVVJMKFwiYXV0aC1mYWlsdXJlXCIpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29ubmVjdGVkVXNlck5hbWVzLmhhcyh1c2VyLnVzZXJOYW1lKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChuZXcgRXJyb3IoQWRkcmVzc1V0aWwuZ2V0RXJyb3JQYWdlVVJMKFwiYXV0aC1kdXBsaWNhdGlvblwiKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXNzQ29uZGl0aW9uKHVzZXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KG5ldyBFcnJvcihBZGRyZXNzVXRpbC5nZXRFcnJvclBhZ2VVUkwoXCJhdXRoLW5vLXBlcm1pc3Npb25cIikpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbm5lY3RlZFVzZXJOYW1lcy5hZGQodXNlci51c2VyTmFtZSk7XG5cbiAgICAgICAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbm5lY3RlZFVzZXJOYW1lcy5oYXModXNlci51c2VyTmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVXNlciBcIiR7dXNlci51c2VyTmFtZX1cIiBpcyBhbHJlYWR5IGRpc2Nvbm5lY3RlZC5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0ZWRVc2VyTmFtZXMuZGVsZXRlKHVzZXIudXNlck5hbWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzb2NrZXQuaGFuZHNoYWtlLmF1dGggPSB1c2VyO1xuICAgICAgICBuZXh0KCk7XG4gICAgfVxufSIsImltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgU29ja2V0VXNlckNvbnRleHQgZnJvbSBcIi4vc29ja2V0VXNlckNvbnRleHRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU29ja2V0Um9vbUNvbnRleHRcbntcbiAgICBwcml2YXRlIHNvY2tldFVzZXJDb250ZXh0czoge1t1c2VyTmFtZTogc3RyaW5nXTogU29ja2V0VXNlckNvbnRleHR9O1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zb2NrZXRVc2VyQ29udGV4dHMgPSB7fTtcbiAgICB9XG5cbiAgICBnZXRVc2VyQ29udGV4dHMoKToge1t1c2VyTmFtZTogc3RyaW5nXTogU29ja2V0VXNlckNvbnRleHR9XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zb2NrZXRVc2VyQ29udGV4dHM7XG4gICAgfVxuXG4gICAgbXVsdGljYXN0U2lnbmFsKHNpZ25hbFR5cGU6IHN0cmluZywgc2lnbmFsRGF0YTogRW5jb2RhYmxlRGF0YSwgdXNlck5hbWVUb0V4Y2x1ZGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgW3VzZXJOYW1lLCBzb2NrZXRVc2VyQ29udGV4dF0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zb2NrZXRVc2VyQ29udGV4dHMpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodXNlck5hbWUgIT0gdXNlck5hbWVUb0V4Y2x1ZGUpXG4gICAgICAgICAgICAgICAgc29ja2V0VXNlckNvbnRleHQuYWRkUGVuZGluZ1NpZ25hbChzaWduYWxUeXBlLCBzaWduYWxEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVuaWNhc3RTaWduYWwoc2lnbmFsVHlwZTogc3RyaW5nLCBzaWduYWxEYXRhOiBFbmNvZGFibGVEYXRhLCB0YXJnZXRVc2VyTmFtZTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc29ja2V0VXNlckNvbnRleHQgPSB0aGlzLnNvY2tldFVzZXJDb250ZXh0c1t0YXJnZXRVc2VyTmFtZV07XG4gICAgICAgIGlmIChzb2NrZXRVc2VyQ29udGV4dCA9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNvY2tldFVzZXJDb250ZXh0IG5vdCBmb3VuZCAodGFyZ2V0VXNlck5hbWUgPSAke3RhcmdldFVzZXJOYW1lfSlgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzb2NrZXRVc2VyQ29udGV4dC5hZGRQZW5kaW5nU2lnbmFsKHNpZ25hbFR5cGUsIHNpZ25hbERhdGEpO1xuICAgIH1cblxuICAgIGFkZFNvY2tldFVzZXJDb250ZXh0KHVzZXJOYW1lOiBzdHJpbmcsIHNvY2tldFVzZXJDb250ZXh0OiBTb2NrZXRVc2VyQ29udGV4dClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNvY2tldFVzZXJDb250ZXh0c1t1c2VyTmFtZV0gIT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTb2NrZXRVc2VyQ29udGV4dCBhbHJlYWR5IGV4aXN0cyAodXNlck5hbWUgPSAke3VzZXJOYW1lfSlgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvY2tldFVzZXJDb250ZXh0c1t1c2VyTmFtZV0gPSBzb2NrZXRVc2VyQ29udGV4dDtcbiAgICB9XG5cbiAgICByZW1vdmVTb2NrZXRVc2VyQ29udGV4dCh1c2VyTmFtZTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0VXNlckNvbnRleHRzW3VzZXJOYW1lXSA9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNvY2tldFVzZXJDb250ZXh0IGRvZXNuJ3QgZXhpc3QgKHVzZXJOYW1lID0gJHt1c2VyTmFtZX0pYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuc29ja2V0VXNlckNvbnRleHRzW3VzZXJOYW1lXTtcbiAgICB9XG59IiwiaW1wb3J0IHNvY2tldElPIGZyb20gXCJzb2NrZXQuaW9cIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgU2lnbmFsVHlwZUNvbmZpZ01hcCBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL25ldHdvcmtpbmcvbWFwcy9zaWduYWxUeXBlQ29uZmlnTWFwXCI7XG5pbXBvcnQgRW5jb2RhYmxlQXJyYXkgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZUFycmF5XCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlciBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlUmF3Qnl0ZU51bWJlclwiO1xuaW1wb3J0IEVuY29kaW5nVXRpbCBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL25ldHdvcmtpbmcvdXRpbC9lbmNvZGluZ1V0aWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU29ja2V0VXNlckNvbnRleHRcbntcbiAgICBzb2NrZXQ6IHNvY2tldElPLlNvY2tldDtcblxuICAgIHByaXZhdGUgcGVuZGluZ1NpZ25hbHNCeVR5cGVJbmRleDogQXJyYXk8RW5jb2RhYmxlRGF0YVtdPjtcblxuICAgIGNvbnN0cnVjdG9yKHNvY2tldDogc29ja2V0SU8uU29ja2V0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG4gICAgICAgIHRoaXMucGVuZGluZ1NpZ25hbHNCeVR5cGVJbmRleCA9IG5ldyBBcnJheTxFbmNvZGFibGVEYXRhW10+KFNpZ25hbFR5cGVDb25maWdNYXAuZ2V0TWF4SW5kZXgoKSArIDEpO1xuICAgIH1cblxuICAgIGFkZFBlbmRpbmdTaWduYWwoc2lnbmFsVHlwZTogc3RyaW5nLCBzaWduYWxEYXRhOiBFbmNvZGFibGVEYXRhKVxuICAgIHtcbiAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gU2lnbmFsVHlwZUNvbmZpZ01hcC5nZXRJbmRleEJ5VHlwZShzaWduYWxUeXBlKTtcbiAgICAgICAgaWYgKHR5cGVJbmRleCA9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBhZGQgdGhlIGluY29taW5nIHNpZ25hbC4gVGhlIHNpZ25hbCdzIHR5cGUgaXMgdW5rbm93biAoc2lnbmFsVHlwZSA9ICR7c2lnbmFsVHlwZX0pYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGVuZGluZ1NpZ25hbHMgPSB0aGlzLnBlbmRpbmdTaWduYWxzQnlUeXBlSW5kZXhbdHlwZUluZGV4XTtcbiAgICAgICAgaWYgKHBlbmRpbmdTaWduYWxzID09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgcGVuZGluZ1NpZ25hbHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1NpZ25hbHNCeVR5cGVJbmRleFt0eXBlSW5kZXhdID0gcGVuZGluZ1NpZ25hbHM7XG4gICAgICAgIH1cbiAgICAgICAgcGVuZGluZ1NpZ25hbHMucHVzaChzaWduYWxEYXRhKTtcbiAgICB9XG5cbiAgICB0cnlVcGRhdGVMYXRlc3RQZW5kaW5nU2lnbmFsKHNpZ25hbFR5cGU6IHN0cmluZywgc2lnbmFsRGF0YVVwZGF0ZU1ldGhvZDogKHNpZ25hbDogRW5jb2RhYmxlRGF0YSkgPT4gdm9pZCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGNvbnN0IHR5cGVJbmRleCA9IFNpZ25hbFR5cGVDb25maWdNYXAuZ2V0SW5kZXhCeVR5cGUoc2lnbmFsVHlwZSk7XG4gICAgICAgIGlmICh0eXBlSW5kZXggPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gYWRkIHRoZSBpbmNvbWluZyBzaWduYWwuIFRoZSBzaWduYWwncyB0eXBlIGlzIHVua25vd24gKHNpZ25hbFR5cGUgPSAke3NpZ25hbFR5cGV9KWApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBlbmRpbmdTaWduYWxzID0gdGhpcy5wZW5kaW5nU2lnbmFsc0J5VHlwZUluZGV4W3R5cGVJbmRleF07XG4gICAgICAgIGlmIChwZW5kaW5nU2lnbmFscyA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gcGVuZGluZ1NpZ25hbHMubGVuZ3RoLTE7XG4gICAgICAgIGlmIChsYXN0SW5kZXggPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgc2lnbmFsRGF0YVVwZGF0ZU1ldGhvZChwZW5kaW5nU2lnbmFsc1tsYXN0SW5kZXhdKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJvY2Vzc0FsbFBlbmRpbmdTaWduYWxzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlclN0YXRlID0gRW5jb2RpbmdVdGlsLnN0YXJ0RW5jb2RpbmcoKTtcblxuICAgICAgICBmb3IgKGxldCB0eXBlSW5kZXggPSAwOyB0eXBlSW5kZXggPCB0aGlzLnBlbmRpbmdTaWduYWxzQnlUeXBlSW5kZXgubGVuZ3RoOyArK3R5cGVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGVuZGluZ1NpZ25hbHMgPSB0aGlzLnBlbmRpbmdTaWduYWxzQnlUeXBlSW5kZXhbdHlwZUluZGV4XTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nU2lnbmFscyAmJiBwZW5kaW5nU2lnbmFscy5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHByZXBhcmluZyB0byBzZW5kIHNpZ25hbCBvZiB0eXBlIFske1NpZ25hbFR5cGVDb25maWdNYXAuZ2V0Q29uZmlnQnlJbmRleCh0eXBlSW5kZXgpLnNpZ25hbFR5cGV9XSAtIGxlbmd0aCA9ICR7cGVuZGluZ1NpZ25hbHMubGVuZ3RofWApO1xuICAgICAgICAgICAgICAgIG5ldyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKHR5cGVJbmRleCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgICAgICAgICBuZXcgRW5jb2RhYmxlQXJyYXkocGVuZGluZ1NpZ25hbHMsIDY1NTM1KS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdTaWduYWxzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdWJCdWZmZXIgPSBFbmNvZGluZ1V0aWwuZW5kRW5jb2RpbmcoYnVmZmVyU3RhdGUpO1xuICAgICAgICBpZiAoYnVmZmVyU3RhdGUuYnl0ZUluZGV4ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgc2lnbmFsQmF0Y2ggc2VudCA6OiAke2J1ZmZlclN0YXRlLmJ5dGVJbmRleH1gKTtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoXCJzaWduYWxCYXRjaFwiLCBzdWJCdWZmZXIpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBGaWxlVXRpbCBmcm9tIFwiLi4vLi4vc3NnL3V0aWwvZmlsZVV0aWxcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9tRmVlZEJ1aWxkZXJcbntcbiAgICBwcml2YXRlIGxpbmVzID0gW2A8L2ZlZWQ+YF07XG4gICAgcHJpdmF0ZSBnbG9iYWxMYXRlc3RVcGRhdGUgPSBuZXcgRGF0ZShwcm9jZXNzLmVudi5HTE9CQUxfTEFTVF9NT0QgYXMgc3RyaW5nKTtcblxuICAgIGFkZEVudHJ5KHVybDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBsYXN0bW9kOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUobGFzdG1vZCk7XG4gICAgICAgIGlmIChkYXRlID4gdGhpcy5nbG9iYWxMYXRlc3RVcGRhdGUpXG4gICAgICAgICAgICB0aGlzLmdsb2JhbExhdGVzdFVwZGF0ZSA9IGRhdGU7XG5cbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKGA8L2VudHJ5PmApO1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYCAgPHN1bW1hcnk+JHtkZXNjcmlwdGlvbn08L3N1bW1hcnk+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgICA8dXBkYXRlZD4ke2RhdGUudG9JU09TdHJpbmcoKX08L3VwZGF0ZWQ+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgICA8aWQ+JHt1cmx9PC9pZD5gKTsgLy8gbm90IGlkZWFsIHRvIHVzZSB0aGUgdXJsIGFzIHVuaXF1ZSBuZXZlciBjaGFuZ2luZyBpZCBidXQgdGhlcmUgaXMgbm8gb3RoZXIgaWQgZm9yIGVhY2ggYXJ0aWNsZS5cbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKGAgIDxsaW5rIGhyZWY9XCIke3VybH1cIi8+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPmApO1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYDxlbnRyeT5gKTtcbiAgICB9XG5cbiAgICBhc3luYyBidWlsZCgpOiBQcm9taXNlPHZvaWQ+XG4gICAge1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYDxpZD51cm46dXVpZDowMjIxMDY3Mi01MzkxLTRjYzgtODAwYS0yYTg4ZjNhNmQwMGM8L2lkPmApOyAvLyB1dWlkIHJhbmRvbWx5IGdlbmVyYXRlZFxuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYDwvYXV0aG9yPmApO1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYCAgPG5hbWU+WW91bmdqaW4gS2FuZzwvbmFtZT5gKTtcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKGA8YXV0aG9yPmApO1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYDx1cGRhdGVkPiR7dGhpcy5nbG9iYWxMYXRlc3RVcGRhdGUudG9JU09TdHJpbmcoKX08L3VwZGF0ZWQ+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgPGxpbmsgaHJlZj1cIiR7cHJvY2Vzcy5lbnYuVVJMX1NUQVRJQ31cIi8+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgPGxpbmsgcmVsPVwic2VsZlwiIHR5cGU9XCJhcHBsaWNhdGlvbi9hdG9tK3htbFwiIGhyZWY9XCIke3Byb2Nlc3MuZW52LlVSTF9TVEFUSUN9L2ZlZWQuYXRvbVwiLz5gKTtcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKGA8dGl0bGU+VGhpbmdzUG9vbDwvdGl0bGU+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgPGZlZWQgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDA1L0F0b21cIj5gKTtcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKGA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiPz5gKTtcbiAgICAgICAgdGhpcy5saW5lcy5yZXZlcnNlKCk7XG4gICAgICAgIGF3YWl0IEZpbGVVdGlsLndyaXRlKGBmZWVkLmF0b21gLCB0aGlzLmxpbmVzLmpvaW4oXCJcXG5cIikpO1xuICAgIH1cbn0iLCJpbXBvcnQgRmlsZVV0aWwgZnJvbSBcIi4uLy4uL3NzZy91dGlsL2ZpbGVVdGlsXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW1iZWRkZWRTY3JpcHRCdWlsZGVyXG57XG4gICAgYXN5bmMgYnVpbGQoc291cmNlRGlyPzogc3RyaW5nLCB0YXJnZXREaXI/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+XG4gICAge1xuICAgICAgICBpZiAoc291cmNlRGlyID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHNvdXJjZURpciA9IGAke3Byb2Nlc3MuZW52LlNSQ19ST09UX0RJUn0vc2hhcmVkL2VtYmVkZGVkU2NyaXB0c2A7XG4gICAgICAgIGlmICh0YXJnZXREaXIgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGFyZ2V0RGlyID0gYCR7cHJvY2Vzcy5lbnYuVklFV1NfUk9PVF9ESVJ9L3BhcnRpYWwvZW1iZWRkZWRTY3JpcHRgO1xuXG4gICAgICAgIGxldCByZWxhdGl2ZUZpbGVQYXRocyA9IGF3YWl0IEZpbGVVdGlsLmdldEFsbFJlbGF0aXZlUGF0aHNJbkRpclJlY3Vyc2l2ZWx5KHNvdXJjZURpcik7XG4gICAgICAgIHJlbGF0aXZlRmlsZVBhdGhzID0gcmVsYXRpdmVGaWxlUGF0aHMuZmlsdGVyKHggPT4geC5lbmRzV2l0aChcIi5qc1wiKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCByZWxhdGl2ZUZpbGVQYXRoIG9mIHJlbGF0aXZlRmlsZVBhdGhzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDb2RlID0gKGF3YWl0IEZpbGVVdGlsLnJlYWQocmVsYXRpdmVGaWxlUGF0aCwgc291cmNlRGlyKSlcbiAgICAgICAgICAgICAgICAuc3BsaXQoXCJcXG5cIilcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmUgPT4gIWxpbmUuc3RhcnRzV2l0aChcImV4cG9ydCBcIikpIC8vIFJlbW92ZSAnZXhwb3J0JyBzdGF0ZW1lbnRzLlxuICAgICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpLnRyaW0oKTtcblxuICAgICAgICAgICAgYXdhaXQgRmlsZVV0aWwud3JpdGUocmVsYXRpdmVGaWxlUGF0aC5yZXBsYWNlKFwiLmpzXCIsIFwiLmVqc1wiKSwgYFxuPCVfIGlmICghbG9jYWxzLmdsb2JhbERpY3Rpb25hcnlbXCJzY3JpcHRfaW5jbHVkZWRfKCR7cmVsYXRpdmVGaWxlUGF0aH0pXCJdKSB7IF8lPlxuPCEtLSBOT1RFOiBUaGlzIEVKUyBwYXJ0aWFsIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5ICdlbWJlZGRlZFNjcmlwdEJ1aWxkZXIudHMnIC0tPlxuPCVfIGxvY2Fscy5nbG9iYWxEaWN0aW9uYXJ5W1wic2NyaXB0X2luY2x1ZGVkXygke3JlbGF0aXZlRmlsZVBhdGh9KVwiXSA9IHRydWU7IF8lPlxuPHNjcmlwdD5cbiR7c291cmNlQ29kZX1cbjwvc2NyaXB0PlxuPCVfIH0gXyU+XG5gLnRyaW0oKSwgdGFyZ2V0RGlyKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgRmlsZVV0aWwgZnJvbSBcIi4uLy4uL3V0aWwvZmlsZVV0aWxcIjtcbmltcG9ydCBFSlNVdGlsIGZyb20gXCIuLi8uLi91dGlsL2Vqc1V0aWxcIjtcbmltcG9ydCBUZXh0RmlsZUJ1aWxkZXIgZnJvbSBcIi4uL3RleHRGaWxlQnVpbGRlclwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgU2l0ZW1hcEJ1aWxkZXIgZnJvbSBcIi4uL3NpdGVtYXBCdWlsZGVyXCI7XG5pbXBvcnQgQXRvbUZlZWRCdWlsZGVyIGZyb20gXCIuLi9hdG9tRmVlZEJ1aWxkZXJcIjtcbmltcG9ydCBHYW1lRW50cnkgZnJvbSBcIi4uLy4uL3R5cGVzL2dhbWVFbnRyeVwiXG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyY2FkZUdhbWVQYWdlQnVpbGRlclxue1xuICAgIHByaXZhdGUgc2l0ZW1hcEJ1aWxkZXI6IFNpdGVtYXBCdWlsZGVyO1xuICAgIHByaXZhdGUgYXRvbUZlZWRCdWlsZGVyOiBBdG9tRmVlZEJ1aWxkZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihzaXRlbWFwQnVpbGRlcjogU2l0ZW1hcEJ1aWxkZXIsIGF0b21GZWVkQnVpbGRlcjogQXRvbUZlZWRCdWlsZGVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaXRlbWFwQnVpbGRlciA9IHNpdGVtYXBCdWlsZGVyO1xuICAgICAgICB0aGlzLmF0b21GZWVkQnVpbGRlciA9IGF0b21GZWVkQnVpbGRlcjtcbiAgICB9XG5cbiAgICBhc3luYyBidWlsZChlbnRyeTogR2FtZUVudHJ5KTogUHJvbWlzZTx2b2lkPlxuICAgIHtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVVUkwgPSBgJHtlbnRyeS5kaXJOYW1lfS9wYWdlLmh0bWxgO1xuICAgICAgICBjb25zdCByYXdUZXh0ID0gYXdhaXQgRmlsZVV0aWwucmVhZChgJHtlbnRyeS5kaXJOYW1lfS9zb3VyY2UudHh0YCk7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gcmF3VGV4dC5zcGxpdCgvXFxyP1xcbi8pO1xuXG4gICAgICAgIGNvbnN0IHBsYXlMaW5rSW1hZ2VQYXRoID0gKGVudHJ5LnBsYXlMaW5rSW1hZ2VQYXRoT3ZlcnJpZGUgPT0gdW5kZWZpbmVkKSA/IFwicGxheS5wbmdcIiA6IGVudHJ5LnBsYXlMaW5rSW1hZ2VQYXRoT3ZlcnJpZGU7XG5cbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgbGV0IGtleXdvcmRzID0gXCJcIjtcblxuICAgICAgICBpZiAobGluZXNbMF0uc3RhcnRzV2l0aChcIjpkOlwiKSlcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gbGluZXNbMF0uc3Vic3RyaW5nKDMpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiOmQ6IGlzIG1pc3NpbmcgaW4gLT4gXCIgKyBlbnRyeS50aXRsZSk7XG5cbiAgICAgICAgaWYgKGxpbmVzWzFdLnN0YXJ0c1dpdGgoXCI6azpcIikpXG4gICAgICAgICAgICBrZXl3b3JkcyA9IGxpbmVzWzFdLnN1YnN0cmluZygzKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2VBbGwoXCItXCIsIFwiIFwiKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIjprOiBpcyBtaXNzaW5nIGluIC0+IFwiICsgZW50cnkudGl0bGUpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRMaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBsZXQgaW1hZ2VJbmRleCA9IDE7XG4gICAgICAgIGNvbnN0IHBhcmFncmFwaExpbmVzUGVuZGluZzogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBjb25zdCBlbmRQYXJhZ3JhcGggPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyYWdyYXBoTGluZXNQZW5kaW5nLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzLnB1c2goYDxwPiR7cGFyYWdyYXBoTGluZXNQZW5kaW5nLmpvaW4oXCI8YnI+XCIpfTwvcD5gKTtcbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhMaW5lc1BlbmRpbmcubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gbGluZXNbaV07XG4gICAgICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG5cbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA9PSAwKSAvLyBlbXB0eSBsaW5lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZW5kUGFyYWdyYXBoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCJbXCIpKSAvLyBQYXJhZ3JhcGggVGl0bGVcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbmRQYXJhZ3JhcGgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhZ3JhcGhUaXRsZSA9IChsaW5lLm1hdGNoKC9cXFsoLio/KVxcXS8pIGFzIHN0cmluZ1tdKVsxXS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFncmFwaFRpdGxlLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50TGluZXMucHVzaChgPGgyPiR7cGFyYWdyYXBoVGl0bGV9PC9oMj5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCI8XCIpKSAvLyBpbWFnZSByZWZlcmVuY2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbmRQYXJhZ3JhcGgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWdOYW1lID0gKGxpbmUubWF0Y2goLzwoLio/KT4vKSBhcyBzdHJpbmdbXSlbMV07XG4gICAgICAgICAgICAgICAgaWYgKGltZ05hbWUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ1BhdGggPSBgJHtwcm9jZXNzLmVudi5VUkxfU1RBVElDfS8ke2VudHJ5LmRpck5hbWV9LyR7aW1nTmFtZX0uanBnYDtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudExpbmVzLnB1c2goYDxpbWcgY2xhc3M9XCJsX2ltYWdlXCIgc3JjPVwiJHtpbWdQYXRofVwiIGFsdD1cIlRoaW5nc1Bvb2wgLSAke2VudHJ5LnRpdGxlfSAoU2NyZWVuc2hvdCAke2ltYWdlSW5kZXgrK30pXCI+YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSAvLyBwbGFpbiB0ZXh0XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZUFsbChcIjxcIiwgXCImbHQ7XCIpLnJlcGxhY2VBbGwoXCI+XCIsIFwiJmd0O1wiKS5yZXBsYWNlQWxsKFwieyVcIiwgXCI8XCIpLnJlcGxhY2VBbGwoXCIlfVwiLCBcIj5cIik7XG4gICAgICAgICAgICAgICAgcGFyYWdyYXBoTGluZXNQZW5kaW5nLnB1c2gobGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW5kUGFyYWdyYXBoKCk7XG4gICAgICAgIGlmIChlbnRyeS52aWRlb1RhZyAhPSBudWxsICYmIGVudHJ5LnZpZGVvVGFnICE9IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29udGVudExpbmVzLnB1c2goZW50cnkudmlkZW9UYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVpbGRlciA9IG5ldyBUZXh0RmlsZUJ1aWxkZXIoKTtcblxuICAgICAgICBidWlsZGVyLmFkZExpbmUoYXdhaXQgRUpTVXRpbC5jcmVhdGVTdGF0aWNIVE1MRnJvbUVKUyhcInBhZ2Uvc3RhdGljL2FyY2FkZUdhbWUuZWpzXCIsIHtcbiAgICAgICAgICAgIGVudHJ5LCByZWxhdGl2ZVVSTCwgZGVzY3JpcHRpb24sIGtleXdvcmRzLCBwbGF5TGlua0ltYWdlUGF0aCwgY29udGVudDogY29udGVudExpbmVzLmpvaW4oXCJcXG5cIilcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMuc2l0ZW1hcEJ1aWxkZXIuYWRkRW50cnkocmVsYXRpdmVVUkwsIGVudHJ5Lmxhc3Rtb2QpO1xuICAgICAgICB0aGlzLmF0b21GZWVkQnVpbGRlci5hZGRFbnRyeShgJHtwcm9jZXNzLmVudi5VUkxfU1RBVElDfS8ke3JlbGF0aXZlVVJMfWAsIGVudHJ5LnRpdGxlLCBlbnRyeS5sYXN0bW9kLCBlbnRyeS50aXRsZSk7XG5cbiAgICAgICAgYXdhaXQgYnVpbGRlci5idWlsZChyZWxhdGl2ZVVSTCk7XG4gICAgfTtcbn0iLCJpbXBvcnQgRUpTVXRpbCBmcm9tIFwiLi4vLi4vdXRpbC9lanNVdGlsXCI7XG5pbXBvcnQgVGV4dEZpbGVCdWlsZGVyIGZyb20gXCIuLi90ZXh0RmlsZUJ1aWxkZXJcIjtcbmltcG9ydCBBcmNhZGVHYW1lUGFnZUJ1aWxkZXIgZnJvbSBcIi4vYXJjYWRlR2FtZVBhZ2VCdWlsZGVyXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCBTaXRlbWFwQnVpbGRlciBmcm9tIFwiLi4vc2l0ZW1hcEJ1aWxkZXJcIjtcbmltcG9ydCBBdG9tRmVlZEJ1aWxkZXIgZnJvbSBcIi4uL2F0b21GZWVkQnVpbGRlclwiO1xuaW1wb3J0IHsgQXJjYWRlRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhL2FyY2FkZURhdGFcIjtcbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJjYWRlUGFnZUJ1aWxkZXJcbntcbiAgICBwcml2YXRlIHNpdGVtYXBCdWlsZGVyOiBTaXRlbWFwQnVpbGRlcjtcbiAgICBwcml2YXRlIGF0b21GZWVkQnVpbGRlcjogQXRvbUZlZWRCdWlsZGVyO1xuXG4gICAgY29uc3RydWN0b3Ioc2l0ZW1hcEJ1aWxkZXI6IFNpdGVtYXBCdWlsZGVyLCBhdG9tRmVlZEJ1aWxkZXI6IEF0b21GZWVkQnVpbGRlcilcbiAgICB7XG4gICAgICAgIHRoaXMuc2l0ZW1hcEJ1aWxkZXIgPSBzaXRlbWFwQnVpbGRlcjtcbiAgICAgICAgdGhpcy5hdG9tRmVlZEJ1aWxkZXIgPSBhdG9tRmVlZEJ1aWxkZXI7XG4gICAgfVxuICAgIFxuICAgIGFzeW5jIGJ1aWxkKCk6IFByb21pc2U8dm9pZD5cbiAgICB7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSBuZXcgVGV4dEZpbGVCdWlsZGVyKCk7XG5cbiAgICAgICAgYnVpbGRlci5hZGRMaW5lKGF3YWl0IEVKU1V0aWwuY3JlYXRlU3RhdGljSFRNTEZyb21FSlMoXCJwYWdlL3N0YXRpYy9hcmNhZGUuZWpzXCIsIHtcbiAgICAgICAgICAgIGVudHJpZXM6IEFyY2FkZURhdGEuZ2FtZUVudHJpZXMsXG4gICAgICAgIH0pKTtcbiAgICAgICAgYXdhaXQgYnVpbGRlci5idWlsZChcImFyY2FkZS5odG1sXCIpO1xuXG4gICAgICAgIHRoaXMuc2l0ZW1hcEJ1aWxkZXIuYWRkRW50cnkoXCJhcmNhZGUuaHRtbFwiLCBcIjIwMjUtMDItMjhcIik7XG5cbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBBcmNhZGVEYXRhLmdhbWVFbnRyaWVzKVxuICAgICAgICAgICAgYXdhaXQgbmV3IEFyY2FkZUdhbWVQYWdlQnVpbGRlcih0aGlzLnNpdGVtYXBCdWlsZGVyLCB0aGlzLmF0b21GZWVkQnVpbGRlcikuYnVpbGQoZW50cnkpO1xuICAgIH1cbn0iLCJpbXBvcnQgRUpTVXRpbCBmcm9tIFwiLi4vLi4vdXRpbC9lanNVdGlsXCI7XG5pbXBvcnQgRmlsZVV0aWwgZnJvbSBcIi4uLy4uL3V0aWwvZmlsZVV0aWxcIjtcbmltcG9ydCBUZXh0RmlsZUJ1aWxkZXIgZnJvbSBcIi4uL3RleHRGaWxlQnVpbGRlclwiXG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXJyb3JQYWdlQnVpbGRlclxue1xuICAgIGFzeW5jIGJ1aWxkKHNvdXJjZURpcj86IHN0cmluZywgdGFyZ2V0RGlyPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPlxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZURpciA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBzb3VyY2VEaXIgPSBgJHtwcm9jZXNzLmVudi5WSUVXU19ST09UX0RJUn0vcGFnZS9zdGF0aWMvZXJyb3JgO1xuICAgICAgICBpZiAodGFyZ2V0RGlyID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRhcmdldERpciA9IGAke3Byb2Nlc3MuZW52LlNUQVRJQ19QQUdFX1JPT1RfRElSfS9lcnJvcmA7XG5cbiAgICAgICAgbGV0IHJlbGF0aXZlRmlsZVBhdGhzID0gYXdhaXQgRmlsZVV0aWwuZ2V0QWxsUmVsYXRpdmVQYXRoc0luRGlyUmVjdXJzaXZlbHkoc291cmNlRGlyKTtcbiAgICAgICAgcmVsYXRpdmVGaWxlUGF0aHMgPSByZWxhdGl2ZUZpbGVQYXRocy5maWx0ZXIoeCA9PiB4LmVuZHNXaXRoKFwiLmVqc1wiKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCByZWxhdGl2ZUZpbGVQYXRoIG9mIHJlbGF0aXZlRmlsZVBhdGhzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBidWlsZGVyID0gbmV3IFRleHRGaWxlQnVpbGRlcigpO1xuICAgICAgICAgICAgYnVpbGRlci5hZGRMaW5lKGF3YWl0IEVKU1V0aWwuY3JlYXRlU3RhdGljSFRNTEZyb21FSlMoXCIvcGFnZS9zdGF0aWMvZXJyb3IvXCIgKyByZWxhdGl2ZUZpbGVQYXRoLCB7fSkpO1xuXG4gICAgICAgICAgICBhd2FpdCBidWlsZGVyLmJ1aWxkKHJlbGF0aXZlRmlsZVBhdGgucmVwbGFjZShcIi5lanNcIiwgXCIuaHRtbFwiKSwgdGFyZ2V0RGlyKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgRUpTVXRpbCBmcm9tIFwiLi4vLi4vdXRpbC9lanNVdGlsXCI7XG5pbXBvcnQgVGV4dEZpbGVCdWlsZGVyIGZyb20gXCIuLi90ZXh0RmlsZUJ1aWxkZXJcIjtcbmltcG9ydCBMaWJyYXJ5UG9zdExpc3RQYWdlQnVpbGRlciBmcm9tIFwiLi9saWJyYXJ5UG9zdExpc3RQYWdlQnVpbGRlclwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgU2l0ZW1hcEJ1aWxkZXIgZnJvbSBcIi4uL3NpdGVtYXBCdWlsZGVyXCI7XG5pbXBvcnQgQXRvbUZlZWRCdWlsZGVyIGZyb20gXCIuLi9hdG9tRmVlZEJ1aWxkZXJcIjtcbmltcG9ydCB7IExpYnJhcnlEYXRhIH0gZnJvbSBcIi4uLy4uL2RhdGEvbGlicmFyeURhdGFcIjtcbmltcG9ydCB7IEFyY2FkZURhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YS9hcmNhZGVEYXRhXCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpYnJhcnlQYWdlQnVpbGRlclxue1xuICAgIHByaXZhdGUgc2l0ZW1hcEJ1aWxkZXI6IFNpdGVtYXBCdWlsZGVyO1xuICAgIHByaXZhdGUgYXRvbUZlZWRCdWlsZGVyOiBBdG9tRmVlZEJ1aWxkZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihzaXRlbWFwQnVpbGRlcjogU2l0ZW1hcEJ1aWxkZXIsIGF0b21GZWVkQnVpbGRlcjogQXRvbUZlZWRCdWlsZGVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaXRlbWFwQnVpbGRlciA9IHNpdGVtYXBCdWlsZGVyO1xuICAgICAgICB0aGlzLmF0b21GZWVkQnVpbGRlciA9IGF0b21GZWVkQnVpbGRlcjtcbiAgICB9XG5cbiAgICBhc3luYyBidWlsZCgpOiBQcm9taXNlPHZvaWQ+XG4gICAge1xuICAgICAgICBjb25zdCBidWlsZGVyID0gbmV3IFRleHRGaWxlQnVpbGRlcigpO1xuXG4gICAgICAgIGJ1aWxkZXIuYWRkTGluZShhd2FpdCBFSlNVdGlsLmNyZWF0ZVN0YXRpY0hUTUxGcm9tRUpTKFwicGFnZS9zdGF0aWMvbGlicmFyeS5lanNcIiwge1xuICAgICAgICAgICAgZW50cmllc0J5Q2F0ZWdvcnk6IExpYnJhcnlEYXRhLmVudHJpZXNCeUNhdGVnb3J5LFxuICAgICAgICAgICAgZ2FtZUVudHJpZXM6IEFyY2FkZURhdGEuZ2FtZUVudHJpZXMsXG4gICAgICAgIH0pKTtcbiAgICAgICAgYXdhaXQgYnVpbGRlci5idWlsZChcImxpYnJhcnkuaHRtbFwiKTtcblxuICAgICAgICB0aGlzLnNpdGVtYXBCdWlsZGVyLmFkZEVudHJ5KFwibGlicmFyeS5odG1sXCIsIFwiMjAyNS0wMi0yOFwiKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtjYXRlZ29yeSwgZW50cmllc10gb2YgT2JqZWN0LmVudHJpZXMoTGlicmFyeURhdGEuZW50cmllc0J5Q2F0ZWdvcnkpKVxuICAgICAgICAgICAgYXdhaXQgbmV3IExpYnJhcnlQb3N0TGlzdFBhZ2VCdWlsZGVyKHRoaXMuc2l0ZW1hcEJ1aWxkZXIsIHRoaXMuYXRvbUZlZWRCdWlsZGVyKS5idWlsZChjYXRlZ29yeSwgZW50cmllcyk7XG4gICAgfVxufSIsImltcG9ydCBFSlNVdGlsIGZyb20gXCIuLi8uLi91dGlsL2Vqc1V0aWxcIjtcbmltcG9ydCBUZXh0RmlsZUJ1aWxkZXIgZnJvbSBcIi4uL3RleHRGaWxlQnVpbGRlclwiO1xuaW1wb3J0IExpYnJhcnlQb3N0UGFnZUJ1aWxkZXIgZnJvbSBcIi4vbGlicmFyeVBvc3RQYWdlQnVpbGRlclwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgU2l0ZW1hcEJ1aWxkZXIgZnJvbSBcIi4uL3NpdGVtYXBCdWlsZGVyXCI7XG5pbXBvcnQgQXRvbUZlZWRCdWlsZGVyIGZyb20gXCIuLi9hdG9tRmVlZEJ1aWxkZXJcIjtcbmltcG9ydCBQb3N0RW50cnkgZnJvbSBcIi4uLy4uL3R5cGVzL3Bvc3RFbnRyeVwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWJyYXJ5UG9zdExpc3RQYWdlQnVpbGRlclxue1xuICAgIHByaXZhdGUgc2l0ZW1hcEJ1aWxkZXI6IFNpdGVtYXBCdWlsZGVyO1xuICAgIHByaXZhdGUgYXRvbUZlZWRCdWlsZGVyOiBBdG9tRmVlZEJ1aWxkZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihzaXRlbWFwQnVpbGRlcjogU2l0ZW1hcEJ1aWxkZXIsIGF0b21GZWVkQnVpbGRlcjogQXRvbUZlZWRCdWlsZGVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaXRlbWFwQnVpbGRlciA9IHNpdGVtYXBCdWlsZGVyO1xuICAgICAgICB0aGlzLmF0b21GZWVkQnVpbGRlciA9IGF0b21GZWVkQnVpbGRlcjtcbiAgICB9XG4gICAgXG4gICAgYXN5bmMgYnVpbGQoY2F0ZWdvcnk6IHN0cmluZywgZW50cmllczogUG9zdEVudHJ5W10pOiBQcm9taXNlPHZvaWQ+XG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBvc3RJbmZvTGlzdCA9IGF3YWl0IG5ldyBMaWJyYXJ5UG9zdFBhZ2VCdWlsZGVyKHRoaXMuc2l0ZW1hcEJ1aWxkZXIsIHRoaXMuYXRvbUZlZWRCdWlsZGVyKS5idWlsZChlbnRyeSk7XG4gICAgICAgICAgICBjb25zdCBsaXN0UmVsYXRpdmVVUkwgPSBgJHtlbnRyeS5kaXJOYW1lfS9saXN0Lmh0bWxgO1xuXG4gICAgICAgICAgICBjb25zdCBidWlsZGVyID0gbmV3IFRleHRGaWxlQnVpbGRlcigpO1xuXG4gICAgICAgICAgICBidWlsZGVyLmFkZExpbmUoYXdhaXQgRUpTVXRpbC5jcmVhdGVTdGF0aWNIVE1MRnJvbUVKUyhcInBhZ2Uvc3RhdGljL2xpYnJhcnlQb3N0TGlzdC5lanNcIiwge1xuICAgICAgICAgICAgICAgIGVudHJ5LCBsaXN0UmVsYXRpdmVVUkwsIHBvc3RJbmZvTGlzdFxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICBhd2FpdCBidWlsZGVyLmJ1aWxkKGAke2VudHJ5LmRpck5hbWV9L2xpc3QuaHRtbGApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnNpdGVtYXBCdWlsZGVyLmFkZEVudHJ5KGAke2VudHJ5LmRpck5hbWV9L2xpc3QuaHRtbGAsXG4gICAgICAgICAgICAgICAgcG9zdEluZm9MaXN0XG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KChpbmZvMSwgaW5mbzIpID0+IERhdGUucGFyc2UoaW5mbzIubGFzdG1vZCkgLSBEYXRlLnBhcnNlKGluZm8xLmxhc3Rtb2QpKVxuICAgICAgICAgICAgICAgICAgICAucG9wKCkhLmxhc3Rtb2RcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9O1xufSIsImltcG9ydCBGaWxlVXRpbCBmcm9tIFwiLi4vLi4vdXRpbC9maWxlVXRpbFwiO1xuaW1wb3J0IEVKU1V0aWwgZnJvbSBcIi4uLy4uL3V0aWwvZWpzVXRpbFwiO1xuaW1wb3J0IFRleHRGaWxlQnVpbGRlciBmcm9tIFwiLi4vdGV4dEZpbGVCdWlsZGVyXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCBTaXRlbWFwQnVpbGRlciBmcm9tIFwiLi4vc2l0ZW1hcEJ1aWxkZXJcIjtcbmltcG9ydCBBdG9tRmVlZEJ1aWxkZXIgZnJvbSBcIi4uL2F0b21GZWVkQnVpbGRlclwiO1xuaW1wb3J0IFBvc3RFbnRyeSBmcm9tIFwiLi4vLi4vdHlwZXMvcG9zdEVudHJ5XCJcbmltcG9ydCBQb3N0SW5mbyBmcm9tIFwiLi4vLi4vdHlwZXMvcG9zdEluZm9cIlxuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWJyYXJ5UG9zdFBhZ2VCdWlsZGVyXG57XG4gICAgcHJpdmF0ZSBzaXRlbWFwQnVpbGRlcjogU2l0ZW1hcEJ1aWxkZXI7XG4gICAgcHJpdmF0ZSBhdG9tRmVlZEJ1aWxkZXI6IEF0b21GZWVkQnVpbGRlcjtcblxuICAgIGNvbnN0cnVjdG9yKHNpdGVtYXBCdWlsZGVyOiBTaXRlbWFwQnVpbGRlciwgYXRvbUZlZWRCdWlsZGVyOiBBdG9tRmVlZEJ1aWxkZXIpXG4gICAge1xuICAgICAgICB0aGlzLnNpdGVtYXBCdWlsZGVyID0gc2l0ZW1hcEJ1aWxkZXI7XG4gICAgICAgIHRoaXMuYXRvbUZlZWRCdWlsZGVyID0gYXRvbUZlZWRCdWlsZGVyO1xuICAgIH1cblxuICAgIGFzeW5jIGJ1aWxkKGVudHJ5OiBQb3N0RW50cnkpOiBQcm9taXNlPFBvc3RJbmZvW10+XG4gICAge1xuICAgICAgICBsZXQgaXNGaXJzdEFydGljbGUgPSB0cnVlO1xuICAgICAgICBsZXQgdGl0bGUgPSBcIj8/P1wiO1xuICAgICAgICBsZXQgcGFnZU51bWJlciA9IDE7XG4gICAgICAgIGxldCBpbWFnZU51bWJlciA9IDE7XG4gICAgICAgIGxldCBjdXN0b21PR0ltYWdlUGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgc25pcHBldE9uID0gZmFsc2U7XG4gICAgICAgIGxldCBleGNlcnB0T24gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGFyYWdyYXBoTGluZXNQZW5kaW5nOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHBvc3RJbmZvTGlzdDogUG9zdEluZm9bXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgbGV0IGNvbnRlbnRMaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBsZXQgZGVzYyA9IFwiQSB3cml0aW5nIGJ5IFRoaW5nc1Bvb2wuXCI7XG4gICAgICAgIGxldCBrZXl3b3JkcyA9IFwidGhpbmdzcG9vbCwgc29mdHdhcmUsIGVuZ2luZWVyaW5nLCBwaGlsb3NvcGh5XCI7XG4gICAgICAgIGxldCBsYXN0bW9kID0gcHJvY2Vzcy5lbnYuR0xPQkFMX0xBU1RfTU9EIGFzIHN0cmluZztcblxuICAgICAgICBsZXQgcHJldl90aXRsZSA9IHRpdGxlO1xuICAgICAgICBsZXQgcHJldl9kZXNjID0gZGVzYztcbiAgICAgICAgbGV0IHByZXZfa2V5d29yZHMgPSBrZXl3b3JkcztcbiAgICAgICAgbGV0IHByZXZfbGFzdG1vZCA9IGxhc3Rtb2Q7XG5cbiAgICAgICAgY29uc3QgZW5kUGFyYWdyYXBoID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhcmFncmFwaExpbmVzUGVuZGluZy5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChzbmlwcGV0T24pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMaW5lcy5wdXNoKGA8ZGl2IGNsYXNzPVwic25pcHBldFwiPjxwcmU+PGNvZGU+JHtwYXJhZ3JhcGhMaW5lc1BlbmRpbmcuam9pbihcIlxcblwiKX08L2NvZGU+PC9wcmU+PC9kaXY+YCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXhjZXJwdE9uKVxuICAgICAgICAgICAgICAgICAgICBjb250ZW50TGluZXMucHVzaChgPHByZT48ZGl2IGNsYXNzPVwiZXhjZXJwdFwiPiR7cGFyYWdyYXBoTGluZXNQZW5kaW5nLmpvaW4oXCJcXG5cIil9PC9kaXY+PC9wcmU+YCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb250ZW50TGluZXMucHVzaChgPHA+JHtwYXJhZ3JhcGhMaW5lc1BlbmRpbmcuam9pbihcIjxicj5cIil9PC9wPmApO1xuICAgICAgICAgICAgICAgIHBhcmFncmFwaExpbmVzUGVuZGluZy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkUG9zdFBhZ2UgPSBhc3luYyAodGl0bGU6IHN0cmluZywgbGFzdG1vZDogc3RyaW5nLCBkZXNjOiBzdHJpbmcsIGtleXdvcmRzOiBzdHJpbmcsIGlzTGFzdFBhZ2U6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBvc3RSZWxhdGl2ZVVSTCA9IGAke2VudHJ5LmRpck5hbWV9L3BhZ2UtJHtwYWdlTnVtYmVyfS5odG1sYDtcblxuICAgICAgICAgICAgY29uc3QgYnVpbGRlciA9IG5ldyBUZXh0RmlsZUJ1aWxkZXIoKTtcbiAgICAgICAgICAgIGJ1aWxkZXIuYWRkTGluZShhd2FpdCBFSlNVdGlsLmNyZWF0ZVN0YXRpY0hUTUxGcm9tRUpTKFwicGFnZS9zdGF0aWMvbGlicmFyeVBvc3QuZWpzXCIsIHtcbiAgICAgICAgICAgICAgICB0aXRsZSwgZGVzYywga2V5d29yZHMsIGN1c3RvbU9HSW1hZ2VQYXRoLCBlbnRyeSwgcGFnZU51bWJlcixcbiAgICAgICAgICAgICAgICBpc0xhc3RQYWdlLCBjb250ZW50OiBjb250ZW50TGluZXMuam9pbihcIlxcblwiKSxcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgYXdhaXQgYnVpbGRlci5idWlsZChwb3N0UmVsYXRpdmVVUkwpO1xuICAgICAgICAgICAgY29udGVudExpbmVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuc2l0ZW1hcEJ1aWxkZXIuYWRkRW50cnkocG9zdFJlbGF0aXZlVVJMLCBsYXN0bW9kKTtcbiAgICAgICAgICAgIHRoaXMuYXRvbUZlZWRCdWlsZGVyLmFkZEVudHJ5KGAke3Byb2Nlc3MuZW52LlVSTF9TVEFUSUN9LyR7cG9zdFJlbGF0aXZlVVJMfWAsIHRpdGxlLCBsYXN0bW9kLCBkZXNjKTtcblxuICAgICAgICAgICAgcG9zdEluZm9MaXN0LnB1c2goeyBwYWdlTnVtYmVyLCB0aXRsZSwgbGFzdG1vZCwgZGVzYywga2V5d29yZHMsIGN1c3RvbU9HSW1hZ2VQYXRoIH0pO1xuICAgICAgICAgICAgcGFnZU51bWJlcisrO1xuICAgICAgICAgICAgaW1hZ2VOdW1iZXIgPSAxO1xuICAgICAgICAgICAgY3VzdG9tT0dJbWFnZVBhdGggPSB1bmRlZmluZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmF3VGV4dCA9IGF3YWl0IEZpbGVVdGlsLnJlYWQoYCR7ZW50cnkuZGlyTmFtZX0vc291cmNlLnR4dGApO1xuICAgICAgICBjb25zdCBsaW5lcyA9IHJhd1RleHQuc3BsaXQoL1xccj9cXG4vKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICAgICAgaWYgKCFzbmlwcGV0T24gJiYgIWV4Y2VycHRPbilcbiAgICAgICAgICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG5cbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA9PSAwKSAvLyBlbXB0eSBsaW5lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHNuaXBwZXRPbiB8fCBleGNlcnB0T24pXG4gICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaExpbmVzUGVuZGluZy5wdXNoKFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZW5kUGFyYWdyYXBoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCJbXCIpKSAvLyBoZWFkZXJcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbmRQYXJhZ3JhcGgoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRmlyc3RBcnRpY2xlKVxuICAgICAgICAgICAgICAgICAgICBwcmV2X3RpdGxlID0gdGl0bGU7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSAobGluZS5tYXRjaCgvXFxbKC4qPylcXF0vKSBhcyBzdHJpbmdbXSlbMV0udHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IChsaW5lLm1hdGNoKC9cXF0oLio/KSQvKSBhcyBzdHJpbmdbXSlbMV0udHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0ZpcnN0QXJ0aWNsZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGJ1aWxkUG9zdFBhZ2UocHJldl90aXRsZSwgcHJldl9sYXN0bW9kLCBwcmV2X2Rlc2MsIHByZXZfa2V5d29yZHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcHJldl9kZXNjID0gZGVzYztcbiAgICAgICAgICAgICAgICAgICAgcHJldl9rZXl3b3JkcyA9IGtleXdvcmRzO1xuICAgICAgICAgICAgICAgICAgICBwcmV2X2xhc3Rtb2QgPSBsYXN0bW9kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc0ZpcnN0QXJ0aWNsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzLnB1c2goYDxoMT4ke3RpdGxlfTwvaDE+YCk7XG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzLnB1c2goYDxwIGNsYXNzPVwiZGltXCI+QXV0aG9yOiBZb3VuZ2ppbiBLYW5nJm5ic3A7Jm5ic3A7Jm5ic3A7RGF0ZTogJHtkYXRlfTwvcD5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuc3RhcnRzV2l0aChcIjxcIikgJiYgIXNuaXBwZXRPbiAmJiAhZXhjZXJwdE9uKSAvLyBpbWFnZSByZWZlcmVuY2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbmRQYXJhZ3JhcGgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWdOYW1lID0gKGxpbmUubWF0Y2goLzwoLio/KT4vKSBhcyBzdHJpbmdbXSlbMV07XG4gICAgICAgICAgICAgICAgaWYgKGltZ05hbWUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ1BhdGggPSBgJHtwcm9jZXNzLmVudi5VUkxfU1RBVElDfS8ke2VudHJ5LmRpck5hbWV9LyR7aW1nTmFtZX0uanBnYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbU9HSW1hZ2VQYXRoID09IHVuZGVmaW5lZCB8fCBsaW5lLmVuZHNXaXRoKFwiKlwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbU9HSW1hZ2VQYXRoID0gaW1nUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudExpbmVzLnB1c2goYDxpbWcgY2xhc3M9XCJsX2ltYWdlXCIgc3JjPVwiJHtpbWdQYXRofVwiIGFsdD1cIiR7dGl0bGUucmVwbGFjZUFsbChcIlxcXCJcIiwgXCImcXVvdDtcIil9IChGaWd1cmUgJHtpbWFnZU51bWJlcisrfSlcIj5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCJAQFwiKSkgLy8gQ3VzdG9tIEhUTUwgdGFnXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGVudExpbmVzLnB1c2gobGluZS5zdWJzdHJpbmcoMikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKFwiIyRcIikpIC8vIHNuaXBwZXRcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbmRQYXJhZ3JhcGgoKTtcbiAgICAgICAgICAgICAgICBzbmlwcGV0T24gPSAhc25pcHBldE9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKFwiI1xcXCJcIikpIC8vIGV4Y2VycHRcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbmRQYXJhZ3JhcGgoKTtcbiAgICAgICAgICAgICAgICBleGNlcnB0T24gPSAhZXhjZXJwdE9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKFwiOmQ6XCIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghaXNGaXJzdEFydGljbGUpXG4gICAgICAgICAgICAgICAgICAgIHByZXZfZGVzYyA9IGRlc2M7XG4gICAgICAgICAgICAgICAgZGVzYyA9IGxpbmUuc3Vic3RyaW5nKDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKFwiOms6XCIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghaXNGaXJzdEFydGljbGUpXG4gICAgICAgICAgICAgICAgICAgIHByZXZfa2V5d29yZHMgPSBrZXl3b3JkcztcbiAgICAgICAgICAgICAgICBrZXl3b3JkcyA9IGxpbmUuc3Vic3RyaW5nKDMpLnRvTG93ZXJDYXNlKCkucmVwbGFjZUFsbChcIi1cIiwgXCIgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKFwiOmw6XCIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghaXNGaXJzdEFydGljbGUpXG4gICAgICAgICAgICAgICAgICAgIHByZXZfbGFzdG1vZCA9IGxhc3Rtb2Q7XG4gICAgICAgICAgICAgICAgbGFzdG1vZCA9IGxpbmUuc3Vic3RyaW5nKDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSAvLyBwbGFpbiB0ZXh0XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZUFsbChcIjxcIiwgXCImbHQ7XCIpLnJlcGxhY2VBbGwoXCI+XCIsIFwiJmd0O1wiKS5yZXBsYWNlQWxsKFwieyVcIiwgXCI8XCIpLnJlcGxhY2VBbGwoXCIlfVwiLCBcIj5cIik7XG4gICAgICAgICAgICAgICAgcGFyYWdyYXBoTGluZXNQZW5kaW5nLnB1c2gobGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW5kUGFyYWdyYXBoKCk7XG5cbiAgICAgICAgYXdhaXQgYnVpbGRQb3N0UGFnZSh0aXRsZSwgbGFzdG1vZCwgZGVzYywga2V5d29yZHMsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBwb3N0SW5mb0xpc3Q7XG4gICAgfTtcbn0iLCJpbXBvcnQgRmlsZVV0aWwgZnJvbSBcIi4uLy4uL3NzZy91dGlsL2ZpbGVVdGlsXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2l0ZW1hcEJ1aWxkZXJcbntcbiAgICBwcml2YXRlIGxpbmVzID0gW2A8L3VybHNldD5gXTtcblxuICAgIGFkZEVudHJ5KHJlbGF0aXZlVVJMOiBzdHJpbmcsIGxhc3Rtb2Q6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgPC91cmw+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgICA8bGFzdG1vZD4ke2xhc3Rtb2R9PC9sYXN0bW9kPmApO1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYCAgPGxvYz4ke3Byb2Nlc3MuZW52LlVSTF9TVEFUSUN9LyR7cmVsYXRpdmVVUkx9PC9sb2M+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgPHVybD5gKTtcbiAgICB9XG5cbiAgICBhc3luYyBidWlsZCgpOiBQcm9taXNlPHZvaWQ+XG4gICAge1xuICAgICAgICB0aGlzLmxpbmVzLnB1c2goYDx1cmxzZXQgeG1sbnM9XCJodHRwOi8vd3d3LnNpdGVtYXBzLm9yZy9zY2hlbWFzL3NpdGVtYXAvMC45XCI+YCk7XG4gICAgICAgIHRoaXMubGluZXMucHVzaChgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+YCk7XG4gICAgICAgIHRoaXMubGluZXMucmV2ZXJzZSgpO1xuICAgICAgICBhd2FpdCBGaWxlVXRpbC53cml0ZShgc2l0ZW1hcC54bWxgLCB0aGlzLmxpbmVzLmpvaW4oXCJcXG5cIikpO1xuICAgIH1cbn0iLCJpbXBvcnQgRmlsZVV0aWwgZnJvbSBcIi4uLy4uL3NzZy91dGlsL2ZpbGVVdGlsXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dEZpbGVCdWlsZGVyXG57XG4gICAgcHJpdmF0ZSBsaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgIGFkZExpbmUobGluZTogc3RyaW5nKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKGxpbmUpO1xuICAgIH1cblxuICAgIGdldFRleHQoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lcy5qb2luKFwiXFxuXCIpO1xuICAgIH1cblxuICAgIGFzeW5jIGJ1aWxkKHJlbGF0aXZlRmlsZVBhdGg6IHN0cmluZywgcm9vdERpcj86IHN0cmluZyk6IFByb21pc2U8dm9pZD5cbiAgICB7XG4gICAgICAgIGlmIChyb290RGlyID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJvb3REaXIgPSBwcm9jZXNzLmVudi5TVEFUSUNfUEFHRV9ST09UX0RJUjtcbiAgICAgICAgYXdhaXQgRmlsZVV0aWwud3JpdGUocmVsYXRpdmVGaWxlUGF0aCwgdGhpcy5saW5lcy5qb2luKFwiXFxuXCIpLCByb290RGlyKTtcbiAgICB9XG59IiwiaW1wb3J0IEdhbWVFbnRyeSBmcm9tIFwiLi4vdHlwZXMvZ2FtZUVudHJ5XCJcblxuZXhwb3J0IGNvbnN0IEFyY2FkZURhdGE6IHtcbiAgICBnYW1lRW50cmllczogR2FtZUVudHJ5W11cbn0gPSB7XG4gICAgZ2FtZUVudHJpZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZGlyTmFtZTogXCJBcnRSYWlkZXJcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIkFydFJhaWRlclwiLFxuICAgICAgICAgICAgcGxheUxpbmtJbWFnZVBhdGhPdmVycmlkZTogXCJiYWRnZV9vbmVzdG9yZS5wbmdcIixcbiAgICAgICAgICAgIHBsYXlMaW5rVVJMOiBcImh0dHBzOi8vb25lc3RvLnJlLzAwMDEwMDAzODNcIixcbiAgICAgICAgICAgIHZpZGVvVGFnOiBgPGlmcmFtZSB3aWR0aD1cIjU2MFwiIGhlaWdodD1cIjMxNVwiIHNyYz1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1J1TGdPSnJOdEtBP3NpPVRzX1l1X2pkcEIxcW1OaVRcIiB0aXRsZT1cIllvdVR1YmUgdmlkZW8gcGxheWVyXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3c9XCJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmVcIiByZWZlcnJlcnBvbGljeT1cInN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW5cIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+YCxcbiAgICAgICAgICAgIGxhc3Rtb2Q6IFwiMjAyNS0wNC0xNVwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBkaXJOYW1lOiBcIldhdGVyLXZzLUZpcmVcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIldhdGVyIHZzIEZpcmVcIixcbiAgICAgICAgICAgIHBsYXlMaW5rVVJMOiBcImh0dHBzOi8vd3d3LmdhbWVhcnRlci5jb20vZ2FtZS93YXRlci12cy1maXJlXCIsXG4gICAgICAgICAgICB2aWRlb1RhZzogYDxpZnJhbWUgd2lkdGg9XCI1NjBcIiBoZWlnaHQ9XCIzMTVcIiBzcmM9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC82RGVBX204SXE0TT9zaT1oQzF1emtFdEJXcFljTTh6XCIgdGl0bGU9XCJZb3VUdWJlIHZpZGVvIHBsYXllclwiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93PVwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPmAsXG4gICAgICAgICAgICBsYXN0bW9kOiBcIjIwMjMtMDktMTBcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgZGlyTmFtZTogXCJIdW50TGFuZFwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiSHVudExhbmRcIixcbiAgICAgICAgICAgIHBsYXlMaW5rVVJMOiBcImh0dHBzOi8vd3d3LmdhbWVhcnRlci5jb20vZ2FtZS9odW50bGFuZFwiLFxuICAgICAgICAgICAgdmlkZW9UYWc6IGA8aWZyYW1lIHdpZHRoPVwiNTYwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvM2RSZzZ2dm9QcWM/c2k9RmxuS1Z5elFxMF81NXNMMlwiIHRpdGxlPVwiWW91VHViZSB2aWRlbyBwbGF5ZXJcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZVwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT5gLFxuICAgICAgICAgICAgbGFzdG1vZDogXCIyMDIzLTA5LTEwXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpck5hbWU6IFwiUG9saWNlQ2hhc2VcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIlBvbGljZSBDaGFzZVwiLFxuICAgICAgICAgICAgcGxheUxpbmtVUkw6IFwiaHR0cHM6Ly93d3cuZ2FtZWFydGVyLmNvbS9nYW1lL3BvbGljZWNoYXNlXCIsXG4gICAgICAgICAgICB2aWRlb1RhZzogYDxpZnJhbWUgd2lkdGg9XCI1NjBcIiBoZWlnaHQ9XCIzMTVcIiBzcmM9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9rQUJnMGoybVpxUT9zaT0zLUpVWlFuaDNvbVZYU0pkXCIgdGl0bGU9XCJZb3VUdWJlIHZpZGVvIHBsYXllclwiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93PVwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPmAsXG4gICAgICAgICAgICBsYXN0bW9kOiBcIjIwMjMtMDktMTBcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgZGlyTmFtZTogXCJTcGFjZVRvd25cIixcbiAgICAgICAgICAgIHRpdGxlOiBcIlNwYWNlVG93blwiLFxuICAgICAgICAgICAgcGxheUxpbmtVUkw6IFwiaHR0cHM6Ly93d3cuZ2FtZWFydGVyLmNvbS9nYW1lL3NwYWNldG93blwiLFxuICAgICAgICAgICAgdmlkZW9UYWc6IGA8aWZyYW1lIHdpZHRoPVwiNTYwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvTm9pUXpFS0pNLUE/c2k9bzh2VE5xVzFreENKNE1uV1wiIHRpdGxlPVwiWW91VHViZSB2aWRlbyBwbGF5ZXJcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZVwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT5gLFxuICAgICAgICAgICAgbGFzdG1vZDogXCIyMDIzLTA5LTIwXCIsXG4gICAgICAgIH0sXG4gICAgXVxufTsiLCJpbXBvcnQgUG9zdEVudHJ5IGZyb20gXCIuLi90eXBlcy9wb3N0RW50cnlcIlxuXG5leHBvcnQgY29uc3QgTGlicmFyeURhdGE6IHtcbiAgICBlbnRyaWVzQnlDYXRlZ29yeTogeyBbY2F0ZWdvcnk6IHN0cmluZ106IFBvc3RFbnRyeVtdIH1cbn0gPSB7XG4gICAgZW50cmllc0J5Q2F0ZWdvcnkgOiB7XG4gICAgICAgIFwiTm9uZmljdGlvblwiOiBbXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwibWV0YXBoeXNpY3NcIiwgdGl0bGU6IFwi7ZiV7J207IOB7ZWZICgyMDEzIC0gMjAxNClcIn0sXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwiZ2FtZS1hbmFseXNpc1wiLCB0aXRsZTogXCLqsozsnoTrtoTshJ0gKDIwMTkpXCJ9LFxuICAgICAgICAgICAgeyBkaXJOYW1lOiBcImVzc2F5c1wiLCB0aXRsZTogXCJNaXNjZWxsYW5lb3VzIFdyaXRpbmdzICgyMDIyIC0gMjAyNClcIn0sXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwiYmxvY2tjaGFpbnNcIiwgdGl0bGU6IFwiT24gTGVnaXRpbWFjeSBvZiBCbG9ja2NoYWlucyAoMjAyMilcIn0sXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwic29mdHdhcmUtZGV2ZWxvcG1lbnRcIiwgdGl0bGU6IFwiU29mdHdhcmUgRGV2ZWxvcG1lbnQgKDIwMjIgLSAyMDI0KVwifSxcbiAgICAgICAgICAgIHsgZGlyTmFtZTogXCJnYW1lLWRlc2lnblwiLCB0aXRsZTogXCJVbml2ZXJzYWwgTGF3cyBvZiBHYW1lIERlc2lnbiAoMjAyMylcIn0sXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwicmVhbGl0eVwiLCB0aXRsZTogXCJUaGUgT3JpZ2luIG9mIFJlYWxpdHkgKDIwMjMpXCJ9LFxuICAgICAgICAgICAgeyBkaXJOYW1lOiBcImJyaWRnZS10by1tYXRoXCIsIHRpdGxlOiBcIkEgTGF5bWFuJ3MgQnJpZGdlIHRvIE1hdGhlbWF0aWNzICgyMDI0KVwifSxcbiAgICAgICAgICAgIHsgZGlyTmFtZTogXCJyZWFkLXJlY1wiLCB0aXRsZTogXCJSZWNvbW1lbmRlZCBSZWFkaW5ncyAoMjAyNClcIn0sXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwibW9yc2Vsc1wiLCB0aXRsZTogXCJNb3JzZWxzIG9mIFRob3VnaHQgKDIwMjQpXCJ9LFxuICAgICAgICAgICAgeyBkaXJOYW1lOiBcImNvbmNlcHRzLW9mLXBsYW5cIiwgdGl0bGU6IFwiQ29uY2VwdHMgb2YgYSBQbGFuICgyMDI1KVwifSxcbiAgICAgICAgXSxcbiAgICAgICAgXCJGaWN0aW9uXCI6IFtcbiAgICAgICAgICAgIHsgZGlyTmFtZTogXCJub3ZlbHNcIiwgdGl0bGU6IFwi64uo7Y647IaM7ISkICgyMDEyIC0gMjAxMylcIn0sXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwiYWxpZW4tam9iLWludGVydmlld1wiLCB0aXRsZTogXCJBbGllbiBKb2IgSW50ZXJ2aWV3ICgyMDIyKVwifSxcbiAgICAgICAgICAgIHsgZGlyTmFtZTogXCJpbmZpbml0ZS10cmVhc3VyZXNcIiwgdGl0bGU6IFwiVGhlIElzbGFuZCBvZiBJbmZpbml0ZSBUcmVhc3VyZXMgKDIwMjIpXCJ9LFxuICAgICAgICAgICAgeyBkaXJOYW1lOiBcImluZnNvY1wiLCB0aXRsZTogXCJJbmZsdWVudGlhbCBTb2NpYWwgUG9zdHMgKDIwMjMpXCJ9LFxuICAgICAgICAgICAgeyBkaXJOYW1lOiBcImdhbWVkZXYtam91cm5leVwiLCB0aXRsZTogXCJBIEdhbWUgRGV2ZWxvcGVyJ3MgSm91cm5leSAoMjAyMylcIn0sXG4gICAgICAgICAgICB7IGRpck5hbWU6IFwic2FuZHdpY2hcIiwgdGl0bGU6IFwiU2FuZHdpY2ggRW5naW5lZXJpbmcgKDIwMjUpXCJ9LFxuICAgICAgICBdLFxuICAgICAgICBcIkFydHNcIjogW1xuICAgICAgICAgICAgeyBkaXJOYW1lOiBcImlsbHVzdHJhdGlvbnNcIiwgdGl0bGU6IFwiSWxsdXN0cmF0aW9ucyAoMjAwOSAtIDIwMTQpXCJ9LFxuICAgICAgICAgICAgeyBkaXJOYW1lOiBcImNhcnRvb25zXCIsIHRpdGxlOiBcIkNhcnRvb25zICgyMDExIC0gMjAxNSlcIn0sXG4gICAgICAgIF0sXG4gICAgfVxufTsiLCJpbXBvcnQgRmlsZVV0aWwgZnJvbSBcIi4vdXRpbC9maWxlVXRpbFwiO1xuaW1wb3J0IEVKU1V0aWwgZnJvbSBcIi4vdXRpbC9lanNVdGlsXCI7XG5pbXBvcnQgU2l0ZW1hcEJ1aWxkZXIgZnJvbSBcIi4vYnVpbGRlci9zaXRlbWFwQnVpbGRlclwiO1xuaW1wb3J0IEF0b21GZWVkQnVpbGRlciBmcm9tIFwiLi9idWlsZGVyL2F0b21GZWVkQnVpbGRlclwiO1xuaW1wb3J0IEFyY2FkZVBhZ2VCdWlsZGVyIGZyb20gXCIuL2J1aWxkZXIvcGFnZS9hcmNhZGVQYWdlQnVpbGRlclwiO1xuaW1wb3J0IExpYnJhcnlQYWdlQnVpbGRlciBmcm9tIFwiLi9idWlsZGVyL3BhZ2UvbGlicmFyeVBhZ2VCdWlsZGVyXCI7XG5pbXBvcnQgVGV4dEZpbGVCdWlsZGVyIGZyb20gXCIuL2J1aWxkZXIvdGV4dEZpbGVCdWlsZGVyXCI7XG5pbXBvcnQgRW1iZWRkZWRTY3JpcHRCdWlsZGVyIGZyb20gXCIuL2J1aWxkZXIvZW1iZWRkZWRTY3JpcHRCdWlsZGVyXCI7XG5pbXBvcnQgc3R5bGVEaWN0aW9uYXJ5IGZyb20gXCIuL3N0eWxlL3N0eWxlRGljdGlvbmFyeVwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgRXJyb3JQYWdlQnVpbGRlciBmcm9tIFwiLi9idWlsZGVyL3BhZ2UvZXJyb3JQYWdlQnVpbGRlclwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBTU0coKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIGNvbnNvbGUubG9nKFwiU1NHIFNUQVJUXCIpO1xuXG4gICAgLy8gR2VuZXJhdGUgcGFnZXNcblxuICAgIGNvbnN0IHNpdGVtYXBCID0gbmV3IFNpdGVtYXBCdWlsZGVyKCk7XG4gICAgY29uc3QgYXRvbUZlZWRCID0gbmV3IEF0b21GZWVkQnVpbGRlcigpO1xuXG4gICAgbGV0IHRiID0gbmV3IFRleHRGaWxlQnVpbGRlcigpO1xuICAgIHRiLmFkZExpbmUoYXdhaXQgRUpTVXRpbC5jcmVhdGVTdGF0aWNIVE1MRnJvbUVKUyhcInBhZ2Uvc3RhdGljL2luZGV4LmVqc1wiLCB7fSkpO1xuICAgIGF3YWl0IHRiLmJ1aWxkKFwiaW5kZXguaHRtbFwiKTtcblxuICAgIHRiID0gbmV3IFRleHRGaWxlQnVpbGRlcigpO1xuICAgIHRiLmFkZExpbmUoYXdhaXQgRUpTVXRpbC5jcmVhdGVTdGF0aWNIVE1MRnJvbUVKUyhcInBhZ2Uvc3RhdGljL3BvcnRmb2xpby5lanNcIiwge30pKTtcbiAgICBhd2FpdCB0Yi5idWlsZChcInBvcnRmb2xpby5odG1sXCIpO1xuXG4gICAgdGIgPSBuZXcgVGV4dEZpbGVCdWlsZGVyKCk7XG4gICAgdGIuYWRkTGluZShhd2FpdCBFSlNVdGlsLmNyZWF0ZVN0YXRpY0hUTUxGcm9tRUpTKFwicGFnZS9zdGF0aWMvcG9ydGZvbGlvX21pbmltYWwuZWpzXCIsIHt9KSk7XG4gICAgYXdhaXQgdGIuYnVpbGQoXCJwb3J0Zm9saW9fbWluaW1hbC5odG1sXCIpO1xuXG4gICAgdGIgPSBuZXcgVGV4dEZpbGVCdWlsZGVyKCk7XG4gICAgdGIuYWRkTGluZShhd2FpdCBFSlNVdGlsLmNyZWF0ZVN0YXRpY0hUTUxGcm9tRUpTKFwicGFnZS9zdGF0aWMvcHJpdmFjeVBvbGljeS5lanNcIiwge30pKTtcbiAgICBhd2FpdCB0Yi5idWlsZChcInByaXZhY3ktcG9saWN5Lmh0bWxcIik7XG5cbiAgICB0YiA9IG5ldyBUZXh0RmlsZUJ1aWxkZXIoKTtcbiAgICB0Yi5hZGRMaW5lKGF3YWl0IEVKU1V0aWwuY3JlYXRlU3RhdGljSFRNTEZyb21FSlMoXCJwYWdlL3N0YXRpYy90ZXJtc09mU2VydmljZS5lanNcIiwge30pKTtcbiAgICBhd2FpdCB0Yi5idWlsZChcInRlcm1zLW9mLXNlcnZpY2UuaHRtbFwiKTtcblxuICAgIGF3YWl0IG5ldyBBcmNhZGVQYWdlQnVpbGRlcihzaXRlbWFwQiwgYXRvbUZlZWRCKS5idWlsZCgpO1xuICAgIGF3YWl0IG5ldyBMaWJyYXJ5UGFnZUJ1aWxkZXIoc2l0ZW1hcEIsIGF0b21GZWVkQikuYnVpbGQoKTtcbiAgICBhd2FpdCBuZXcgRXJyb3JQYWdlQnVpbGRlcigpLmJ1aWxkKCk7XG5cbiAgICBhd2FpdCBzaXRlbWFwQi5idWlsZCgpO1xuICAgIGF3YWl0IGF0b21GZWVkQi5idWlsZCgpO1xuXG4gICAgLy8gR2VuZXJhdGUgQ1NTXG4gICAgYXdhaXQgRmlsZVV0aWwud3JpdGUoXCJzdHlsZS5jc3NcIiwgc3R5bGVEaWN0aW9uYXJ5KTtcblxuICAgIC8vIEdlbmVyYXRlIGVtYmVkZGVkIHNjcmlwdHNcbiAgICBhd2FpdCBuZXcgRW1iZWRkZWRTY3JpcHRCdWlsZGVyKCkuYnVpbGQoKTtcblxuICAgIGNvbnNvbGUubG9nKFwiU1NHIEVORFwiKTtcbn0iLCIvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gR2xvYmFsIFBhcmFtZXRlcnNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IGV4dHJhRGFya0NvbG9yID0gXCIjMTAxMDEwXCI7XG5jb25zdCBkYXJrQ29sb3IgPSBcIiMzMDMwMzBcIjtcbmNvbnN0IGRpbUNvbG9yID0gXCIjNzA3MDcwXCI7XG5jb25zdCBtZWRpdW1Db2xvciA9IFwiI2EwYTBhMFwiO1xuY29uc3QgbGlnaHRDb2xvciA9IFwiI2MwYzBjMFwiO1xuY29uc3QgbGlnaHRZZWxsb3dDb2xvciA9IFwiI2QwYzA5MFwiO1xuY29uc3QgbGlnaHRHcmVlbkNvbG9yID0gXCIjNzBjMDYwXCI7XG5jb25zdCBtZWRpdW1ZZWxsb3dDb2xvciA9IFwiI2IwYTA3MFwiO1xuXG5jb25zdCBkZWZhdWx0VGV4dEFsaWduID0gXCJsZWZ0XCI7XG5jb25zdCBmdWxsc2NyZWVuQmFyVGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuY29uc3QgZnVsbHNjcmVlbkxlZnRCYXJXaWR0aFBlcmNlbnQgPSAxNDtcbmNvbnN0IGZ1bGxzY3JlZW5Ub3BCYXJIZWlnaHRQZXJjZW50ID0gMTI7XG5jb25zdCBmdWxsc2NyZWVuTGVmdEJhckxvZ29BcmVhSGVpZ2h0UGVyY2VudCA9IDE0O1xuY29uc3QgZnVsbHNjcmVlblRvcEJhckxvZ29BcmVhSGVpZ2h0UGVyY2VudCA9IDY1O1xuY29uc3QgZnVsbHNjcmVlblBhbmVsV2lkdGhQYWRkaW5nUGVyY2VudCA9IDIuNTtcblxuY29uc3Qgc2Nyb2xsYmFyX3RoaWNrbmVzcyA9IFwiMTdweFwiO1xuY29uc3Qgc2Nyb2xsYmFyX2JvcmRlcl9yYWRpdXMgPSBcIjhweFwiO1xuY29uc3Qgc2Nyb2xsYmFyX2JvcmRlcl90aGlja25lc3MgPSBcIjRweFwiO1xuXG5jb25zdCBzcGFjZSA9IHtcblx0dW5pdDoge1xuXHRcdGxhbmRzY2FwZToge1xuXHRcdFx0dmVydGljYWw6IDAuNixcblx0XHRcdGhvcml6b250YWw6IDEsXG5cdFx0fSxcblx0XHRwb3J0cmFpdDoge1xuXHRcdFx0dmVydGljYWw6IDEsXG5cdFx0XHRob3Jpem9udGFsOiAyLjUsXG5cdFx0fSxcblx0fSxcbn07XG5cbmNvbnN0IHJlZ3VsYXJfZm9udF93ZWlnaHQgPSA0MDA7XG5jb25zdCBib2xkX2ZvbnRfd2VpZ2h0ID0gODAwO1xuY29uc3QgZm9udFNjYWxlRmFjdG9yX3ZtYXggPSAwLjc7XG5jb25zdCBmb250U2NhbGVGYWN0b3JfcHggPSAxLjA7XG5jb25zdCBmb250X3ZtYXhfbWluID0gMi42O1xuY29uc3QgZm9udF9weF9taW4gPSAxNjtcbmNvbnN0IGZvbnRTY2FsZUluYyA9IDEuMjtcbmNvbnN0IGZvbnRTY2FsZUluYzIgPSBmb250U2NhbGVJbmMqZm9udFNjYWxlSW5jO1xuY29uc3QgZm9udFNjYWxlSW5jMyA9IGZvbnRTY2FsZUluYypmb250U2NhbGVJbmMqZm9udFNjYWxlSW5jO1xuY29uc3QgZm9udFNjYWxlSW5jNCA9IGZvbnRTY2FsZUluYypmb250U2NhbGVJbmMqZm9udFNjYWxlSW5jKmZvbnRTY2FsZUluYztcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEZ1bmN0aW9uc1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQXJlYXNcblxuY29uc3QgYWJzb2x1dGVBcmVhID0gKGxlZnRQZXJjZW50OiBudW1iZXIsIHJpZ2h0UGVyY2VudDogbnVtYmVyLCB0b3BQZXJjZW50OiBudW1iZXIsIGJvdHRvbVBlcmNlbnQ6IG51bWJlcixcblx0d2lkdGhQZXJjZW50OiBudW1iZXIsIGhlaWdodFBlcmNlbnQ6IG51bWJlcik6IHN0cmluZyA9PlxuYHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxcdGRpc3BsYXk6IGJsb2NrO1xuXFx0bGVmdDogJHtsZWZ0UGVyY2VudH0lO1xuXFx0cmlnaHQ6ICR7cmlnaHRQZXJjZW50fSU7XG5cXHR0b3A6ICR7dG9wUGVyY2VudH0lO1xuXFx0Ym90dG9tOiAke2JvdHRvbVBlcmNlbnR9JTtcblxcdHdpZHRoOiAke3dpZHRoUGVyY2VudH0lO1xuXFx0aGVpZ2h0OiAke2hlaWdodFBlcmNlbnR9JTtgO1xuXG5jb25zdCByZWxhdGl2ZUFyZWEgPSAobmV4dGxpbmU6IGJvb2xlYW4sIG1heFdpZHRoOiBzdHJpbmcpOiBzdHJpbmcgPT5cbmBwb3NpdGlvbjogcmVsYXRpdmU7XG5cXHRkaXNwbGF5OiAke25leHRsaW5lID8gXCJibG9ja1wiIDogXCJpbmxpbmUtYmxvY2tcIn07XG5cXHRtYXgtd2lkdGg6ICR7bWF4V2lkdGh9O2A7XG5cbmNvbnN0IHJlbGF0aXZlQW5kRmxleGlibGVBcmVhID0gKG5leHRsaW5lOiBib29sZWFuKTogc3RyaW5nID0+XG5gcG9zaXRpb246IHJlbGF0aXZlO1xuXFx0ZGlzcGxheTogJHtuZXh0bGluZSA/IFwiYmxvY2tcIiA6IFwiaW5saW5lLWJsb2NrXCJ9O1xuXFx0bWF4LXdpZHRoOiBub25lO1xuXFx0d2lkdGg6IGZpdC1jb250ZW50O1xuXFx0YmxvY2stc2l6ZTogZml0LWNvbnRlbnQ7YDtcblxuY29uc3QgcmVsYXRpdmVGaXhlZFNpemVBcmVhID0gKG5leHRsaW5lOiBib29sZWFuLCB3aWR0aDogc3RyaW5nLCBoZWlnaHQ6IHN0cmluZyk6IHN0cmluZyA9PlxuYHBvc2l0aW9uOiByZWxhdGl2ZTtcblxcdGRpc3BsYXk6ICR7bmV4dGxpbmUgPyBcImJsb2NrXCIgOiBcImlubGluZS1ibG9ja1wifTtcblxcdHdpZHRoOiAke3dpZHRofTtcblxcdGhlaWdodDogJHtoZWlnaHR9O2A7XG5cbi8vIFNwYWNpbmdcblxuY29uc3Qgc3BhY2luZyA9IChsYW5kc2NhcGU6IGJvb2xlYW4sIHZlcnRpY2FsU2NhbGU6IG51bWJlciwgaG9yaXpvbnRhbFNjYWxlOiBudW1iZXIsXG5cdHN1cHByZXNzTWFyZ2luOiBib29sZWFuID0gZmFsc2UsIHN1cHByZXNzUGFkZGluZzogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nID0+XG57XG5cdGNvbnN0IHVuaXQgPSBzcGFjZS51bml0W2xhbmRzY2FwZSA/IFwibGFuZHNjYXBlXCIgOiBcInBvcnRyYWl0XCJdO1xuXHRjb25zdCB2ZXJ0aWNhbFNpemUgPSAodW5pdC52ZXJ0aWNhbCAqIHZlcnRpY2FsU2NhbGUpLnRvRml4ZWQoMik7XG5cdGNvbnN0IGhvcml6b250YWxTaXplID0gKHVuaXQuaG9yaXpvbnRhbCAqIGhvcml6b250YWxTY2FsZSkudG9GaXhlZCgyKTtcblx0Y29uc3QgdmVydGljYWxQYWRkaW5nID0gc3VwcHJlc3NQYWRkaW5nID8gXCIwXCIgOiBgJHt2ZXJ0aWNhbFNpemV9JWA7XG5cdGNvbnN0IGhvcml6b250YWxQYWRkaW5nID0gc3VwcHJlc3NQYWRkaW5nID8gXCIwXCIgOiBgJHtob3Jpem9udGFsU2l6ZX0lYDtcblx0Y29uc3QgdmVydGljYWxNYXJnaW4gPSBzdXBwcmVzc01hcmdpbiA/IFwiMFwiIDogYCR7dmVydGljYWxTaXplfSVgO1xuXHRjb25zdCBob3Jpem9udGFsTWFyZ2luID0gc3VwcHJlc3NNYXJnaW4gPyBcIjBcIiA6IGAke2hvcml6b250YWxTaXplfSVgO1xucmV0dXJuIGBwYWRkaW5nOiAke3ZlcnRpY2FsUGFkZGluZ30gJHtob3Jpem9udGFsUGFkZGluZ30gJHt2ZXJ0aWNhbFBhZGRpbmd9ICR7aG9yaXpvbnRhbFBhZGRpbmd9O1xuXFx0bWFyZ2luOiAke3ZlcnRpY2FsTWFyZ2lufSAke2hvcml6b250YWxNYXJnaW59ICR7dmVydGljYWxNYXJnaW59IDA7YDtcbn07XG5cbi8vIEZvbnRcblxuY29uc3QgZm9udCA9IChmb250U2l6ZTogc3RyaW5nLCBpc0l0YWxpYzogYm9vbGVhbiwgZm9udFdlaWdodDogbnVtYmVyKTogc3RyaW5nID0+XG5gZm9udC1zaXplOiAke2ZvbnRTaXplfTtcblxcdGZvbnQtZmFtaWx5OiBcIkx1Y2lkYSBDb25zb2xlXCIsIFwiTHVjaWRhIFNhbnMgVHlwZXdyaXRlclwiLCBcIk1vbmFjb1wiLCBDb25zb2xhcywgbW9ub3NwYWNlO1xuXFx0Zm9udC1zdHlsZTogJHtpc0l0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwifTtcblxcdGZvbnQtd2VpZ2h0OiAke2ZvbnRXZWlnaHR9O2A7XG5cbi8vIEZyYW1lc1xuXG5jb25zdCBzaW1wbGVGcmFtZSA9IChiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZywgZm9yZWdyb3VuZENvbG9yOiBzdHJpbmcsIG9wYWNpdHk6IG51bWJlciA9IDEpOiBzdHJpbmcgPT5cbmBiYWNrZ3JvdW5kLWNvbG9yOiAke2JhY2tncm91bmRDb2xvcn07XG5cXHRjb2xvcjogJHtmb3JlZ3JvdW5kQ29sb3J9OyR7KG9wYWNpdHkgPCAxKSA/IGBcXG5cXHRvcGFjaXR5OiAke29wYWNpdHl9O2AgOiBcIlwifWA7XG5cbmNvbnN0IHJvdW5kZWRGcmFtZSA9IChiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZywgZm9yZWdyb3VuZENvbG9yOiBzdHJpbmcsIG9wYWNpdHk6IG51bWJlciA9IDEpOiBzdHJpbmcgPT5cbnNpbXBsZUZyYW1lKGJhY2tncm91bmRDb2xvciwgZm9yZWdyb3VuZENvbG9yLCBvcGFjaXR5KSArIFwiXFxuXCIgK1xuYFxcdGJvcmRlci1yYWRpdXM6IDJ2bWluO2A7XG5cbmNvbnN0IGVsZXZhdGVkRnJhbWUgPSAoYmFja2dyb3VuZENvbG9yOiBzdHJpbmcsIGZvcmVncm91bmRDb2xvcjogc3RyaW5nLCBib3JkZXJDb2xvcjogc3RyaW5nLFxuXHRib3JkZXJUaGlja25lc3M6IHN0cmluZyA9IFwiMS4yNVwiLCBvcGFjaXR5OiBudW1iZXIgPSAxKTogc3RyaW5nID0+XG5yb3VuZGVkRnJhbWUoYmFja2dyb3VuZENvbG9yLCBmb3JlZ3JvdW5kQ29sb3IsIG9wYWNpdHkpICsgXCJcXG5cIiArXG5gXFx0Ym9yZGVyLWJvdHRvbTogJHtib3JkZXJUaGlja25lc3N9dm1pbiAke2JvcmRlckNvbG9yfSBzb2xpZDtgICsgXCJcXG5cIiArXG5gXFx0Ym9yZGVyLXJpZ2h0OiAke2JvcmRlclRoaWNrbmVzc312bWluICR7Ym9yZGVyQ29sb3J9IHNvbGlkO2A7XG5cbmNvbnN0IG91dGxpbmVkRnJhbWUgPSAoYmFja2dyb3VuZENvbG9yOiBzdHJpbmcsIGZvcmVncm91bmRDb2xvcjogc3RyaW5nLCBib3JkZXJDb2xvcjogc3RyaW5nLFxuXHRib3JkZXJUaGlja25lc3M6IHN0cmluZyA9IFwiMS4yNVwiLCBvcGFjaXR5OiBudW1iZXIgPSAxKTogc3RyaW5nID0+XG5yb3VuZGVkRnJhbWUoYmFja2dyb3VuZENvbG9yLCBmb3JlZ3JvdW5kQ29sb3IsIG9wYWNpdHkpICsgXCJcXG5cIiArXG5gXFx0Ym9yZGVyOiAke2JvcmRlclRoaWNrbmVzc312bWluICR7Ym9yZGVyQ29sb3J9IHNvbGlkO2A7XG5cbmNvbnN0IHVuZGVybGluZWRGcmFtZSA9IChiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZywgZm9yZWdyb3VuZENvbG9yOiBzdHJpbmcsIHVuZGVybGluZUNvbG9yOiBzdHJpbmcsXG5cdHVuZGVybGluZVRoaWNrbmVzczogc3RyaW5nID0gXCIxLjI1XCIsIG9wYWNpdHk6IG51bWJlciA9IDEpOiBzdHJpbmcgPT5cbnNpbXBsZUZyYW1lKGJhY2tncm91bmRDb2xvciwgZm9yZWdyb3VuZENvbG9yLCBvcGFjaXR5KSArIFwiXFxuXCIgK1xuYFxcdGJvcmRlci1ib3R0b206ICR7dW5kZXJsaW5lVGhpY2tuZXNzfXZtaW4gJHt1bmRlcmxpbmVDb2xvcn0gc29saWQ7YDtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVsZW1lbnRhcnkgU3R5bGVzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBmdWxsc2NyZWVuX3dob2xlX2FyZWEgPSBhYnNvbHV0ZUFyZWEoXG5cdDAsIDAsIDAsIDAsXG5cdDEwMCwgMTAwKTtcblxuY29uc3QgZnVsbHNjcmVlbl9sZWZ0X2Jhcl9hcmVhID0gYWJzb2x1dGVBcmVhKFxuXHQwLCAxMDAgLSBmdWxsc2NyZWVuTGVmdEJhcldpZHRoUGVyY2VudCwgMCwgMCxcblx0ZnVsbHNjcmVlbkxlZnRCYXJXaWR0aFBlcmNlbnQsIDEwMCk7XG5cbmNvbnN0IGZ1bGxzY3JlZW5fdG9wX2Jhcl9hcmVhID0gYWJzb2x1dGVBcmVhKFxuXHQwLCAwLCAwLCAxMDAgLSBmdWxsc2NyZWVuVG9wQmFySGVpZ2h0UGVyY2VudCxcblx0MTAwLCBmdWxsc2NyZWVuVG9wQmFySGVpZ2h0UGVyY2VudCk7XG5cbmNvbnN0IGZ1bGxzY3JlZW5fcmlnaHRfcGFuZWxfYXJlYSA9IGFic29sdXRlQXJlYShcblx0ZnVsbHNjcmVlbkxlZnRCYXJXaWR0aFBlcmNlbnQsIDIqZnVsbHNjcmVlblBhbmVsV2lkdGhQYWRkaW5nUGVyY2VudCwgMCwgMCxcblx0MTAwIC0gKGZ1bGxzY3JlZW5MZWZ0QmFyV2lkdGhQZXJjZW50ICsgMipmdWxsc2NyZWVuUGFuZWxXaWR0aFBhZGRpbmdQZXJjZW50KSwgMTAwKTtcblxuY29uc3QgZnVsbHNjcmVlbl9ib3R0b21fcGFuZWxfYXJlYSA9IGFic29sdXRlQXJlYShcblx0MCwgZnVsbHNjcmVlblBhbmVsV2lkdGhQYWRkaW5nUGVyY2VudCwgZnVsbHNjcmVlblRvcEJhckhlaWdodFBlcmNlbnQsIDAsXG5cdDEwMCAtIDIqZnVsbHNjcmVlblBhbmVsV2lkdGhQYWRkaW5nUGVyY2VudCwgMTAwIC0gZnVsbHNjcmVlblRvcEJhckhlaWdodFBlcmNlbnQpO1xuXG5jb25zdCBmdWxsc2NyZWVuX2xlZnRfYmFyX2xvZ29fYXJlYSA9IGFic29sdXRlQXJlYShcblx0MCwgMCwgMCwgMTAwIC0gZnVsbHNjcmVlbkxlZnRCYXJMb2dvQXJlYUhlaWdodFBlcmNlbnQsXG5cdDEwMCwgZnVsbHNjcmVlbkxlZnRCYXJMb2dvQXJlYUhlaWdodFBlcmNlbnQpO1xuXG5jb25zdCBmdWxsc2NyZWVuX2xlZnRfYmFyX21lbnVfYXJlYSA9IGFic29sdXRlQXJlYShcblx0MCwgMCwgZnVsbHNjcmVlbkxlZnRCYXJMb2dvQXJlYUhlaWdodFBlcmNlbnQsIDAsXG5cdDEwMCwgODApO1xuXG5jb25zdCBmdWxsc2NyZWVuX3RvcF9iYXJfbG9nb19hcmVhID0gYWJzb2x1dGVBcmVhKFxuXHQwLCAwLCAwLCAxMDAgLSBmdWxsc2NyZWVuVG9wQmFyTG9nb0FyZWFIZWlnaHRQZXJjZW50LFxuXHQxMDAsIGZ1bGxzY3JlZW5Ub3BCYXJMb2dvQXJlYUhlaWdodFBlcmNlbnQpO1xuXG5jb25zdCBmdWxsc2NyZWVuX3RvcF9iYXJfbWVudV9hcmVhID0gYWJzb2x1dGVBcmVhKFxuXHQwLCAwLCBmdWxsc2NyZWVuVG9wQmFyTG9nb0FyZWFIZWlnaHRQZXJjZW50LCAwLFxuXHQxMDAsIDEwMCAtIGZ1bGxzY3JlZW5Ub3BCYXJMb2dvQXJlYUhlaWdodFBlcmNlbnQpO1xuXG5jb25zdCBsaXN0X3Njcm9sbF9wYW5lbF9hcmVhID0gKF8/OiBhbnkpOiBzdHJpbmcgPT4gcmVsYXRpdmVGaXhlZFNpemVBcmVhKHRydWUsIGAkeygxMDApLnRvRml4ZWQoMil9JWAsIGAkeyg3MCkudG9GaXhlZCgyKX0lYCk7XG5cbmNvbnN0IGdldEdyYWNlV2lkdGhQZXJjZW50ID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IG51bWJlciA9PlxuXHQyICogc3BhY2UudW5pdFtsYW5kc2NhcGUgPyBcImxhbmRzY2FwZVwiIDogXCJwb3J0cmFpdFwiXS5ob3Jpem9udGFsO1xuXG5jb25zdCBmdWxsX3Jvd19hcmVhID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiByZWxhdGl2ZUFyZWEodHJ1ZSwgYCR7KDEwMCkudG9GaXhlZCgyKX0lYCk7XG5jb25zdCBuZWFyX2Z1bGxfcm93X2FyZWEgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHJlbGF0aXZlQXJlYSh0cnVlLCBgJHsoOTgpLnRvRml4ZWQoMil9JWApO1xuY29uc3QgdHdvVGhpcmRzX3Jvd19hcmVhID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiByZWxhdGl2ZUFyZWEodHJ1ZSwgYCR7KDY2IC0gZ2V0R3JhY2VXaWR0aFBlcmNlbnQobGFuZHNjYXBlKSkudG9GaXhlZCgyKX0lYCk7XG5jb25zdCBoYWxmX3Jvd19hcmVhID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiByZWxhdGl2ZUFyZWEodHJ1ZSwgYCR7KDUwIC0gZ2V0R3JhY2VXaWR0aFBlcmNlbnQobGFuZHNjYXBlKSkudG9GaXhlZCgyKX0lYCk7XG5jb25zdCB0aGlyZF9yb3dfYXJlYSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gcmVsYXRpdmVBcmVhKHRydWUsIGAkeygzMyAtIGdldEdyYWNlV2lkdGhQZXJjZW50KGxhbmRzY2FwZSkpLnRvRml4ZWQoMil9JWApO1xuY29uc3QgcXVhcnRlcl9yb3dfYXJlYSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gcmVsYXRpdmVBcmVhKHRydWUsIGAkeygyNSAtIGdldEdyYWNlV2lkdGhQZXJjZW50KGxhbmRzY2FwZSkpLnRvRml4ZWQoMil9JWApO1xuY29uc3QgZmlmdGhfcm93X2FyZWEgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHJlbGF0aXZlQXJlYSh0cnVlLCBgJHsoMjAgLSBnZXRHcmFjZVdpZHRoUGVyY2VudChsYW5kc2NhcGUpKS50b0ZpeGVkKDIpfSVgKTtcbmNvbnN0IHRpbnlfcm93X2FyZWEgPSAoXz86IGFueSk6IHN0cmluZyA9PiByZWxhdGl2ZUFyZWEodHJ1ZSwgXCIxJVwiKTtcbmNvbnN0IGZsZXhpYmxlX3Jvd19hcmVhID0gKF8/OiBhbnkpOiBzdHJpbmcgPT4gcmVsYXRpdmVBbmRGbGV4aWJsZUFyZWEodHJ1ZSk7XG5cbmNvbnN0IGZ1bGxfY29sX2FyZWEgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHJlbGF0aXZlQXJlYShmYWxzZSwgYCR7KDEwMCkudG9GaXhlZCgyKX0lYCk7XG5jb25zdCBuZWFyX2Z1bGxfY29sX2FyZWEgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHJlbGF0aXZlQXJlYShmYWxzZSwgYCR7KDk4KS50b0ZpeGVkKDIpfSVgKTtcbmNvbnN0IHR3b1RoaXJkc19jb2xfYXJlYSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gcmVsYXRpdmVBcmVhKGZhbHNlLCBgJHsoNjYgLSBnZXRHcmFjZVdpZHRoUGVyY2VudChsYW5kc2NhcGUpKS50b0ZpeGVkKDIpfSVgKTtcbmNvbnN0IGhhbGZfY29sX2FyZWEgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHJlbGF0aXZlQXJlYShmYWxzZSwgYCR7KDUwIC0gZ2V0R3JhY2VXaWR0aFBlcmNlbnQobGFuZHNjYXBlKSkudG9GaXhlZCgyKX0lYCk7XG5jb25zdCB0aGlyZF9jb2xfYXJlYSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gcmVsYXRpdmVBcmVhKGZhbHNlLCBgJHsoMzMgLSBnZXRHcmFjZVdpZHRoUGVyY2VudChsYW5kc2NhcGUpKS50b0ZpeGVkKDIpfSVgKTtcbmNvbnN0IHF1YXJ0ZXJfY29sX2FyZWEgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHJlbGF0aXZlQXJlYShmYWxzZSwgYCR7KDI1IC0gZ2V0R3JhY2VXaWR0aFBlcmNlbnQobGFuZHNjYXBlKSkudG9GaXhlZCgyKX0lYCk7XG5jb25zdCBmaWZ0aF9jb2xfYXJlYSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gcmVsYXRpdmVBcmVhKGZhbHNlLCBgJHsoMjAgLSBnZXRHcmFjZVdpZHRoUGVyY2VudChsYW5kc2NhcGUpKS50b0ZpeGVkKDIpfSVgKTtcbmNvbnN0IHRpbnlfY29sX2FyZWEgPSAoXz86IGFueSk6IHN0cmluZyA9PiByZWxhdGl2ZUFyZWEoZmFsc2UsIFwiMSVcIik7XG5jb25zdCBmbGV4aWJsZV9jb2xfYXJlYSA9IChfPzogYW55KTogc3RyaW5nID0+IHJlbGF0aXZlQW5kRmxleGlibGVBcmVhKGZhbHNlKTtcblxuY29uc3QgemVyb19zcGFjaW5nID0gKF8/OiBhbnkpOiBzdHJpbmcgPT4gXCJwYWRkaW5nOiAwIDAgMCAwOyBtYXJnaW46IDAgMCAwIDA7XCI7XG5jb25zdCB4c19zcGFjaW5nID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiBzcGFjaW5nKGxhbmRzY2FwZSwgMC41LCAxKTtcbmNvbnN0IHNfc3BhY2luZyA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gc3BhY2luZyhsYW5kc2NhcGUsIDEsIDEpO1xuY29uc3QgbV9zcGFjaW5nID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiBzcGFjaW5nKGxhbmRzY2FwZSwgMiwgMik7XG5jb25zdCBsX3NwYWNpbmcgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHNwYWNpbmcobGFuZHNjYXBlLCAzLCAzKTtcbmNvbnN0IHhsX3NwYWNpbmcgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHNwYWNpbmcobGFuZHNjYXBlLCA0LCA0KTtcbmNvbnN0IHh4bF9zcGFjaW5nID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiBzcGFjaW5nKGxhbmRzY2FwZSwgNiwgNik7XG5cbmNvbnN0IHhzX3NwYWNpbmdfcGFkZGluZ09ubHkgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHNwYWNpbmcobGFuZHNjYXBlLCAwLjUsIDEsIHRydWUsIGZhbHNlKTtcbmNvbnN0IHhzX3NwYWNpbmdfbWFyZ2luT25seSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gc3BhY2luZyhsYW5kc2NhcGUsIDAuNSwgMSwgZmFsc2UsIHRydWUpO1xuXG5jb25zdCBzX3NwYWNpbmdfcGFkZGluZ09ubHkgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHNwYWNpbmcobGFuZHNjYXBlLCAxLCAxLCB0cnVlLCBmYWxzZSk7XG5jb25zdCBzX3NwYWNpbmdfbWFyZ2luT25seSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gc3BhY2luZyhsYW5kc2NhcGUsIDEsIDEsIGZhbHNlLCB0cnVlKTtcblxuY29uc3QgbV9zcGFjaW5nX3BhZGRpbmdPbmx5ID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiBzcGFjaW5nKGxhbmRzY2FwZSwgMiwgMSwgdHJ1ZSwgZmFsc2UpO1xuY29uc3QgbV9zcGFjaW5nX21hcmdpbk9ubHkgPSAobGFuZHNjYXBlOiBib29sZWFuKTogc3RyaW5nID0+IHNwYWNpbmcobGFuZHNjYXBlLCAyLCAxLCBmYWxzZSwgdHJ1ZSk7XG5cbmNvbnN0IGxfc3BhY2luZ19wYWRkaW5nT25seSA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT4gc3BhY2luZyhsYW5kc2NhcGUsIDMsIDEsIHRydWUsIGZhbHNlKTtcbmNvbnN0IGxfc3BhY2luZ19tYXJnaW5Pbmx5ID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiBzcGFjaW5nKGxhbmRzY2FwZSwgMywgMSwgZmFsc2UsIHRydWUpO1xuXG5jb25zdCB4bF9zcGFjaW5nX3BhZGRpbmdPbmx5ID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiBzcGFjaW5nKGxhbmRzY2FwZSwgNCwgMSwgdHJ1ZSwgZmFsc2UpO1xuY29uc3QgeGxfc3BhY2luZ19tYXJnaW5Pbmx5ID0gKGxhbmRzY2FwZTogYm9vbGVhbik6IHN0cmluZyA9PiBzcGFjaW5nKGxhbmRzY2FwZSwgNCwgMSwgZmFsc2UsIHRydWUpO1xuXG5jb25zdCBzaXplX3NfZm9udCA9IGBtaW4oJHsoZm9udF92bWF4X21pbiAqIGZvbnRTY2FsZUZhY3Rvcl92bWF4KS50b0ZpeGVkKDIpfXZtYXgsICR7KGZvbnRfcHhfbWluICogZm9udFNjYWxlRmFjdG9yX3B4KS50b0ZpeGVkKDIpfXB4KWA7XG5jb25zdCBzaXplX21fZm9udCA9IGBtaW4oJHsoZm9udF92bWF4X21pbiAqIGZvbnRTY2FsZUluYyAqIGZvbnRTY2FsZUZhY3Rvcl92bWF4KS50b0ZpeGVkKDIpfXZtYXgsICR7KGZvbnRfcHhfbWluICogZm9udFNjYWxlSW5jICogZm9udFNjYWxlRmFjdG9yX3B4KS50b0ZpeGVkKDIpfXB4KWA7XG5jb25zdCBzaXplX2xfZm9udCA9IGBtaW4oJHsoZm9udF92bWF4X21pbiAqIGZvbnRTY2FsZUluYzIgKiBmb250U2NhbGVGYWN0b3Jfdm1heCkudG9GaXhlZCgyKX12bWF4LCAkeyhmb250X3B4X21pbiAqIGZvbnRTY2FsZUluYzIgKiBmb250U2NhbGVGYWN0b3JfcHgpLnRvRml4ZWQoMil9cHgpYDtcbmNvbnN0IHNpemVfeGxfZm9udCA9IGBtaW4oJHsoZm9udF92bWF4X21pbiAqIGZvbnRTY2FsZUluYzMgKiBmb250U2NhbGVGYWN0b3Jfdm1heCkudG9GaXhlZCgyKX12bWF4LCAkeyhmb250X3B4X21pbiAqIGZvbnRTY2FsZUluYzMgKiBmb250U2NhbGVGYWN0b3JfcHgpLnRvRml4ZWQoMil9cHgpYDtcbmNvbnN0IHNpemVfeHhsX2ZvbnQgPSBgbWluKCR7KGZvbnRfdm1heF9taW4gKiBmb250U2NhbGVJbmM0ICogZm9udFNjYWxlRmFjdG9yX3ZtYXgpLnRvRml4ZWQoMil9dm1heCwgJHsoZm9udF9weF9taW4gKiBmb250U2NhbGVJbmM0ICogZm9udFNjYWxlRmFjdG9yX3B4KS50b0ZpeGVkKDIpfXB4KWA7XG5cbmNvbnN0IHNfZm9udCA9IGZvbnQoc2l6ZV9zX2ZvbnQsIGZhbHNlLCByZWd1bGFyX2ZvbnRfd2VpZ2h0KTtcbmNvbnN0IHNfaXRhbGljX2ZvbnQgPSBmb250KHNpemVfc19mb250LCB0cnVlLCByZWd1bGFyX2ZvbnRfd2VpZ2h0KTtcbmNvbnN0IHNfYm9sZF9mb250ID0gZm9udChzaXplX3NfZm9udCwgZmFsc2UsIGJvbGRfZm9udF93ZWlnaHQpO1xuY29uc3QgbV9mb250ID0gZm9udChzaXplX21fZm9udCwgdHJ1ZSwgcmVndWxhcl9mb250X3dlaWdodCk7XG5jb25zdCBtX2JvbGRfZm9udCA9IGZvbnQoc2l6ZV9tX2ZvbnQsIHRydWUsIGJvbGRfZm9udF93ZWlnaHQpO1xuY29uc3QgbF9mb250ID0gZm9udChzaXplX2xfZm9udCwgdHJ1ZSwgcmVndWxhcl9mb250X3dlaWdodCk7XG5jb25zdCBsX2JvbGRfZm9udCA9IGZvbnQoc2l6ZV9sX2ZvbnQsIHRydWUsIGJvbGRfZm9udF93ZWlnaHQpO1xuY29uc3QgeGxfZm9udCA9IGZvbnQoc2l6ZV94bF9mb250LCB0cnVlLCByZWd1bGFyX2ZvbnRfd2VpZ2h0KTtcbmNvbnN0IHhsX2JvbGRfZm9udCA9IGZvbnQoc2l6ZV94bF9mb250LCB0cnVlLCBib2xkX2ZvbnRfd2VpZ2h0KTtcbmNvbnN0IHh4bF9mb250ID0gZm9udChzaXplX3h4bF9mb250LCB0cnVlLCByZWd1bGFyX2ZvbnRfd2VpZ2h0KTtcbmNvbnN0IHh4bF9ib2xkX2ZvbnQgPSBmb250KHNpemVfeHhsX2ZvbnQsIHRydWUsIGJvbGRfZm9udF93ZWlnaHQpO1xuXG5jb25zdCB0cmFuc3BhcmVudF9mcmFtZSA9IGBvcGFjaXR5OiAwO2A7XG5jb25zdCBsb2FkaW5nX3NjcmVlbl9iYWNrZ3JvdW5kX2ZyYW1lID0gc2ltcGxlRnJhbWUoXCIjMDAwMDAwXCIsIGxpZ2h0Q29sb3IsIDAuNyk7XG5jb25zdCBsb2FkaW5nX3NjcmVlbl9jb250ZW50X2ZyYW1lID0gZWxldmF0ZWRGcmFtZShsaWdodFllbGxvd0NvbG9yLCBkYXJrQ29sb3IsIG1lZGl1bVllbGxvd0NvbG9yLCBcIjEuMjVcIik7XG5jb25zdCBwb3B1cF9zY3JlZW5fYmFja2dyb3VuZF9mcmFtZSA9IHNpbXBsZUZyYW1lKFwiIzAwMDAwMFwiLCBsaWdodENvbG9yLCAwLjcpO1xuY29uc3QgcG9wdXBfc2NyZWVuX2NvbnRlbnRfZnJhbWUgPSBlbGV2YXRlZEZyYW1lKGRhcmtDb2xvciwgbWVkaXVtQ29sb3IsIGxpZ2h0Q29sb3IsIFwiMS4yNVwiKTtcbmNvbnN0IGxpZ2h0X2NvbG9yX2ZyYW1lID0gc2ltcGxlRnJhbWUoZGFya0NvbG9yLCBsaWdodENvbG9yKTtcbmNvbnN0IHVuZGVybGluZWRfbGlnaHRfY29sb3JfZnJhbWUgPSB1bmRlcmxpbmVkRnJhbWUoZGFya0NvbG9yLCBsaWdodENvbG9yLCBsaWdodENvbG9yKTtcbmNvbnN0IG1lZGl1bV9jb2xvcl9mcmFtZSA9IHNpbXBsZUZyYW1lKGRhcmtDb2xvciwgbWVkaXVtQ29sb3IpO1xuY29uc3QgaW52ZXJ0ZWRfbWVkaXVtX2NvbG9yX2ZyYW1lID0gc2ltcGxlRnJhbWUobWVkaXVtQ29sb3IsIGRhcmtDb2xvcik7XG5jb25zdCBkaW1fY29sb3JfZnJhbWUgPSBzaW1wbGVGcmFtZShkYXJrQ29sb3IsIGRpbUNvbG9yKTtcbmNvbnN0IGxpZ2h0WWVsbG93X2NvbG9yX2ZyYW1lID0gc2ltcGxlRnJhbWUoZGFya0NvbG9yLCBsaWdodFllbGxvd0NvbG9yKTtcbmNvbnN0IG1lZGl1bVllbGxvd19jb2xvcl9mcmFtZSA9IHNpbXBsZUZyYW1lKGRhcmtDb2xvciwgbWVkaXVtWWVsbG93Q29sb3IpO1xuY29uc3QgbGlua0ltYWdlX2ZyYW1lID0gZWxldmF0ZWRGcmFtZShkYXJrQ29sb3IsIG1lZGl1bUNvbG9yLCBtZWRpdW1Db2xvcik7XG5jb25zdCBpbWdfZnJhbWUgPSByb3VuZGVkRnJhbWUoZGFya0NvbG9yLCBsaWdodENvbG9yKTtcbmNvbnN0IHNuaXBwZXRfZnJhbWUgPSByb3VuZGVkRnJhbWUoZXh0cmFEYXJrQ29sb3IsIGxpZ2h0R3JlZW5Db2xvcik7XG5jb25zdCBleGNlcnB0X2ZyYW1lID0gcm91bmRlZEZyYW1lKGV4dHJhRGFya0NvbG9yLCBsaWdodEdyZWVuQ29sb3IpO1xuY29uc3QgYnV0dG9uX2ZyYW1lID0gZWxldmF0ZWRGcmFtZShleHRyYURhcmtDb2xvciwgbWVkaXVtQ29sb3IsIGRpbUNvbG9yLCBcIjAuNVwiKTtcbmNvbnN0IGJpZ19idXR0b25fZnJhbWUgPSBlbGV2YXRlZEZyYW1lKGV4dHJhRGFya0NvbG9yLCBtZWRpdW1Db2xvciwgZGltQ29sb3IsIFwiMC43NVwiKTtcbmNvbnN0IHRleHRfaW5wdXRfZnJhbWUgPSBlbGV2YXRlZEZyYW1lKGRpbUNvbG9yLCBsaWdodENvbG9yLCBtZWRpdW1Db2xvciwgXCIwLjI1XCIpO1xuY29uc3QgbGlzdF9zY3JvbGxfcGFuZWxfZnJhbWUgPSBvdXRsaW5lZEZyYW1lKGRhcmtDb2xvciwgbGlnaHRDb2xvciwgZGltQ29sb3IsIFwiMC4xXCIpO1xuY29uc3QgbGlzdF9pdGVtX2ZyYW1lID0gb3V0bGluZWRGcmFtZShtZWRpdW1Db2xvciwgbGlnaHRDb2xvciwgbGlnaHRDb2xvciwgXCIwLjFcIik7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBPcmllbnRhdGlvbi1EZXBlbmRlbnQgU3R5bGVzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBzdHlsZXNGb3JPcmllbnRhdGlvbiA9IChsYW5kc2NhcGU6IGJvb2xlYW4pOiBzdHJpbmcgPT5cbmBcbkBzdXBwb3J0cygtbW96LWFwcGVhcmFuY2U6bm9uZSkge1xuXHQqIHtcblx0XHRzY3JvbGxiYXItd2lkdGg6ICR7bGFuZHNjYXBlID8gXCJhdXRvXCIgOiBcIm5vbmVcIn07XG5cdFx0c2Nyb2xsYmFyLWNvbG9yOiAke2RpbUNvbG9yfSAke2V4dHJhRGFya0NvbG9yfTtcblx0fVxufVxuOjotd2Via2l0LXNjcm9sbGJhciB7XG5cdHdpZHRoOiAke2xhbmRzY2FwZSA/IHNjcm9sbGJhcl90aGlja25lc3MgOiBcIjBcIn07XG5cdGhlaWdodDogJHtsYW5kc2NhcGUgPyBzY3JvbGxiYXJfdGhpY2tuZXNzIDogXCIwXCJ9O1xufVxuOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG5cdGJhY2tncm91bmQ6ICR7ZXh0cmFEYXJrQ29sb3J9O1xufVxuOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG5cdGJhY2tncm91bmQ6ICR7ZGltQ29sb3J9O1xuXHRib3JkZXItcmFkaXVzOiAke3Njcm9sbGJhcl9ib3JkZXJfcmFkaXVzfTtcblx0Ym9yZGVyOiAke3Njcm9sbGJhcl9ib3JkZXJfdGhpY2tuZXNzfSBzb2xpZCAke2V4dHJhRGFya0NvbG9yfTtcbn1cbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuXHRiYWNrZ3JvdW5kOiAke21lZGl1bUNvbG9yfTtcbn1cbmlmcmFtZSB7XG5cdCR7ZnVsbF9yb3dfYXJlYShsYW5kc2NhcGUpfVxuXHQke21fc3BhY2luZ19tYXJnaW5Pbmx5KGxhbmRzY2FwZSl9XG5cdCR7bF9ib2xkX2ZvbnR9XG5cdCR7bWVkaXVtX2NvbG9yX2ZyYW1lfVxufVxucCB7XG5cdCR7ZnVsbF9yb3dfYXJlYShsYW5kc2NhcGUpfVxuXHQke3hsX3NwYWNpbmdfbWFyZ2luT25seShsYW5kc2NhcGUpfVxuXHQke3NfZm9udH1cblx0JHtsaWdodF9jb2xvcl9mcmFtZX1cbn1cbmgzIHtcblx0JHtmdWxsX3Jvd19hcmVhKGxhbmRzY2FwZSl9XG5cdCR7eGxfc3BhY2luZ19tYXJnaW5Pbmx5KGxhbmRzY2FwZSl9XG5cdCR7bV9ib2xkX2ZvbnR9XG5cdCR7bWVkaXVtWWVsbG93X2NvbG9yX2ZyYW1lfVxufVxuaDIge1xuXHQke2Z1bGxfcm93X2FyZWEobGFuZHNjYXBlKX1cblx0JHt4bF9zcGFjaW5nX21hcmdpbk9ubHkobGFuZHNjYXBlKX1cblx0JHt4bF9ib2xkX2ZvbnR9XG5cdCR7ZGltX2NvbG9yX2ZyYW1lfVxufVxuaDEge1xuXHQke2Z1bGxfcm93X2FyZWEobGFuZHNjYXBlKX1cblx0JHt4bF9zcGFjaW5nX21hcmdpbk9ubHkobGFuZHNjYXBlKX1cblx0JHt4eGxfYm9sZF9mb250fVxuXHQke2xpZ2h0WWVsbG93X2NvbG9yX2ZyYW1lfVxufVxuaHIge1xuXHQke2Z1bGxfcm93X2FyZWEobGFuZHNjYXBlKX1cblx0JHttX3NwYWNpbmdfbWFyZ2luT25seShsYW5kc2NhcGUpfVxuXHQke2xpZ2h0X2NvbG9yX2ZyYW1lfVxufVxuLmZ1bGxzY3JlZW5CYXIge1xuXHQke2xhbmRzY2FwZSA/IGZ1bGxzY3JlZW5fbGVmdF9iYXJfYXJlYSA6IGZ1bGxzY3JlZW5fdG9wX2Jhcl9hcmVhfVxuXHQke3plcm9fc3BhY2luZyhsYW5kc2NhcGUpfVxuXHQke21fYm9sZF9mb250fVxuXHQke2ludmVydGVkX21lZGl1bV9jb2xvcl9mcmFtZX1cblx0dGV4dC1hbGlnbjogJHtmdWxsc2NyZWVuQmFyVGV4dEFsaWdufTtcblx0ei1pbmRleDogMTtcblx0b3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5mdWxsc2NyZWVuUGFuZWwge1xuXHQke2xhbmRzY2FwZSA/IGZ1bGxzY3JlZW5fcmlnaHRfcGFuZWxfYXJlYSA6IGZ1bGxzY3JlZW5fYm90dG9tX3BhbmVsX2FyZWF9XG5cdG1hcmdpbjogMCAwIDAgMDtcblx0cGFkZGluZzogMCAke2Z1bGxzY3JlZW5QYW5lbFdpZHRoUGFkZGluZ1BlcmNlbnR9JSAwICR7ZnVsbHNjcmVlblBhbmVsV2lkdGhQYWRkaW5nUGVyY2VudH0lO1xuXHQke2xfYm9sZF9mb250fVxuXHQke21lZGl1bV9jb2xvcl9mcmFtZX1cblx0b3ZlcmZsb3cteTogc2Nyb2xsO1xuXHRvdmVyZmxvdy14OiBhdXRvO1xufVxuLmZ1bGxzY3JlZW5CYXJMb2dvIHtcblx0JHtsYW5kc2NhcGUgPyBmdWxsc2NyZWVuX2xlZnRfYmFyX2xvZ29fYXJlYSA6IGZ1bGxzY3JlZW5fdG9wX2Jhcl9sb2dvX2FyZWF9XG59XG4uZnVsbHNjcmVlbkJhckxvZ29JbWFnZSB7XG5cdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0ZGlzcGxheTogYmxvY2s7XG5cdG1heC13aWR0aDogODAlO1xuXHRtYXgtaGVpZ2h0OiA3MCU7XG5cdG1hcmdpbjogYXV0bztcbiAgXHR0b3A6IDUwJTtcbiAgXHQtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICBcdHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbn1cbi5mdWxsc2NyZWVuQmFyTWVudSB7XG5cdCR7bGFuZHNjYXBlID8gZnVsbHNjcmVlbl9sZWZ0X2Jhcl9tZW51X2FyZWEgOiBmdWxsc2NyZWVuX3RvcF9iYXJfbWVudV9hcmVhfVxufVxuLmZ1bGxzY3JlZW5CYXJNZW51QnV0dG9uIHtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRkaXNwbGF5OiAke2xhbmRzY2FwZSA/IFwiYmxvY2tcIiA6IFwiaW5saW5lLWJsb2NrXCJ9O1xuXHQke2xhbmRzY2FwZSA/IFwid2lkdGg6IDEwMCU7XCIgOiBcInRvcDogMTAwJTsgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XCJ9XG5cdG1heC1oZWlnaHQ6IDEwMCU7XG5cdCR7bGFuZHNjYXBlID8geGxfc3BhY2luZ19wYWRkaW5nT25seShsYW5kc2NhcGUpIDogc19zcGFjaW5nX3BhZGRpbmdPbmx5KGxhbmRzY2FwZSl9XG5cdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cbi5mdWxsc2NyZWVuQmFyTWVudUJ1dHRvbi5pZGxlIHtcblx0JHtpbnZlcnRlZF9tZWRpdW1fY29sb3JfZnJhbWV9XG59XG4uZnVsbHNjcmVlbkJhck1lbnVCdXR0b24uc2VsZWN0ZWQge1xuXHQke21lZGl1bV9jb2xvcl9mcmFtZX1cbn1cbi5mdWxsc2NyZWVuQmFyTWVudUJ1dHRvbi5pZGxlOmhvdmVyIHtcblx0Y29sb3I6ICR7bGlnaHRZZWxsb3dDb2xvcn07XG59XG4uZnVsbHNjcmVlbkJhck1lbnVCdXR0b24uc2VsZWN0ZWQ6aG92ZXIge1xuXHRjb2xvcjogJHtsaWdodFllbGxvd0NvbG9yfTtcbn1cbi5sb2FkaW5nU2NyZWVuIHtcblx0JHtmdWxsc2NyZWVuX3dob2xlX2FyZWF9XG5cdCR7emVyb19zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdHotaW5kZXg6IDkwMDtcblxuXHQuYmFja2dyb3VuZCB7XG5cdFx0JHtmdWxsc2NyZWVuX3dob2xlX2FyZWF9XG5cdFx0JHt6ZXJvX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0XHQke2xvYWRpbmdfc2NyZWVuX2JhY2tncm91bmRfZnJhbWV9XG5cdH1cblx0LmNvbnRlbnQge1xuXHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRtaW4td2lkdGg6IDUwJTtcblx0XHR0b3A6IDUwJTtcblx0XHRsZWZ0OiA1MCU7XG5cdFx0dHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG5cdFx0JHt4eGxfYm9sZF9mb250fVxuXHRcdCR7eGxfc3BhY2luZyhsYW5kc2NhcGUpfVxuXHRcdCR7bG9hZGluZ19zY3JlZW5fY29udGVudF9mcmFtZX1cblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0ei1pbmRleDogOTAxO1xuXHR9XG59XG4ucG9wdXBTY3JlZW4ge1xuXHQke2Z1bGxzY3JlZW5fd2hvbGVfYXJlYX1cblx0JHt6ZXJvX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0ei1pbmRleDogNTAwO1xuXG5cdC5iYWNrZ3JvdW5kIHtcblx0XHQke2Z1bGxzY3JlZW5fd2hvbGVfYXJlYX1cblx0XHQke3plcm9fc3BhY2luZyhsYW5kc2NhcGUpfVxuXHRcdCR7cG9wdXBfc2NyZWVuX2JhY2tncm91bmRfZnJhbWV9XG5cdH1cblx0LmNvbnRlbnQge1xuXHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHR3aWR0aDogODAlO1xuXHRcdHdpZHRoOiA4MCU7XG5cdFx0dG9wOiA1MCU7XG5cdFx0bGVmdDogNTAlO1xuXHRcdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuXHRcdCR7c19mb250fVxuXHRcdCR7bV9zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdFx0JHtwb3B1cF9zY3JlZW5fY29udGVudF9mcmFtZX1cblx0XHRvdmVyZmxvdy15OiBzY3JvbGw7XG5cdFx0ei1pbmRleDogNTAxO1xuXHR9XG59XG4uc19pbWFnZSB7XG5cdCR7bGFuZHNjYXBlID8gcXVhcnRlcl9jb2xfYXJlYShsYW5kc2NhcGUpIDogaGFsZl9jb2xfYXJlYShsYW5kc2NhcGUpfVxuXHQke21fc3BhY2luZ19tYXJnaW5Pbmx5KGxhbmRzY2FwZSl9XG5cdCR7bF9ib2xkX2ZvbnR9XG5cdCR7aW1nX2ZyYW1lfVxufVxuLm1faW1hZ2Uge1xuXHQke2xhbmRzY2FwZSA/IHRoaXJkX2NvbF9hcmVhKGxhbmRzY2FwZSkgOiBmdWxsX2NvbF9hcmVhKGxhbmRzY2FwZSl9XG5cdCR7bV9zcGFjaW5nX21hcmdpbk9ubHkobGFuZHNjYXBlKX1cblx0JHtsX2JvbGRfZm9udH1cblx0JHtpbWdfZnJhbWV9XG59XG4ubV9saW5rSW1hZ2Uge1xuXHQke2xhbmRzY2FwZSA/IHRoaXJkX2NvbF9hcmVhKGxhbmRzY2FwZSkgOiBuZWFyX2Z1bGxfY29sX2FyZWEobGFuZHNjYXBlKX1cblx0JHttX3NwYWNpbmdfbWFyZ2luT25seShsYW5kc2NhcGUpfVxuXHQke2xfYm9sZF9mb250fVxuXHQke2xpbmtJbWFnZV9mcmFtZX1cbn1cbi5tX2xpbmtJbWFnZTpob3ZlciB7XG5cdGJvcmRlci1jb2xvcjogJHtsaWdodFllbGxvd0NvbG9yfTtcbn1cbi5sX2ltYWdlIHtcblx0JHtsYW5kc2NhcGUgPyBoYWxmX2NvbF9hcmVhKGxhbmRzY2FwZSkgOiBmdWxsX2NvbF9hcmVhKGxhbmRzY2FwZSl9XG5cdCR7bV9zcGFjaW5nX21hcmdpbk9ubHkobGFuZHNjYXBlKX1cblx0JHtsX2JvbGRfZm9udH1cblx0JHtpbWdfZnJhbWV9XG59XG4ucG9ydGFsIHtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRkaXNwbGF5OiBibG9jaztcblx0bWFyZ2luOiAke2xhbmRzY2FwZSA/IFwiNSVcIiA6IFwiMTIuNSVcIn0gMDtcblx0cGFkZGluZzogMCAwO1xuXHRtYXgtd2lkdGg6ICR7bGFuZHNjYXBlID8gXCIzMCVcIiA6IFwiNzAlXCJ9O1xufVxuLnBvc3RFbnRyeUJ1dHRvbiB7XG5cdCR7ZmxleGlibGVfcm93X2FyZWEobGFuZHNjYXBlKX1cblx0JHtzX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0JHtzX2JvbGRfZm9udH1cblx0JHtidXR0b25fZnJhbWV9XG5cdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cbi5wb3N0RW50cnlCdXR0b246aG92ZXIge1xuXHRib3JkZXItY29sb3I6ICR7bGlnaHRZZWxsb3dDb2xvcn07XG59XG4uYmlnQnV0dG9uIHtcblx0JHtmbGV4aWJsZV9yb3dfYXJlYShsYW5kc2NhcGUpfVxuXHQke3h4bF9zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdCR7bV9ib2xkX2ZvbnR9XG5cdCR7YmlnX2J1dHRvbl9mcmFtZX1cblx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uYmlnQnV0dG9uOmhvdmVyIHtcblx0Ym9yZGVyLWNvbG9yOiAke2xpZ2h0WWVsbG93Q29sb3J9O1xufVxuLnBhZ2VQYXRoIHtcblx0JHtzX3NwYWNpbmdfbWFyZ2luT25seShsYW5kc2NhcGUpfVxuXHQke3NfZm9udH1cbn1cbi5saXN0U2Nyb2xsUGFuZWwge1xuXHQke2xpc3Rfc2Nyb2xsX3BhbmVsX2FyZWEobGFuZHNjYXBlKX1cblx0JHtzX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0JHtsaXN0X3Njcm9sbF9wYW5lbF9mcmFtZX1cblx0b3ZlcmZsb3c6IGF1dG87XG59XG4ubGlzdEl0ZW0ge1xuXHQke2ZsZXhpYmxlX3Jvd19hcmVhKGxhbmRzY2FwZSl9XG5cdCR7c19zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdCR7c19mb250fVxuXHQke2xpc3RfaXRlbV9mcmFtZX1cblx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuLmlubGluZVRleHRJbnB1dCB7XG5cdCR7bGFuZHNjYXBlID8gZmxleGlibGVfY29sX2FyZWEobGFuZHNjYXBlKSA6IGZsZXhpYmxlX3Jvd19hcmVhKGxhbmRzY2FwZSl9XG5cdCR7bGFuZHNjYXBlID8gc19zcGFjaW5nKGxhbmRzY2FwZSkgOiBzX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0JHtzX2ZvbnR9XG5cdCR7dGV4dF9pbnB1dF9mcmFtZX1cbn1cbi5pbmxpbmVMYWJlbCB7XG5cdCR7ZmxleGlibGVfY29sX2FyZWEobGFuZHNjYXBlKX1cblx0JHtzX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0JHtzX2ZvbnR9XG5cdCR7bWVkaXVtX2NvbG9yX2ZyYW1lfVxufVxuLmlubGluZUJ1dHRvbiB7XG5cdCR7ZmxleGlibGVfY29sX2FyZWEobGFuZHNjYXBlKX1cblx0JHtzX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0JHtzX2ZvbnR9XG5cdCR7YnV0dG9uX2ZyYW1lfVxuXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4uaW5saW5lQnV0dG9uOmhvdmVyIHtcblx0Ym9yZGVyLWNvbG9yOiAke2xpZ2h0WWVsbG93Q29sb3J9O1xuXHRjdXJzb3I6IHBvaW50ZXI7XG59XG4uaW5saW5lQnV0dG9uOmRpc2FibGVkIHtcblx0b3BhY2l0eTogMC4yNTtcblx0Y3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cbi5pbmxpbmVUYWJCdXR0b24ge1xuXHQke2ZsZXhpYmxlX2NvbF9hcmVhKGxhbmRzY2FwZSl9XG5cdCR7c19zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdCR7c19mb250fVxuXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4uaW5saW5lVGFiQnV0dG9uLmlkbGUge1xuXHQke2xpZ2h0X2NvbG9yX2ZyYW1lfVxufVxuLmlubGluZVRhYkJ1dHRvbi5zZWxlY3RlZCB7XG5cdCR7dW5kZXJsaW5lZF9saWdodF9jb2xvcl9mcmFtZX1cbn1cbi5pbmxpbmVUYWJCdXR0b24uaWRsZTpob3ZlciB7XG5cdGNvbG9yOiAke2xpZ2h0WWVsbG93Q29sb3J9O1xufVxuLmlubGluZVRhYkJ1dHRvbi5zZWxlY3RlZDpob3ZlciB7XG5cdGNvbG9yOiAke2xpZ2h0WWVsbG93Q29sb3J9O1xufVxuLnNuaXBwZXQge1xuXHQke2ZsZXhpYmxlX3Jvd19hcmVhKGxhbmRzY2FwZSl9XG5cdCR7bV9zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdCR7c19ib2xkX2ZvbnR9XG5cdCR7c25pcHBldF9mcmFtZX1cblx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cbi5leGNlcnB0IHtcblx0JHtmdWxsX3Jvd19hcmVhKGxhbmRzY2FwZSl9XG5cdCR7bV9zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdCR7c19pdGFsaWNfZm9udH1cblx0JHtleGNlcnB0X2ZyYW1lfVxuXHR3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG5cdHdoaXRlLXNwYWNlOiAtbW96LXByZS13cmFwO1xuXHR3aGl0ZS1zcGFjZTogLXByZS13cmFwO1xuXHR3aGl0ZS1zcGFjZTogLW8tcHJlLXdyYXA7XG5cdHdvcmQtd3JhcDogYnJlYWstd29yZDtcbn1cbi56ZXJvX3JvdyB7XG5cdCR7dGlueV9yb3dfYXJlYSgpfVxuXHQke3plcm9fc3BhY2luZygpfVxuXHQke3RyYW5zcGFyZW50X2ZyYW1lfVxufVxuLnhzX3JvdyB7XG5cdCR7dGlueV9yb3dfYXJlYShsYW5kc2NhcGUpfVxuXHQke3hzX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0JHt0cmFuc3BhcmVudF9mcmFtZX1cbn1cbi5zX3JvdyB7XG5cdCR7dGlueV9yb3dfYXJlYShsYW5kc2NhcGUpfVxuXHQke3Nfc3BhY2luZyhsYW5kc2NhcGUpfVxuXHQke3RyYW5zcGFyZW50X2ZyYW1lfVxufVxuLm1fcm93IHtcblx0JHt0aW55X3Jvd19hcmVhKGxhbmRzY2FwZSl9XG5cdCR7bV9zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdCR7dHJhbnNwYXJlbnRfZnJhbWV9XG59XG4ubF9yb3cge1xuXHQke3Rpbnlfcm93X2FyZWEobGFuZHNjYXBlKX1cblx0JHtsX3NwYWNpbmcobGFuZHNjYXBlKX1cblx0JHt0cmFuc3BhcmVudF9mcmFtZX1cbn1cbi54bF9yb3cge1xuXHQke3Rpbnlfcm93X2FyZWEobGFuZHNjYXBlKX1cblx0JHt4bF9zcGFjaW5nKGxhbmRzY2FwZSl9XG5cdCR7dHJhbnNwYXJlbnRfZnJhbWV9XG59XG5gO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ1NTXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBjc3MgPVxuYCoge1xuXHRvdmVyZmxvdzogaGlkZGVuO1xuXHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuYm9keSB7XG5cdCR7ZnVsbHNjcmVlbl93aG9sZV9hcmVhfVxuXHQke3plcm9fc3BhY2luZygpfVxuXHQke3NfZm9udH1cblx0JHtsaWdodF9jb2xvcl9mcmFtZX1cblx0dGV4dC1hbGlnbjogJHtkZWZhdWx0VGV4dEFsaWdufTtcblx0ei1pbmRleDogMDtcbn1cbmE6bGluayB7XG4gIGNvbG9yOiAke21lZGl1bUNvbG9yfTtcbn1cbmE6dmlzaXRlZCB7XG4gIGNvbG9yOiAke21lZGl1bUNvbG9yfTtcbn1cbmE6aG92ZXIge1xuICBjb2xvcjogJHtsaWdodFllbGxvd0NvbG9yfTtcbn1cbmE6YWN0aXZlIHtcbiAgY29sb3I6ICR7bWVkaXVtQ29sb3J9O1xufVxuLmRpbSB7XG5cdCR7ZGltX2NvbG9yX2ZyYW1lfVxufVxuLm5vVGV4dERlY28ge1xuXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG4uaG9yaXpvbnRhbGx5Q2VudGVyZWQge1xuXHRsZWZ0OiA1MCU7XG5cdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xufVxuXG5AbWVkaWEgKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpIHtcblx0JHtzdHlsZXNGb3JPcmllbnRhdGlvbih0cnVlKX1cbn1cblxuQG1lZGlhIChvcmllbnRhdGlvbjogcG9ydHJhaXQpIHtcblx0JHtzdHlsZXNGb3JPcmllbnRhdGlvbihmYWxzZSl9XG59YDtcblxuZXhwb3J0IGRlZmF1bHQgY3NzOyIsImltcG9ydCBTZXJ2ZXJMb2dVdGlsIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3V0aWwvc2VydmVyTG9nVXRpbFwiO1xuaW1wb3J0IEZpbGVVdGlsIGZyb20gXCIuL2ZpbGVVdGlsXCI7XG5pbXBvcnQgVUlDb25maWcgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9lbWJlZGRlZFNjcmlwdHMvY29uZmlnL3VpQ29uZmlnXCI7XG5pbXBvcnQgVGV4dFV0aWwgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9lbWJlZGRlZFNjcmlwdHMvdXRpbC90ZXh0VXRpbFwiO1xuaW1wb3J0IGVqcyBmcm9tIFwiZWpzXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBBZGRyZXNzVXRpbCBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy91dGlsL2FkZHJlc3NVdGlsXCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IGVqc1BhcnRpYWxSb290UGF0aCA9IGAke3Byb2Nlc3MuZW52LlBXRH0vJHtwcm9jZXNzLmVudi5WSUVXU19ST09UX0RJUn0vcGFydGlhbGA7XG5cbmNvbnN0IGJhc2VTdGF0aWNQYWdlRUpTUGFyYW1zID0ge1xuICAgIFRleHRVdGlsLCBVSUNvbmZpZyxcbiAgICBlanNQYXJ0aWFsUm9vdFBhdGgsXG4gICAgaXNTdGF0aWNQYWdlOiB0cnVlLFxufTtcbmNvbnN0IGJhc2VEeW5hbWljUGFnZUVKU1BhcmFtcyA9IHtcbiAgICBUZXh0VXRpbCwgVUlDb25maWcsXG4gICAgZWpzUGFydGlhbFJvb3RQYXRoLFxuICAgIGlzU3RhdGljUGFnZTogZmFsc2UsXG59O1xuXG5jb25zdCBjYWNoZWRFSlNTdHJpbmdzOiB7W3JlbGF0aXZlRUpTRmlsZVBhdGg6IHN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuY29uc3QgRUpTVXRpbCA9XG57XG4gICAgcmVuZGVyOiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBlanNWaWV3UGF0aDogc3RyaW5nLFxuICAgICAgICBjdXN0b21FSlNQYXJhbXM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogdm9pZCA9PlxuICAgIHtcbiAgICAgICAgcmVzLnJlbmRlcihlanNWaWV3UGF0aCwgRUpTVXRpbC5tYWtlRUpTUGFyYW1zKHJlcSwgY3VzdG9tRUpTUGFyYW1zKSwgKGVycjogRXJyb3IsIGh0bWw6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaHRtbCA9IEVKU1V0aWwucG9zdFByb2Nlc3NIVE1MKGh0bWwpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZXRIZWFkZXIoXCJjb250ZW50LXR5cGVcIiwgXCJ0ZXh0L2h0bWxcIikuc2VuZChodG1sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwb3N0UHJvY2Vzc0hUTUw6IChodG1sOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpcCA9IEFkZHJlc3NVdGlsLmdldExvY2FsSXBBZGRyZXNzKCk7XG4gICAgICAgICAgICBodG1sID0gaHRtbFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiXFxuXCIsIFwiISpORVdfTElORSohXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhQUk9EX0NPREVfQkVHSU4pLio/KFBST0RfQ09ERV9FTkQpL2csIFwiUkVNT1ZFRF9QUk9EX0NPREVcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIiEqTkVXX0xJTkUqIVwiLCBcIlxcblwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKHByb2Nlc3MuZW52LlVSTF9TVEFUSUMgYXMgc3RyaW5nLCBgaHR0cDovLyR7aXB9OiR7cHJvY2Vzcy5lbnYuUE9SVH1gKSAvLyBJbiBkZXYgbW9kZSwgdGhlIGR5bmFtaWMgc2VydmVyIHdpbGwgYWxzbyBwbGF5IHRoZSByb2xlIG9mIHRoZSBzdGF0aWMgc2VydmVyIHNpbXVsdGFuZW91c2x5LlxuICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKHByb2Nlc3MuZW52LlVSTF9EWU5BTUlDIGFzIHN0cmluZywgYGh0dHA6Ly8ke2lwfToke3Byb2Nlc3MuZW52LlBPUlR9YCk7XG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtYWtlRUpTUGFyYW1zOiAocmVxOiBSZXF1ZXN0LCBjdXN0b21FSlNQYXJhbXM6IHtba2V5OiBzdHJpbmddOiBhbnl9KToge1trZXk6IHN0cmluZ106IGFueX0gPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IG1lcmdlZEVKU1BhcmFtczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7fTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtZXJnZWRFSlNQYXJhbXMsIGJhc2VEeW5hbWljUGFnZUVKU1BhcmFtcyk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkRUpTUGFyYW1zLCBjdXN0b21FSlNQYXJhbXMpO1xuXG4gICAgICAgIGlmIChtZXJnZWRFSlNQYXJhbXMudXNlclN0cmluZylcbiAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiJ3VzZXJTdHJpbmcnIHNob3VsZG4ndCBiZSBkZWZpbmVkIG1hbnVhbGx5IGluIEVKUyBwYXJhbXMuXCIsIHttZXJnZWRFSlNQYXJhbXN9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICBtZXJnZWRFSlNQYXJhbXMudXNlclN0cmluZyA9IChyZXEgYXMgYW55KS51c2VyU3RyaW5nO1xuXG4gICAgICAgIGlmIChtZXJnZWRFSlNQYXJhbXMuZ2xvYmFsRGljdGlvbmFyeSlcbiAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiJ2dsb2JhbERpY3Rpb25hcnknIHNob3VsZG4ndCBiZSBkZWZpbmVkIG1hbnVhbGx5IGluIEVKUyBwYXJhbXMuXCIsIHttZXJnZWRFSlNQYXJhbXN9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICBtZXJnZWRFSlNQYXJhbXMuZ2xvYmFsRGljdGlvbmFyeSA9IHt9O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1lcmdlZEVKU1BhcmFtcztcbiAgICB9LFxuICAgIG1ha2VFSlNQYXJhbXNTdGF0aWM6IChjdXN0b21FSlNQYXJhbXM6IHtba2V5OiBzdHJpbmddOiBhbnl9KToge1trZXk6IHN0cmluZ106IGFueX0gPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IG1lcmdlZEVKU1BhcmFtcyA9IHt9O1xuICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZEVKU1BhcmFtcywgYmFzZVN0YXRpY1BhZ2VFSlNQYXJhbXMpO1xuICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZEVKU1BhcmFtcywgY3VzdG9tRUpTUGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZEVKU1BhcmFtcztcbiAgICB9LFxuICAgIGNyZWF0ZVN0YXRpY0hUTUxGcm9tRUpTOiBhc3luYyAocmVsYXRpdmVFSlNGaWxlUGF0aDogc3RyaW5nLFxuICAgICAgICBjdXN0b21FSlNQYXJhbXM6IHtba2V5OiBzdHJpbmddOiBhbnl9ID0ge30pOiBQcm9taXNlPHN0cmluZz4gPT5cbiAgICB7XG4gICAgICAgIGxldCBlanNTdHJpbmcgPSBjYWNoZWRFSlNTdHJpbmdzW3JlbGF0aXZlRUpTRmlsZVBhdGhdO1xuICAgICAgICBpZiAoZWpzU3RyaW5nID09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgZWpzU3RyaW5nID0gYXdhaXQgRmlsZVV0aWwucmVhZChyZWxhdGl2ZUVKU0ZpbGVQYXRoLCBwcm9jZXNzLmVudi5WSUVXU19ST09UX0RJUik7XG4gICAgICAgICAgICBjYWNoZWRFSlNTdHJpbmdzW3JlbGF0aXZlRUpTRmlsZVBhdGhdID0gZWpzU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBlanMuY29tcGlsZShlanNTdHJpbmcpO1xuICAgICAgICBjb25zdCBodG1sU3RyaW5nID0gdGVtcGxhdGUoRUpTVXRpbC5tYWtlRUpTUGFyYW1zU3RhdGljKGN1c3RvbUVKU1BhcmFtcykpO1xuICAgICAgICByZXR1cm4gaHRtbFN0cmluZztcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBFSlNVdGlsOyIsImltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgZnMgZnJvbSBcImZzL3Byb21pc2VzXCI7XG5pbXBvcnQgU2VydmVyTG9nVXRpbCBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy91dGlsL3NlcnZlckxvZ1V0aWxcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBGaWxlVXRpbCA9XG57XG4gICAgcmVhZDogYXN5bmMgKHJlbGF0aXZlRmlsZVBhdGg6IHN0cmluZywgcm9vdERpcj86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PlxuICAgIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlRmlsZVBhdGggPSBGaWxlVXRpbC5nZXRBYnNvbHV0ZUZpbGVQYXRoKHJlbGF0aXZlRmlsZVBhdGgsIHJvb3REaXIpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgUmVhZGluZyAtLS0+ICR7YWJzb2x1dGVGaWxlUGF0aH1gKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZShhYnNvbHV0ZUZpbGVQYXRoLCB7ZW5jb2Rpbmc6ICd1dGY4J30pO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2coXCJGYWlsZWQgdG8gcmVhZCBmaWxlXCIsIHtyZWxhdGl2ZUZpbGVQYXRoLCBlcnJ9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHdyaXRlOiBhc3luYyAocmVsYXRpdmVGaWxlUGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHJvb3REaXI/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVGaWxlUGF0aCA9IEZpbGVVdGlsLmdldEFic29sdXRlRmlsZVBhdGgocmVsYXRpdmVGaWxlUGF0aCwgcm9vdERpcik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBXcml0aW5nIC0tLT4gJHthYnNvbHV0ZUZpbGVQYXRofWApO1xuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKGFic29sdXRlRmlsZVBhdGgsIGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiRmFpbGVkIHRvIHdyaXRlIGZpbGVcIiwge3JlbGF0aXZlRmlsZVBhdGgsIGVycn0gYXMgYW55LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRBbGxSZWxhdGl2ZVBhdGhzSW5EaXJSZWN1cnNpdmVseTogYXN5bmMgKGRpcjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4gPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGFic29sdXRlRGlyUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmVudi5QV0QgYXMgc3RyaW5nLCBkaXIpO1xuICAgICAgICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGF3YWl0IEZpbGVVdGlsLmdldEFsbFJlbGF0aXZlUGF0aHNJbkRpclJlY3Vyc2l2ZWx5X2ludGVybmFsKGFic29sdXRlRGlyUGF0aCwgW10sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBnZXRBYnNvbHV0ZUZpbGVQYXRoKHJlbGF0aXZlRmlsZVBhdGg6IHN0cmluZywgcm9vdERpcj86IHN0cmluZyk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKHJvb3REaXIgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcm9vdERpciA9IHByb2Nlc3MuZW52LlNUQVRJQ19QQUdFX1JPT1RfRElSO1xuICAgICAgICByZXR1cm4gcGF0aC5qb2luKHByb2Nlc3MuZW52LlBXRCBhcyBzdHJpbmcsIHJvb3REaXIgKyBcIi9cIiArIHJlbGF0aXZlRmlsZVBhdGgpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0QWxsUmVsYXRpdmVQYXRoc0luRGlyUmVjdXJzaXZlbHlfaW50ZXJuYWwoXG4gICAgICAgIGFic29sdXRlRGlyUGF0aDogc3RyaW5nLCBzdWJEaXJzOiBzdHJpbmdbXSwgcmVzdWx0OiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD5cbiAgICB7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lcyA9IGF3YWl0IGZzLnJlYWRkaXIoYWJzb2x1dGVEaXJQYXRoKTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlTmFtZSBvZiBmaWxlTmFtZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YkRpcnNOZXcgPSBzdWJEaXJzLmNvbmNhdChmaWxlTmFtZSk7XG4gICAgICAgICAgICBjb25zdCBhYnNvbHV0ZUZpbGVQYXRoID0gYCR7YWJzb2x1dGVEaXJQYXRofS8ke2ZpbGVOYW1lfWA7XG4gICAgICAgICAgICBjb25zdCBsc3RhdCA9IGF3YWl0IGZzLmxzdGF0KGFic29sdXRlRmlsZVBhdGgpO1xuICAgICAgICAgICAgaWYgKGxzdGF0LmlzRmlsZSgpKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN1YkRpcnNOZXcuam9pbihcIi9cIikpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGF3YWl0IEZpbGVVdGlsLmdldEFsbFJlbGF0aXZlUGF0aHNJbkRpclJlY3Vyc2l2ZWx5X2ludGVybmFsKGFic29sdXRlRmlsZVBhdGgsIHN1YkRpcnNOZXcsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbGVVdGlsOyIsImltcG9ydCBTZXJ2ZXJMb2dVdGlsIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3V0aWwvc2VydmVyTG9nVXRpbFwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3VzZXIvdHlwZXMvdXNlclwiO1xuaW1wb3J0IFVzZXJUb2tlblV0aWwgZnJvbSBcIi4vdXNlclRva2VuVXRpbFwiO1xuaW1wb3J0IFVzZXJTZWFyY2hVdGlsIGZyb20gXCIuL3VzZXJTZWFyY2hVdGlsXCI7XG5pbXBvcnQgVXNlckRCIGZyb20gXCIuLi8uLi9kYi91c2VyREJcIjtcbmltcG9ydCB7IFVzZXJUeXBlRW51bU1hcCB9IGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvdXNlci90eXBlcy91c2VyVHlwZVwiO1xuaW1wb3J0IHVybCBmcm9tIFwidXJsXCI7XG5pbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcbmltcG9ydCBSZXN0QVBJIGZyb20gXCIuLi8uLi8uLi9jbGllbnQvbmV0d29ya2luZy9hcGkvcmVzdEFQSVwiO1xuaW1wb3J0IFNlYXJjaERCIGZyb20gXCIuLi8uLi9kYi9zZWFyY2hEQlwiO1xuaW1wb3J0IFNRTFVzZXIgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9kYi90eXBlcy9zcWxVc2VyXCI7XG5pbXBvcnQgeyBVU0VSX0FQSV9ST1VURV9QQVRIIH0gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9zeXN0ZW0vY29uc3RhbnRzXCI7XG5pbXBvcnQgQWRkcmVzc1V0aWwgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdXRpbC9hZGRyZXNzVXRpbFwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBkZXYgPSBwcm9jZXNzLmVudi5NT0RFID09IFwiZGV2XCI7XG5cbmNvbnN0IFVzZXJBdXRoR29vZ2xlVXRpbCA9XG57XG4gICAgbG9naW46IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAge1xuICAgICAgICByZXMucmVkaXJlY3QoZ2VuZXJhdGVPQXV0aFVSTCgpKTtcbiAgICB9LFxuICAgIGxvZ2luQ2FsbGJhY2s6IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAge1xuICAgICAgICB0cnlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB1cmwucGFyc2UocmVxLnVybCwgdHJ1ZSkucXVlcnk7XG4gICAgICAgICAgICBpZiAoIXF1ZXJ5IHx8ICFxdWVyeS5jb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBHb29nbGUgT0F1dGggY29kZSBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW5SZXMgPSBhd2FpdCBSZXN0QVBJLnBvc3QoZ2VuZXJhdGVUb2tlblVSTChxdWVyeS5jb2RlIGFzIHN0cmluZykpO1xuICAgICAgICAgICAgaWYgKGFjY2Vzc1Rva2VuUmVzLnN0YXR1cyA8IDIwMCB8fCBhY2Nlc3NUb2tlblJlcy5zdGF0dXMgPj0gMzAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGBGYWlsZWQgdG8gZmV0Y2ggdGhlIGFjY2VzcyB0b2tlbiBmcm9tIEdvb2dsZSBBUEkuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlblJlcy5kYXRhLmFjY2Vzc190b2tlbiBhcyBzdHJpbmc7XG4gICAgICAgICAgICBjb25zdCB1c2VySW5mb1JlcyA9IGF3YWl0IFJlc3RBUEkuZ2V0KHVzZXJJbmZvVVJMLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodXNlckluZm9SZXMuc3RhdHVzIDwgMjAwIHx8IHVzZXJJbmZvUmVzLnN0YXR1cyA+PSAzMDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoYEZhaWxlZCB0byBmZXRjaCB0aGUgdXNlciBpbmZvIGZyb20gR29vZ2xlIEFQSS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VySW5mbyA9IHVzZXJJbmZvUmVzLmRhdGEgYXMgR29vZ2xlVXNlckluZm87XG4gICAgICAgICAgICBjb25zdCBlbWFpbCA9IHVzZXJJbmZvLmVtYWlsO1xuICAgICAgICAgICAgaWYgKCFlbWFpbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIkVtYWlsIGFkZHJlc3Mgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyTmFtZUJhc2UgPSBlbWFpbC5zcGxpdChcIkBcIilbMF07XG4gICAgICAgICAgICBsZXQgdXNlck5hbWUgPSB1c2VyTmFtZUJhc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVXNlcnNSZXN1bHQgPSBhd2FpdCBTZWFyY2hEQi51c2Vycy53aXRoRW1haWwoZW1haWwpO1xuICAgICAgICAgICAgaWYgKCFleGlzdGluZ1VzZXJzUmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoYEludGVybmFsIFNlcnZlciBFcnJvcmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHNxbFVzZXI6IFNRTFVzZXIgfCBudWxsID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcnNSZXN1bHQuZGF0YS5sZW5ndGggPT0gMCkgLy8gbmV3IHVzZXJcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgbnVtTmFtZUNvcGllcyA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCFzcWxVc2VyICYmICsrbnVtTmFtZUNvcGllcyA8PSA1KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bU5hbWVDb3BpZXMgPj0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lID0gYCR7dXNlck5hbWVCYXNlfSMke251bU5hbWVDb3BpZXN9YDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZUNvbmZsaWN0aW5nVXNlcnNSZXN1bHQgPSBhd2FpdCBTZWFyY2hEQi51c2Vycy53aXRoVXNlck5hbWUodXNlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5hbWVDb25mbGljdGluZ1VzZXJzUmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUNvbmZsaWN0aW5nVXNlcnNSZXN1bHQuZGF0YS5sZW5ndGggPT0gMCkgLy8gZnJlZSB1c2VyTmFtZSBmb3VuZFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgVXNlckRCLmNyZWF0ZVVzZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWUsIFVzZXJUeXBlRW51bU1hcC5NZW1iZXIsIFwiXCIsIGVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3VjY2VzcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChgSW50ZXJuYWwgU2VydmVyIEVycm9yIChkdXJpbmcgcmVnaXN0cmF0aW9uKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFVzZXIgPSBhd2FpdCBVc2VyU2VhcmNoVXRpbC5maW5kRXhpc3RpbmdVc2VyQnlVc2VyTmFtZSh1c2VyTmFtZSwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3FsVXNlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzcWxVc2VyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoYFVzZXJuYW1lIFwiJHt1c2VyTmFtZUJhc2V9XCIgaXMgdXNlZCB0b28gbWFueSB0aW1lcy5gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgLy8gcHJldmlvdXNseSByZWdpc3RlcmVkIHVzZXJcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcWxVc2VyID0gZXhpc3RpbmdVc2Vyc1Jlc3VsdC5kYXRhWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3FsVXNlcilcbiAgICAgICAgICAgICAgICBhd2FpdCBVc2VyVG9rZW5VdGlsLmFkZFRva2VuVG9Vc2VyKFVzZXIuZnJvbVNRTChzcWxVc2VyKSwgcmVxLCByZXMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIkxvZ2luIEVycm9yXCIsIHtlcnJ9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoYEVSUk9SOiBGYWlsZWQgdG8gbG9naW4gKCR7ZXJyfSkuYCk7XG4gICAgICAgIH1cbiAgICB9LFxufVxuXG5jb25zdCBjbGllbnRJZCA9IHByb2Nlc3MuZW52LkdPT0dMRV9PQVVUSF9DTElFTlRfSUQ7XG5jb25zdCBjbGllbnRTZWNyZXQgPSBwcm9jZXNzLmVudi5HT09HTEVfT0FVVEhfQ0xJRU5UX1NFQ1JFVDtcbmNvbnN0IGJhc2VVUkwgPSBkZXYgPyBgaHR0cDovLyR7QWRkcmVzc1V0aWwuZ2V0TG9jYWxJcEFkZHJlc3MoKX06JHtwcm9jZXNzLmVudi5QT1JUfWAgOiBwcm9jZXNzLmVudi5VUkxfRFlOQU1JQztcbmNvbnN0IHJlZGlyZWN0VVJMID0gYCR7YmFzZVVSTH0vJHtVU0VSX0FQSV9ST1VURV9QQVRIfS9sb2dpbl9nb29nbGVfY2FsbGJhY2tgO1xuY29uc3QgdXNlckluZm9VUkwgPSBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3VzZXJpbmZvP2FsdD1qc29uYDtcblxuZnVuY3Rpb24gZ2VuZXJhdGVPQXV0aFVSTCgpOiBzdHJpbmdcbntcbiAgICByZXR1cm4gYGh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi92Mi9hdXRoP2NsaWVudF9pZD0ke2NsaWVudElkfSZyZXNwb25zZV90eXBlPWNvZGUmcmVkaXJlY3RfdXJpPSR7cmVkaXJlY3RVUkx9JnNjb3BlPW9wZW5pZCUyMHByb2ZpbGUlMjBlbWFpbCZhY2Nlc3NfdHlwZT1vZmZsaW5lJnN0YXRlPSR7Y3J5cHRvLnJhbmRvbVVVSUQoKX0mcHJvbXB0PWNvbnNlbnRgO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRva2VuVVJMKGNvZGU6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIHJldHVybiBgaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4/Y29kZT0ke2NvZGV9JmNsaWVudF9pZD0ke2NsaWVudElkfSZjbGllbnRfc2VjcmV0PSR7Y2xpZW50U2VjcmV0fSZyZWRpcmVjdF91cmk9JHtyZWRpcmVjdFVSTH0mZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGVgO1xufVxuXG5pbnRlcmZhY2UgR29vZ2xlVXNlckluZm9cbntcbiAgc3ViOiBzdHJpbmc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICB2ZXJpZmllZF9lbWFpbD86IGJvb2xlYW47XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGdpdmVuX25hbWU/OiBzdHJpbmc7XG4gIGZhbWlseV9uYW1lPzogc3RyaW5nO1xuICBwaWN0dXJlPzogc3RyaW5nO1xuICBsb2NhbGU/OiBzdHJpbmc7XG4gIGhkPzogc3RyaW5nOyAvLyBIb3N0ZWQgZG9tYWluIGUuZy4gZXhhbXBsZS5jb21cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckF1dGhHb29nbGVVdGlsOyIsImltcG9ydCBTZXJ2ZXJMb2dVdGlsIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3V0aWwvc2VydmVyTG9nVXRpbFwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvdXNlci90eXBlcy91c2VyXCI7XG5pbXBvcnQgeyBVc2VyVHlwZUVudW1NYXAgfSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3VzZXIvdHlwZXMvdXNlclR5cGVcIjtcbmltcG9ydCBVc2VyVG9rZW5VdGlsIGZyb20gXCIuL3VzZXJUb2tlblV0aWxcIjtcbmltcG9ydCBVc2VyU2VhcmNoVXRpbCBmcm9tIFwiLi91c2VyU2VhcmNoVXRpbFwiO1xuaW1wb3J0IFVzZXJJbnB1dFZhbGlkYXRvciBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3VzZXIvdXRpbC91c2VySW5wdXRWYWxpZGF0b3JcIjtcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9sb2NhbGl6YXRpb24vdXRpbC9sb2NVdGlsXCI7XG5pbXBvcnQgU2VhcmNoREIgZnJvbSBcIi4uLy4uL2RiL3NlYXJjaERCXCI7XG5pbXBvcnQgVXNlckRCIGZyb20gXCIuLi8uLi9kYi91c2VyREJcIjtcbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgZGV2ID0gcHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiO1xuXG5jb25zdCBVc2VyQXV0aFBhc3N3b3JkVXRpbCA9XG57XG4gICAgcmVnaXN0ZXI6IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAge1xuICAgICAgICB0cnlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVVzZXJOYW1lQW5kUGFzc3dvcmQocmVxLCByZXMpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdVc2Vyc1Jlc3VsdCA9IGF3YWl0IFNlYXJjaERCLnVzZXJzLndpdGhVc2VyTmFtZU9yRW1haWwoXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkudXNlck5hbWUsIFwidGVzdEBleGFtcGxlLmNvbVwiKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdVc2Vyc1Jlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IgKGR1cmluZyBzZWFyY2gpYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcnNSZXN1bHQuZGF0YS5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiVXNlciBhbHJlYWR5IGV4aXN0c1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiByZXEuYm9keS51c2VyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IFwidGVzdEBleGFtcGxlLmNvbVwiLFxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1VzZXI6IGV4aXN0aW5nVXNlcnNSZXN1bHQuZGF0YVswXVxuICAgICAgICAgICAgICAgIH0sIFwiaGlnaFwiLCBcInBpbmtcIik7XG5cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZChgVXNlciBcIiR7cmVxLmJvZHkudXNlck5hbWV9XCIgKCR7XCJ0ZXN0QGV4YW1wbGUuY29tXCJ9KSBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBjb25zdCBwYXNzd29yZEhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgMTApO1xuICAgIFxuICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IFVzZXJEQi5jcmVhdGVVc2VyKFxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnVzZXJOYW1lLCBVc2VyVHlwZUVudW1NYXAuTWVtYmVyLCBwYXNzd29yZEhhc2gsIFwidGVzdEBleGFtcGxlLmNvbVwiKTtcbiAgICAgICAgICAgIGlmICghc3VjY2VzcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChgSW50ZXJuYWwgU2VydmVyIEVycm9yIChkdXJpbmcgcmVnaXN0cmF0aW9uKWApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3FsVXNlciA9IGF3YWl0IFVzZXJTZWFyY2hVdGlsLmZpbmRFeGlzdGluZ1VzZXJCeVVzZXJOYW1lKHJlcS5ib2R5LnVzZXJOYW1lLCByZXMpOyAvLyBSZS1mZXRjaCB0aGUgdXNlciBvYmplY3QgKGJlY2F1c2UgaXQgY291bGQndmUgYmVlbiBtb2RpZmllZClcbiAgICAgICAgICAgIGlmICghc3FsVXNlcilcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGF3YWl0IFVzZXJUb2tlblV0aWwuYWRkVG9rZW5Ub1VzZXIoVXNlci5mcm9tU1FMKHNxbFVzZXIpLCByZXEsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycilcbiAgICAgICAge1xuICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2coXCJVc2VyIFJlZ2lzdHJhdGlvbiBFcnJvclwiLCB7ZXJyfSwgXCJoaWdoXCIsIFwicGlua1wiKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGBFUlJPUjogRmFpbGVkIHRvIHJlZ2lzdGVyIHRoZSB1c2VyICgke2Vycn0pLmApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8dm9pZD4gPT5cbiAgICB7XG4gICAgICAgIHRyeVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlVXNlck5hbWVBbmRQYXNzd29yZChyZXEsIHJlcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBzcWxVc2VyID0gYXdhaXQgVXNlclNlYXJjaFV0aWwuZmluZEV4aXN0aW5nVXNlckJ5VXNlck5hbWUocmVxLmJvZHkudXNlck5hbWUsIHJlcyk7XG4gICAgICAgICAgICBpZiAoIXNxbFVzZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBwYXNzd29yZElzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgc3FsVXNlci5wYXNzd29yZEhhc2gpO1xuXG4gICAgICAgICAgICBpZiAoIXBhc3N3b3JkSXNWYWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIldyb25nIHBhc3N3b3JkXCIsIHtwYXNzd29yZEVudGVyZWQ6IChkZXYgPyByZXEuYm9keS5wYXNzd29yZCA6IFwiKEhJRERFTilcIiksIHBhc3N3b3JkSGFzaDogc3FsVXNlci5wYXNzd29yZEhhc2h9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKFwiV3JvbmcgcGFzc3dvcmQuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgVXNlclRva2VuVXRpbC5hZGRUb2tlblRvVXNlcihVc2VyLmZyb21TUUwoc3FsVXNlciksIHJlcSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIkxvZ2luIEVycm9yXCIsIHtlcnJ9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoYEVSUk9SOiBGYWlsZWQgdG8gbG9naW4gKCR7ZXJyfSkuYCk7XG4gICAgICAgIH1cbiAgICB9LFxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVVzZXJOYW1lQW5kUGFzc3dvcmQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHVzZXJOYW1lRXJyb3IgPSBVc2VySW5wdXRWYWxpZGF0b3IuZmluZEVycm9ySW5Vc2VyTmFtZShyZXEuYm9keS51c2VyTmFtZSk7XG4gICAgaWYgKHVzZXJOYW1lRXJyb3IgIT0gbnVsbClcbiAgICB7XG4gICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiVXNlck5hbWUgRXJyb3JcIiwge3VzZXJOYW1lOiByZXEuYm9keS51c2VyTmFtZSwgdXNlck5hbWVFcnJvcn0sIFwiaGlnaFwiLCBcInBpbmtcIik7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGxvY2FsaXplKHVzZXJOYW1lRXJyb3IpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwYXNzd29yZEVycm9yID0gVXNlcklucHV0VmFsaWRhdG9yLmZpbmRFcnJvckluUGFzc3dvcmQocmVxLmJvZHkucGFzc3dvcmQpO1xuICAgIGlmIChwYXNzd29yZEVycm9yICE9IG51bGwpXG4gICAge1xuICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIlBhc3N3b3JkIEVycm9yXCIsIHtwYXNzd29yZDogKGRldiA/IHJlcS5ib2R5LnBhc3N3b3JkIDogXCIoSElEREVOKVwiKSwgcGFzc3dvcmRFcnJvcn0sIFwiaGlnaFwiLCBcInBpbmtcIik7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGxvY2FsaXplKHBhc3N3b3JkRXJyb3IpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckF1dGhQYXNzd29yZFV0aWw7IiwiaW1wb3J0IFNlcnZlckxvZ1V0aWwgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdXRpbC9zZXJ2ZXJMb2dVdGlsXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvdXNlci90eXBlcy91c2VyXCI7XG5pbXBvcnQgeyBVc2VyVHlwZUVudW1NYXAgfSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL3VzZXIvdHlwZXMvdXNlclR5cGVcIjtcbmltcG9ydCBVc2VyVG9rZW5VdGlsIGZyb20gXCIuL3VzZXJUb2tlblV0aWxcIjtcbmltcG9ydCBVc2VyU2VhcmNoVXRpbCBmcm9tIFwiLi91c2VyU2VhcmNoVXRpbFwiO1xuaW1wb3J0IENvb2tpZVV0aWwgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdXRpbC9jb29raWVVdGlsXCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmxldCBjeWNsaWNDb3VudGVyID0gMDtcblxuY29uc3QgVXNlcklkZW50aWZpY2F0aW9uVXRpbCA9XG57XG4gICAgaWRlbnRpZnlBZG1pbjogYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogKCkgPT4gdm9pZCk6IFByb21pc2U8dm9pZD4gPT5cbiAgICB7XG4gICAgICAgIGF3YWl0IGlkZW50aWZ5VXNlckZyb21SZXEocmVxLCByZXMsIHVzZXIgPT4gdXNlci51c2VyVHlwZSA9PSBVc2VyVHlwZUVudW1NYXAuQWRtaW4sIG5leHQpO1xuICAgIH0sXG4gICAgaWRlbnRpZnlSZWdpc3RlcmVkVXNlcjogYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogKCkgPT4gdm9pZCk6IFByb21pc2U8dm9pZD4gPT5cbiAgICB7XG4gICAgICAgIGF3YWl0IGlkZW50aWZ5VXNlckZyb21SZXEocmVxLCByZXMsXG4gICAgICAgICAgICB1c2VyID0+IHVzZXIudXNlclR5cGUgPT0gVXNlclR5cGVFbnVtTWFwLkFkbWluIHx8XG4gICAgICAgICAgICAgICAgdXNlci51c2VyVHlwZSA9PSBVc2VyVHlwZUVudW1NYXAuTWVtYmVyLFxuICAgICAgICAgICAgbmV4dCk7XG4gICAgfSxcbiAgICBpZGVudGlmeUFueVVzZXI6IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6ICgpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAge1xuICAgICAgICBhd2FpdCBpZGVudGlmeVVzZXJGcm9tUmVxKHJlcSwgcmVzLCBfID0+IHRydWUsIG5leHQpO1xuICAgIH0sXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGlkZW50aWZ5VXNlckZyb21SZXEocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLFxuICAgIHBhc3NDb25kaXRpb246ICh1c2VyOiBVc2VyKSA9PiBCb29sZWFuLCBuZXh0OiAoKSA9PiB2b2lkKTogUHJvbWlzZTxib29sZWFuPlxue1xuICAgIGNvbnN0IHVzZXIgPSBnZXRVc2VyRnJvbVJlcShyZXEpO1xuICAgIGlmICh1c2VyKVxuICAgIHtcbiAgICAgICAgaWYgKCFwYXNzQ29uZGl0aW9uKHVzZXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZXJ2ZXJMb2dVdGlsLmxvZyhcIlVzZXIgZG9lc24ndCBzYXRpc2Z5IHRoZSBwYXNzLWNvbmRpdGlvbi5cIiwgeyB1c2VyIH0sIFwiaGlnaFwiLCBcInBpbmtcIik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZChcIlVzZXIgZG9lc24ndCBzYXRpc2Z5IHRoZSBwYXNzLWNvbmRpdGlvbi5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHVzZXIudXNlclR5cGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgVXNlclR5cGVFbnVtTWFwLkFkbWluOlxuICAgICAgICAgICAgY2FzZSBVc2VyVHlwZUVudW1NYXAuTWVtYmVyOlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNxbFVzZXIgPSBhd2FpdCBVc2VyU2VhcmNoVXRpbC5maW5kRXhpc3RpbmdVc2VyQnlVc2VyTmFtZSh1c2VyLnVzZXJOYW1lLCByZXMpOyAvLyBSZS1mZXRjaCB0aGUgdXNlciBvYmplY3QgKGJlY2F1c2UgaXQgY291bGQndmUgYmVlbiBtb2RpZmllZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzcWxVc2VyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3RVc2VyID0gVXNlci5mcm9tU1FMKHNxbFVzZXIpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBVc2VyVG9rZW5VdGlsLmFkZFRva2VuVG9Vc2VyKGxhdGVzdFVzZXIsIHJlcSwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgKHJlcSBhcyBhbnkpLnVzZXJTdHJpbmcgPSBsYXRlc3RVc2VyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2coXCJGYWlsZWQgdG8gcHJvY2VzcyBhIHJlZ2lzdGVyZWQgdXNlclwiLCB7ZXJyfSwgXCJoaWdoXCIsIFwicGlua1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoYEZhaWxlZCB0byBwcm9jZXNzIGEgcmVnaXN0ZXJlZCB1c2VyIChlcnJvcjogJHtlcnJ9KWApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBVc2VyVHlwZUVudW1NYXAuR3Vlc3Q6XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgVXNlclRva2VuVXRpbC5hZGRUb2tlblRvVXNlcih1c2VyLCByZXEsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIChyZXEgYXMgYW55KS51c2VyU3RyaW5nID0gdXNlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiRmFpbGVkIHRvIGFkZCB0b2tlbiAoZ3Vlc3QpXCIsIHtlcnJ9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZChgRmFpbGVkIHRvIGFkZCB0b2tlbiAoZXJyb3I6ICR7ZXJyfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2coYFVua25vd24gdXNlciB0eXBlYCwgeyB1c2VyVHlwZTogdXNlci51c2VyVHlwZSB9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGBVbmtub3duIHVzZXIgdHlwZSA6OiAke3VzZXIudXNlclR5cGV9ICh1c2VyOiAke3VzZXIudG9TdHJpbmcoKX0pYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIFNlcnZlckxvZ1V0aWwubG9nUmF3KFwiRmFpbGVkIHRvIGlkZW50aWZ5IHRoZSB1c2VyXCIsIFwiaGlnaFwiLCBcInBpbmtcIik7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKFwiRmFpbGVkIHRvIGlkZW50aWZ5IHRoZSB1c2VyXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRVc2VyRnJvbVJlcShyZXE6IFJlcXVlc3QpOiBVc2VyIHwgdW5kZWZpbmVkXG57XG4gICAgbGV0IHVzZXI6IFVzZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llc1tDb29raWVVdGlsLmdldEF1dGhUb2tlbk5hbWUoKV07XG5cbiAgICBpZiAodG9rZW4pXG4gICAgICAgIHVzZXIgPSBVc2VyVG9rZW5VdGlsLmdldFVzZXJGcm9tVG9rZW4odG9rZW4gYXMgc3RyaW5nKTsgLy8gVHJ5IHRvIGZldGNoIHRoZSBwcmV2aW91c2x5IGF1dGhlbnRpY2F0ZWQgdXNlciAoaWYgdGhlcmUgaXMgb25lKS5cblxuICAgIGlmICghdXNlcilcbiAgICB7XG4gICAgICAgIC8vIElmIG5vIHByZXZpb3VzbHkgYXV0aGVudGljYXRlZCB1c2VyIGlzIGZvdW5kLFxuICAgICAgICAvLyBqdXN0IGdlbmVyYXRlIGEgcmFuZG9tIHVzZXIgYW5kIG1ha2UgYSBndWVzdC10b2tlbiBmb3IgaXQuXG4gICAgICAgIC8vIFdlIHdpbGwga2VlcCB1c2luZyB0aGlzIGd1ZXN0LXRva2VuIHVudGlsIHRoZSBjbGllbnQgZWl0aGVyIGNyZWF0ZXMgaGlzL2hlciBvd24gYWNjb3VudCBvciBsb2dzIGluLlxuXG4gICAgICAgIGNvbnN0IHVuaXF1ZUludCA9ICgoTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgLSAxNzY4MDAwMDAwKSAqIDEwKSArIGN5Y2xpY0NvdW50ZXI7XG4gICAgICAgIGN5Y2xpY0NvdW50ZXIgPSAoY3ljbGljQ291bnRlciArIDEpICUgMTA7XG4gICAgICAgIGNvbnN0IHVuaXF1ZUhleCA9IHVuaXF1ZUludC50b1N0cmluZygxNik7XG4gICAgICAgIGNvbnN0IGd1ZXN0TmFtZSA9IGBHdWVzdC0ke3VuaXF1ZUhleH1gO1xuICAgICAgICB1c2VyID0gbmV3IFVzZXIoMCwgZ3Vlc3ROYW1lLCBVc2VyVHlwZUVudW1NYXAuR3Vlc3QsIFwiXCIsIDApO1xuICAgIH1cbiAgICByZXR1cm4gdXNlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlcklkZW50aWZpY2F0aW9uVXRpbDsiLCJpbXBvcnQgU2VhcmNoREIgZnJvbSBcIi4uLy4uL2RiL3NlYXJjaERCXCI7XG5pbXBvcnQgU2VydmVyTG9nVXRpbCBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy91dGlsL3NlcnZlckxvZ1V0aWxcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IFNRTFVzZXIgZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9kYi90eXBlcy9zcWxVc2VyXCI7XG5pbXBvcnQgQ29va2llVXRpbCBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy91dGlsL2Nvb2tpZVV0aWxcIjtcbmRvdGVudi5jb25maWcoKTtcblxuY29uc3QgVXNlclNlYXJjaFV0aWwgPVxue1xuICAgIGZpbmRFeGlzdGluZ1VzZXJCeVVzZXJOYW1lOiBhc3luYyAodXNlck5hbWU6IHN0cmluZywgcmVzPzogUmVzcG9uc2UsXG4gICAgICAgIGlnbm9yZU5vdEZvdW5kRXJyb3I6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8U1FMVXNlciB8IG51bGw+ID0+XG4gICAge1xuICAgICAgICBjb25zdCBleGlzdGluZ1VzZXJzUmVzdWx0ID0gYXdhaXQgU2VhcmNoREIudXNlcnMud2l0aFVzZXJOYW1lKHVzZXJOYW1lKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ1VzZXJzUmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlcz8uc3RhdHVzKDUwMCkuc2VuZChgSW50ZXJuYWwgU2VydmVyIEVycm9yYCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhpc3RpbmdVc2Vyc1Jlc3VsdC5kYXRhLmxlbmd0aCA9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWlnbm9yZU5vdEZvdW5kRXJyb3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2coXCJVc2VyIE5vdCBGb3VuZFwiLCB7dXNlck5hbWV9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgICAgIHJlcz8uY2xlYXJDb29raWUoQ29va2llVXRpbC5nZXRBdXRoVG9rZW5OYW1lKCkpXG4gICAgICAgICAgICAgICAgICAgIC5zdGF0dXMoNDA0KVxuICAgICAgICAgICAgICAgICAgICAuc2VuZChgVGhlcmUgaXMgbm8gYWNjb3VudCB3aXRoIHVzZXJOYW1lIFwiJHt1c2VyTmFtZX1cIi5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleGlzdGluZ1VzZXJzUmVzdWx0LmRhdGFbMF07XG4gICAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlclNlYXJjaFV0aWw7IiwiaW1wb3J0IFNlcnZlckxvZ1V0aWwgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdXRpbC9zZXJ2ZXJMb2dVdGlsXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi8uLi9zaGFyZWQvdXNlci90eXBlcy91c2VyXCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBDb29raWVVdGlsIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3V0aWwvY29va2llVXRpbFwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBkZXYgPSBwcm9jZXNzLmVudi5NT0RFID09IFwiZGV2XCI7XG5cbmNvbnN0IFVzZXJUb2tlblV0aWwgPVxue1xuICAgIGdldFVzZXJGcm9tVG9rZW46ICh0b2tlbjogc3RyaW5nKTogVXNlciB8IHVuZGVmaW5lZCA9PlxuICAgIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJTdHJpbmcgPSBqd3QudmVyaWZ5KHRva2VuIGFzIHN0cmluZywgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVF9LRVkgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIGlmICh1c2VyU3RyaW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBVc2VyLmZyb21TdHJpbmcodXNlclN0cmluZyBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlcnZlckxvZ1V0aWwubG9nKFwiVXNlciBpcyBub3QgZm91bmQgaW4gdGhlIGdpdmVuIHRva2VuLlwiLCB7IHRva2VuTGVuZ3RoOiAodG9rZW4gYXMgc3RyaW5nKS5sZW5ndGggfSwgXCJoaWdoXCIsIFwieWVsbG93XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgU2VydmVyTG9nVXRpbC5sb2coXCJUb2tlbiBWZXJpZmljYXRpb24gRmFpbGVkXCIsIHtlcnJ9LCBcImhpZ2hcIiwgXCJwaW5rXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkVG9rZW5Ub1VzZXI6IGFzeW5jICh1c2VyOiBVc2VyLCByZXE6IFJlcXVlc3QsIHJlcz86IFJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPiA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAgICAgIHVzZXIudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TRUNSRVRfS0VZIGFzIHN0cmluZyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXM/LmNvb2tpZShDb29raWVVdGlsLmdldEF1dGhUb2tlbk5hbWUoKSwgdG9rZW4sIHtcbiAgICAgICAgICAgIHNlY3VyZTogZGV2ID8gZmFsc2UgOiB0cnVlLFxuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogZGV2ID8gXCJsYXhcIiA6IFwic3RyaWN0XCIsXG4gICAgICAgICAgICBtYXhBZ2U6IDMxNTU2OTI2MDAwMDAsIC8vIDEwMCB5ZWFyc1xuICAgICAgICB9KS5zdGF0dXMoMjAxKTtcbiAgICB9LFxuICAgIGNsZWFyVG9rZW5Gcm9tVXNlcjogKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IHZvaWQgPT5cbiAgICB7XG4gICAgICAgIHJlcy5jbGVhckNvb2tpZShDb29raWVVdGlsLmdldEF1dGhUb2tlbk5hbWUoKSkuc3RhdHVzKDIwMCk7XG4gICAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlclRva2VuVXRpbDsiLCJjb25zdCBVSUNvbmZpZyA9XG57XG4gICAgZGlzcGxheVRleHQ6IHtcbiAgICAgICAgcGFnZU5hbWU6IHtcbiAgICAgICAgICAgIFwiaW5kZXhcIjogXCJIb21lXCIsIC8vIHN0YXRpY1xuICAgICAgICAgICAgXCJhcmNhZGVcIjogXCJBcmNhZGVcIiwgLy8gc3RhdGljXG4gICAgICAgICAgICBcImxpYnJhcnlcIjogXCJMaWJyYXJ5XCIsIC8vIHN0YXRpY1xuICAgICAgICAgICAgXCJwb3J0Zm9saW9cIjogXCJQb3J0Zm9saW9cIiwgLy8gc3RhdGljXG4gICAgICAgICAgICBcInJlZ2lzdGVyXCI6IFwiQ3JlYXRlIEFjY291bnRcIiwgLy8gZHluYW1pY1xuICAgICAgICAgICAgXCJsb2dpblwiOiBcIkxvZyBJblwiLCAvLyBkeW5hbWljXG4gICAgICAgICAgICBcIm15cGFnZVwiOiBcIlBvcnRhbFwiLCAvLyBkeW5hbWljXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgIFwiZXJyb3IvdXNlck5hbWUvbGVuZ3RoXCI6IFwiVXNlcm5hbWUgbXVzdCBiZSBiZXR3ZWVuIDQgYW5kIDE2IGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgICAgICAgIFwiZXJyb3IvdXNlck5hbWUvY2hhcnNcIjogXCJVc2VybmFtZSBjYW4gb25seSBjb250YWluIGFscGhhYmV0cywgbnVtYmVycywgYW5kIHVuZGVyYmFyKF8pLlwiLFxuICAgICAgICAgICAgXCJlcnJvci9wYXNzd29yZC9sZW5ndGhcIjogXCJQYXNzd29yZCBtdXN0IGJlIGJldHdlZW4gNiBhbmQgMjQgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgICAgICAgICAgXCJlcnJvci9wYXNzd29yZC9jaGFyc1wiOiBcIlBhc3N3b3JkIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFiZXRzLCBudW1iZXJzLCBhbmQgdGhlIGZvbGxvd2luZyBzcGVjaWFsIGNoYXJhY3RlcnM6IH5gIUAjJCVeJiooKS1fKz17fVtdfFxcXFw6O1xcXCInPD4sLj8vXCIsXG4gICAgICAgICAgICBcImVycm9yL2VtYWlsL2xlbmd0aFwiOiBcIkVtYWlsIGFkZHJlc3MgbXVzdCBub3QgY29udGFpbiBtb3JlIHRoYW4gNjQgY2hhcmFjdGVycy5cIixcbiAgICAgICAgICAgIFwiZXJyb3IvZW1haWwvY2hhcnNcIjogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiLFxuICAgICAgICAgICAgXCJlcnJvci9yb29tTmFtZS9sZW5ndGhcIjogXCJSb29tIG5hbWUgbXVzdCBiZSBiZXR3ZWVuIDQgYW5kIDY0IGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgICAgICAgIFwiZXJyb3Ivcm9vbU5hbWUvY2hhcnNcIjogXCJSb29tIG5hbWUgY2FuIG9ubHkgY29udGFpbiBhbHBoYWJldHMsIG51bWJlcnMsIHNwYWNlcywgYW5kIHRoZSBmb2xsb3dpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzOiB+YCFAIyQlXiYqKCktXys9e31bXXxcXFxcOjtcXFwiJzw+LC4/L1wiLFxuXG4gICAgICAgICAgICBcInJ1bGUvdXNlck5hbWUvbGVuZ3RoXCI6IFwiVXNlcm5hbWUgbXVzdCBiZSBiZXR3ZWVuIDQgYW5kIDE2IGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgICAgICAgIFwicnVsZS91c2VyTmFtZS9jaGFyc1wiOiBcIlVzZXJuYW1lIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFiZXRzLCBudW1iZXJzLCBhbmQgdW5kZXJiYXIoXykuXCIsXG4gICAgICAgICAgICBcInJ1bGUvcGFzc3dvcmQvbGVuZ3RoXCI6IFwiUGFzc3dvcmQgbXVzdCBiZSBiZXR3ZWVuIDYgYW5kIDI0IGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgICAgICAgIFwicnVsZS9wYXNzd29yZC9jaGFyc1wiOiBcIlBhc3N3b3JkIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFiZXRzLCBudW1iZXJzLCBhbmQgdGhlIGZvbGxvd2luZyBzcGVjaWFsIGNoYXJhY3RlcnM6IH5gIUAjJCVeJiooKS1fKz17fVtdfFxcXFw6O1xcXCInPD4sLj8vXCIsXG4gICAgICAgICAgICBcInJ1bGUvZW1haWwvbGVuZ3RoXCI6IFwiRW1haWwgYWRkcmVzcyBtdXN0IG5vdCBjb250YWluIG1vcmUgdGhhbiA2NCBjaGFyYWN0ZXJzLlwiLFxuICAgICAgICAgICAgXCJydWxlL3Jvb21OYW1lL2xlbmd0aFwiOiBcIlJvb20gbmFtZSBtdXN0IGJlIGJldHdlZW4gNCBhbmQgNjQgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgICAgICAgICAgXCJydWxlL3Jvb21OYW1lL2NoYXJzXCI6IFwiUm9vbSBuYW1lIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFiZXRzLCBudW1iZXJzLCBzcGFjZXMsIGFuZCB0aGUgZm9sbG93aW5nIHNwZWNpYWwgY2hhcmFjdGVyczogfmAhQCMkJV4mKigpLV8rPXt9W118XFxcXDo7XFxcIic8PiwuPy9cIixcbiAgICAgICAgfSxcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBVSUNvbmZpZzsiLCJjb25zdCBUZXh0VXRpbCA9XG57XG4gICAgLy8gY2hhcmFjdGVyIGVzY2FwZVxuXG4gICAgZXNjYXBlSFRNTENoYXJzOiAodGV4dCkgPT5cbiAgICB7XG4gICAgICAgIHJldHVybiB0ZXh0XG4gICAgICAgICAgICAucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvPC9nLCBcIiZsdDtcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csIFwiJnF1b3Q7XCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIiYjMDM5O1wiKVxuICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJcXG5cIiwgXCI8YnI+XCIpXG4gICAgICAgICAgICAucmVwbGFjZUFsbChcIiBcIiwgXCImbmJzcDtcIik7XG4gICAgfSxcblxuICAgIC8vIGlucHV0IHZhbGlkYXRpb25cblxuICAgIGZpbmRFcnJvckluVXNlck5hbWU6ICh0ZXh0KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoIDwgNCB8fCB0ZXh0Lmxlbmd0aCA+IDE2KVxuICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IvdXNlck5hbWUvbGVuZ3RoXCI7XG4gICAgICAgIGlmICh0ZXh0ICE9IFRleHRVdGlsLnNhbml0aXplVXNlck5hbWUodGV4dCkpXG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci91c2VyTmFtZS9jaGFyc1wiO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGZpbmRFcnJvckluUGFzc3dvcmQ6ICh0ZXh0KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoIDwgNiB8fCB0ZXh0Lmxlbmd0aCA+IDI0KVxuICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IvcGFzc3dvcmQvbGVuZ3RoXCI7XG4gICAgICAgIGlmICh0ZXh0ICE9IFRleHRVdGlsLnNhbml0aXplUGFzc3dvcmQodGV4dCkpXG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci9wYXNzd29yZC9jaGFyc1wiO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGZpbmRFcnJvckluRW1haWxBZGRyZXNzOiAodGV4dCkgPT5cbiAgICB7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDY0KVxuICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IvZW1haWwvbGVuZ3RoXCI7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdKy5bXlxcc0BdKyQvO1xuICAgICAgICBpZiAoIXJlZ2V4LnRlc3QodGV4dCkpXG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci9lbWFpbC9jaGFyc1wiXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZmluZEVycm9ySW5Sb29tTmFtZTogKHRleHQpID0+XG4gICAge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPCA0IHx8IHRleHQubGVuZ3RoID4gNjQpXG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci9yb29tTmFtZS9sZW5ndGhcIjtcbiAgICAgICAgaWYgKHRleHQgIT0gVGV4dFV0aWwuc2FuaXRpemVSb29tTmFtZSh0ZXh0KSlcbiAgICAgICAgICAgIHJldHVybiBcImVycm9yL3Jvb21OYW1lL2NoYXJzXCI7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgXG4gICAgc2FuaXRpemVVc2VyTmFtZTogKHRleHQpID0+XG4gICAge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAxNilcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCAxNik7XG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgXCJcIik7XG4gICAgfSxcbiAgICBzYW5pdGl6ZVBhc3N3b3JkOiAodGV4dCkgPT5cbiAgICB7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDI0KVxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIDI0KTtcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvW15hLXpBLVowLTl+YCFAI1xcJCVcXF4mXFwqXFwoXFwpLV9cXCs9XFx7XFxbXFx9XFxdXFx8XFxcXDo7XCInPD4sXFwuXFw/XFwvXS9nLCBcIlwiKTtcbiAgICB9LFxuICAgIHNhbml0aXplUm9vbU5hbWU6ICh0ZXh0KSA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIFRleHRVdGlsLnNhbml0aXplUm9vbU5hbWVXaXRob3V0VHJpbW1pbmcodGV4dCkudHJpbSgpO1xuICAgIH0sXG4gICAgc2FuaXRpemVSb29tTmFtZVdpdGhvdXRUcmltbWluZzogKHRleHQpID0+XG4gICAge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiA2NClcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCA2NCk7XG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1teYS16QS1aMC05fmAhQCNcXCQlXFxeJlxcKlxcKFxcKS1fXFwrPVxce1xcW1xcfVxcXVxcfFxcXFw6O1wiJzw+LFxcLlxcP1xcL1xcc10vZywgXCJcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTsgLy8gcmVwbGFjZSBtdWx0aXBsZSBjb25zZWN1dGl2ZSBzcGFjZXMgd2l0aCBhIHNpbmdsZSBzcGFjZS5cbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0VXRpbDsiLCJpbXBvcnQgeyBMb2NLZXkgfSBmcm9tIFwiLi4vdHlwZXMvbG9jS2V5XCI7XG5pbXBvcnQgeyBMb2NNYXAgfSBmcm9tIFwiLi4vdHlwZXMvbG9jTWFwXCI7XG5cbmxldCBsYW5nID0gXCJlblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9jYWxpemUobG9jS2V5OiBMb2NLZXkpOiBzdHJpbmdcbntcbiAgICByZXR1cm4gbG9jTWFwQnlMYW5nW2xhbmddW2xvY0tleV0gPz8gbG9jS2V5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TGFuZyhuZXdMYW5nOiBzdHJpbmcpXG57XG4gICAgbGFuZyA9IG5ld0xhbmc7XG59XG5cbmNvbnN0IGxvY01hcF9lbjogTG9jTWFwID0ge1xuICAgIFwiYXV0aC9lcnJvci91c2VyTmFtZS9sZW5ndGhcIjogXCJVc2VybmFtZSBtdXN0IGJlIGJldHdlZW4gNCBhbmQgMTYgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgIFwiYXV0aC9lcnJvci91c2VyTmFtZS9jaGFyc1wiOiBcIlVzZXJuYW1lIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFiZXRzLCBudW1iZXJzLCBhbmQgdW5kZXJiYXIoXykuXCIsXG4gICAgXCJhdXRoL2Vycm9yL3Bhc3N3b3JkL2xlbmd0aFwiOiBcIlBhc3N3b3JkIG11c3QgYmUgYmV0d2VlbiA2IGFuZCAyNCBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgXCJhdXRoL2Vycm9yL3Bhc3N3b3JkL2NoYXJzXCI6IFwiUGFzc3dvcmQgY2FuIG9ubHkgY29udGFpbiBhbHBoYWJldHMsIG51bWJlcnMsIGFuZCB0aGUgZm9sbG93aW5nIHNwZWNpYWwgY2hhcmFjdGVyczogfmAhQCMkJV4mKigpLV8rPXt9W118XFxcXDo7XFxcIic8PiwuPy9cIixcbiAgICBcImF1dGgvZXJyb3IvZW1haWwvbGVuZ3RoXCI6IFwiRW1haWwgYWRkcmVzcyBtdXN0IG5vdCBjb250YWluIG1vcmUgdGhhbiA2NCBjaGFyYWN0ZXJzLlwiLFxuICAgIFwiYXV0aC9lcnJvci9lbWFpbC9jaGFyc1wiOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIsXG4gICAgXCJhdXRoL2Vycm9yL3Jvb21OYW1lL2xlbmd0aFwiOiBcIlJvb20gbmFtZSBtdXN0IGJlIGJldHdlZW4gNCBhbmQgNjQgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgIFwiYXV0aC9lcnJvci9yb29tTmFtZS9jaGFyc1wiOiBcIlJvb20gbmFtZSBjYW4gb25seSBjb250YWluIGFscGhhYmV0cywgbnVtYmVycywgc3BhY2VzLCBhbmQgdGhlIGZvbGxvd2luZyBzcGVjaWFsIGNoYXJhY3RlcnM6IH5gIUAjJCVeJiooKS1fKz17fVtdfFxcXFw6O1xcXCInPD4sLj8vXCIsXG5cbiAgICBcImF1dGgvcnVsZS91c2VyTmFtZS9sZW5ndGhcIjogXCJVc2VybmFtZSBtdXN0IGJlIGJldHdlZW4gNCBhbmQgMTYgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgIFwiYXV0aC9ydWxlL3VzZXJOYW1lL2NoYXJzXCI6IFwiVXNlcm5hbWUgY2FuIG9ubHkgY29udGFpbiBhbHBoYWJldHMsIG51bWJlcnMsIGFuZCB1bmRlcmJhcihfKS5cIixcbiAgICBcImF1dGgvcnVsZS9wYXNzd29yZC9sZW5ndGhcIjogXCJQYXNzd29yZCBtdXN0IGJlIGJldHdlZW4gNiBhbmQgMjQgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgIFwiYXV0aC9ydWxlL3Bhc3N3b3JkL2NoYXJzXCI6IFwiUGFzc3dvcmQgY2FuIG9ubHkgY29udGFpbiBhbHBoYWJldHMsIG51bWJlcnMsIGFuZCB0aGUgZm9sbG93aW5nIHNwZWNpYWwgY2hhcmFjdGVyczogfmAhQCMkJV4mKigpLV8rPXt9W118XFxcXDo7XFxcIic8PiwuPy9cIixcbiAgICBcImF1dGgvcnVsZS9lbWFpbC9sZW5ndGhcIjogXCJFbWFpbCBhZGRyZXNzIG11c3Qgbm90IGNvbnRhaW4gbW9yZSB0aGFuIDY0IGNoYXJhY3RlcnMuXCIsXG4gICAgXCJhdXRoL3J1bGUvcm9vbU5hbWUvbGVuZ3RoXCI6IFwiUm9vbSBuYW1lIG11c3QgYmUgYmV0d2VlbiA0IGFuZCA2NCBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgXCJhdXRoL3J1bGUvcm9vbU5hbWUvY2hhcnNcIjogXCJSb29tIG5hbWUgY2FuIG9ubHkgY29udGFpbiBhbHBoYWJldHMsIG51bWJlcnMsIHNwYWNlcywgYW5kIHRoZSBmb2xsb3dpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzOiB+YCFAIyQlXiYqKCktXys9e31bXXxcXFxcOjtcXFwiJzw+LC4/L1wiLFxufTtcblxuY29uc3QgbG9jTWFwQnlMYW5nOiB7W2xhbmc6IHN0cmluZ106IExvY01hcH0gPSB7XG4gICAgXCJlblwiOiBsb2NNYXBfZW4sXG59IiwiaW1wb3J0IEFBQkIyIGZyb20gXCIuLi90eXBlcy9hYWJiMlwiO1xuaW1wb3J0IFZlYzIgZnJvbSBcIi4uL3R5cGVzL3ZlYzJcIjtcbmltcG9ydCBWZWN0b3IyRCBmcm9tIFwiLi92ZWN0b3IyRFwiO1xuaW1wb3J0IExpbmVTZWdtZW50MiBmcm9tIFwiLi4vdHlwZXMvbGluZVNlZ21lbnQyXCI7XG5pbXBvcnQgUmF5Y2FzdEhpdFJlc3VsdDIgZnJvbSBcIi4uL3R5cGVzL3JheWNhc3RIaXRSZXN1bHQyXCI7XG5cbmNvbnN0IEdlb21ldHJ5MkQgPVxue1xuICAgIC8vIFJldHVybnMgdGhlIEFBQkItY2FzdGluZyByYXkncyBzY2FsZSBmYWN0b3Igd2hpY2gsIHdoZW4gYXBwbGllZCB0byB0aGUgcmF5LFxuICAgIC8vIHB1c2hlcyB0aGUgc291cmNlIEFBQkIgdG8gZW5kIHVwIGF0IHRoZSBwb2ludCBvZiBjb2xsaXNpb25cbiAgICAvLyBiZXR3ZWVuIGl0c2VsZiBhbmQgdGhlIHRhcmdldCBBQUJCLlxuICAgIC8vIChSZXR1cm5zIDEgd2hlbiB0aGUgc291cmNlIEFBQkIgZG9lc24ndCBoaXQgdGhlIHRhcmdldCBBQUJCKVxuICAgIGNhc3RBQUJCQWdhaW5zdEFBQkI6IChzb3VyY2U6IEFBQkIyLCBkZXN0aW5hdGlvbjogVmVjMiwgdGFyZ2V0OiBBQUJCMik6IFJheWNhc3RIaXRSZXN1bHQyID0+XG4gICAge1xuICAgICAgICBjb25zdCB4MSA9IHRhcmdldC54IC0gdGFyZ2V0LmhhbGZTaXplWCAtIHNvdXJjZS5oYWxmU2l6ZVg7XG4gICAgICAgIGNvbnN0IHkxID0gdGFyZ2V0LnkgLSB0YXJnZXQuaGFsZlNpemVZIC0gc291cmNlLmhhbGZTaXplWTtcbiAgICAgICAgY29uc3QgeDIgPSB0YXJnZXQueCArIHRhcmdldC5oYWxmU2l6ZVggKyBzb3VyY2UuaGFsZlNpemVYO1xuICAgICAgICBjb25zdCB5MiA9IHRhcmdldC55ICsgdGFyZ2V0LmhhbGZTaXplWSArIHNvdXJjZS5oYWxmU2l6ZVk7XG5cbiAgICAgICAgY29uc3QgYm90dG9tTGVmdENvcm5lcjogVmVjMiA9IHsgeDogeDEsIHk6IHkxIH07XG4gICAgICAgIGNvbnN0IGJvdHRvbVJpZ2h0Q29ybmVyOiBWZWMyID0geyB4OiB4MiwgeTogeTEgfTtcbiAgICAgICAgY29uc3QgdG9wTGVmdENvcm5lcjogVmVjMiA9IHsgeDogeDEsIHk6IHkyIH07XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0Q29ybmVyOiBWZWMyID0geyB4OiB4MiwgeTogeTIgfTtcblxuICAgICAgICBjb25zdCBib3R0b206IExpbmVTZWdtZW50MiA9IHtzdGFydDogYm90dG9tTGVmdENvcm5lciwgZW5kOiBib3R0b21SaWdodENvcm5lcn07XG4gICAgICAgIGNvbnN0IHJpZ2h0OiBMaW5lU2VnbWVudDIgPSB7c3RhcnQ6IGJvdHRvbVJpZ2h0Q29ybmVyLCBlbmQ6IHRvcFJpZ2h0Q29ybmVyfTtcbiAgICAgICAgY29uc3QgdG9wOiBMaW5lU2VnbWVudDIgPSB7c3RhcnQ6IHRvcFJpZ2h0Q29ybmVyLCBlbmQ6IHRvcExlZnRDb3JuZXJ9O1xuICAgICAgICBjb25zdCBsZWZ0OiBMaW5lU2VnbWVudDIgPSB7c3RhcnQ6IHRvcExlZnRDb3JuZXIsIGVuZDogYm90dG9tTGVmdENvcm5lcn07XG5cbiAgICAgICAgY29uc3QgY2lyY2xlU3RhcnQ6IFZlYzIgPSB7IHg6IHNvdXJjZS54LCB5OiBzb3VyY2UueSB9O1xuICAgICAgICBjb25zdCByYXk6IExpbmVTZWdtZW50MiA9IHsgc3RhcnQ6IGNpcmNsZVN0YXJ0LCBlbmQ6IGRlc3RpbmF0aW9uIH07XG4gICAgICAgIGxldCBtaW5IaXRSYXlTY2FsZSA9IDE7XG4gICAgICAgIGxldCBoaXRSYXlTY2FsZTogbnVtYmVyO1xuICAgICAgICBsZXQgaGl0TGluZTogTGluZVNlZ21lbnQyIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGhpdFJheVNjYWxlID0gTWF0aC5taW4obWluSGl0UmF5U2NhbGUsIEdlb21ldHJ5MkQucmF5Y2FzdFRvTGluZShyYXksIGJvdHRvbSwgdHJ1ZSkpO1xuICAgICAgICBpZiAoaGl0UmF5U2NhbGUgPCBtaW5IaXRSYXlTY2FsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbWluSGl0UmF5U2NhbGUgPSBoaXRSYXlTY2FsZTtcbiAgICAgICAgICAgIGhpdExpbmUgPSBib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgaGl0UmF5U2NhbGUgPSBNYXRoLm1pbihtaW5IaXRSYXlTY2FsZSwgR2VvbWV0cnkyRC5yYXljYXN0VG9MaW5lKHJheSwgcmlnaHQsIHRydWUpKTtcbiAgICAgICAgaWYgKGhpdFJheVNjYWxlIDwgbWluSGl0UmF5U2NhbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pbkhpdFJheVNjYWxlID0gaGl0UmF5U2NhbGU7XG4gICAgICAgICAgICBoaXRMaW5lID0gcmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaGl0UmF5U2NhbGUgPSBNYXRoLm1pbihtaW5IaXRSYXlTY2FsZSwgR2VvbWV0cnkyRC5yYXljYXN0VG9MaW5lKHJheSwgdG9wLCB0cnVlKSk7XG4gICAgICAgIGlmIChoaXRSYXlTY2FsZSA8IG1pbkhpdFJheVNjYWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5IaXRSYXlTY2FsZSA9IGhpdFJheVNjYWxlO1xuICAgICAgICAgICAgaGl0TGluZSA9IHRvcDtcbiAgICAgICAgfVxuICAgICAgICBoaXRSYXlTY2FsZSA9IE1hdGgubWluKG1pbkhpdFJheVNjYWxlLCBHZW9tZXRyeTJELnJheWNhc3RUb0xpbmUocmF5LCBsZWZ0LCB0cnVlKSk7XG4gICAgICAgIGlmIChoaXRSYXlTY2FsZSA8IG1pbkhpdFJheVNjYWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5IaXRSYXlTY2FsZSA9IGhpdFJheVNjYWxlO1xuICAgICAgICAgICAgaGl0TGluZSA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaGl0UmF5U2NhbGU6IG1pbkhpdFJheVNjYWxlLCBoaXRMaW5lIH07XG4gICAgfSxcbiAgICAvLyBSZXR1cm5zIHRoZSByYXkncyBzY2FsZSBmYWN0b3Igd2hpY2gsIHdoZW4gYXBwbGllZCB0byB0aGUgcmF5LFxuICAgIC8vIG1ha2VzIHRoZSByYXkgZW5kIHVwIGF0IHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb25cbiAgICAvLyBiZXR3ZWVuIGl0c2VsZiBhbmQgdGhlIHRhcmdldCBsaW5lIHNlZ21lbnQuXG4gICAgLy8gKFJldHVybnMgMSB3aGVuIHRoZSByYXkgZG9lc24ndCBoaXQgdGhlIGxpbmUpXG4gICAgcmF5Y2FzdFRvTGluZTogKHJheTogTGluZVNlZ21lbnQyLCBsaW5lOiBMaW5lU2VnbWVudDIsIGhpdExpbmVGcm9tUmlnaHRTaWRlT25seTogYm9vbGVhbiA9IGZhbHNlKTogbnVtYmVyID0+XG4gICAge1xuICAgICAgICBjb25zdCByYXlGcm9tVG8gPSBWZWN0b3IyRC5zdWJ0cmFjdChyYXkuZW5kLCByYXkuc3RhcnQpO1xuICAgICAgICBjb25zdCBsaW5lRnJvbVRvID0gVmVjdG9yMkQuc3VidHJhY3QobGluZS5lbmQsIGxpbmUuc3RhcnQpO1xuICAgICAgICBjb25zdCBjcm9zcyA9IFZlY3RvcjJELmNyb3NzKHJheUZyb21UbywgbGluZUZyb21Ubyk7XG4gICAgICAgIGlmIChjcm9zcyA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChoaXRMaW5lRnJvbVJpZ2h0U2lkZU9ubHkgJiYgY3Jvc3MgPiAwKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGNvbnN0IGNyb3NzSW52ZXJzZSA9IDEgLyBjcm9zcztcbiAgICAgICAgY29uc3Qgc3RhcnREaWZmID0gVmVjdG9yMkQuc3VidHJhY3QobGluZS5zdGFydCwgcmF5LnN0YXJ0KTtcbiAgICAgICAgY29uc3QgcmF5U2NhbGUgPSBWZWN0b3IyRC5jcm9zcyhzdGFydERpZmYsIGxpbmVGcm9tVG8pICogY3Jvc3NJbnZlcnNlO1xuICAgICAgICBjb25zdCBsaW5lU2NhbGUgPSBWZWN0b3IyRC5jcm9zcyhzdGFydERpZmYsIHJheUZyb21UbykgKiBjcm9zc0ludmVyc2U7XG4gICAgICAgIGlmIChyYXlTY2FsZSA8IDAgfHwgcmF5U2NhbGUgPiAxIHx8IGxpbmVTY2FsZSA8IDAgfHwgbGluZVNjYWxlID4gMSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gcmF5U2NhbGU7XG4gICAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VvbWV0cnkyRDsiLCJjb25zdCBOdW0gPVxue1xuICAgIG5vcm1hbGl6ZUluUmFuZ2U6IChuOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIChOdW0uY2xhbXBJblJhbmdlKG4sIG1pbiwgbWF4KSAtIG1pbikgLyAobWF4IC0gbWluKTtcbiAgICB9LFxuICAgIGNsYW1wSW5SYW5nZTogKG46IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+XG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIG4pKTtcbiAgICB9LFxuICAgIG5vcm1hbGl6ZUluUmFuZ2VXaXRoV2FybmluZzogKG46IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+XG4gICAge1xuICAgICAgICByZXR1cm4gKE51bS5jbGFtcEluUmFuZ2VXaXRoV2FybmluZyhuLCBtaW4sIG1heCkgLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgfSxcbiAgICBjbGFtcEluUmFuZ2VXaXRoV2FybmluZzogKG46IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+XG4gICAge1xuICAgICAgICBpZiAobiA8IG1pbiB8fCBuID4gbWF4KVxuICAgICAgICAgICAgY29uc29sZS53YXJuKGAnbicgaXMgb3V0IG9mIGl0cyBleHBlY3RlZCByYW5nZSAobiA9ICR7bn0sIG1pbiA9ICR7bWlufSwgbWF4ID0gJHttYXh9KWApO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIG4pKTtcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBOdW07IiwiaW1wb3J0IFZlYzIgZnJvbSBcIi4uL3R5cGVzL3ZlYzJcIlxuXG5jb25zdCBWZWN0b3IyRCA9XG57XG4gICAgbm9ybWFsaXplOiAodjogVmVjMik6IFZlYzIgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguc3FydCh2Lngqdi54ICsgdi55KnYueSk7XG4gICAgICAgIGlmIChsZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgY29uc3QgbGVuZ3RoSW52ID0gMSAvIGxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHsgeDogdi54ICogbGVuZ3RoSW52LCB5OiB2LnkgKiBsZW5ndGhJbnYgfTtcbiAgICB9LFxuICAgIHNjYWxlOiAodjogVmVjMiwgc2NhbGVGYWN0b3I6IG51bWJlcik6IFZlYzIgPT5cbiAgICB7XG4gICAgICAgIHJldHVybiB7IHg6IHYueCAqIHNjYWxlRmFjdG9yLCB5OiB2LnkgKiBzY2FsZUZhY3RvciB9O1xuICAgIH0sXG4gICAgYWRkOiAodjE6IFZlYzIsIHYyOiBWZWMyKTogVmVjMiA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHsgeDogdjEueCArIHYyLngsIHk6IHYxLnkgKyB2Mi55IH07XG4gICAgfSxcbiAgICBzdWJ0cmFjdDogKHYxOiBWZWMyLCB2MjogVmVjMik6IFZlYzIgPT5cbiAgICB7XG4gICAgICAgIHJldHVybiB7IHg6IHYxLnggLSB2Mi54LCB5OiB2MS55IC0gdjIueSB9O1xuICAgIH0sXG4gICAgY3Jvc3M6ICh2MTogVmVjMiwgdjI6IFZlYzIpOiBudW1iZXIgPT5cbiAgICB7XG4gICAgICAgIHJldHVybiB2MS54ICogdjIueSAtIHYxLnkgKiB2Mi54O1xuICAgIH0sXG4gICAgZG90OiAodjE6IFZlYzIsIHYyOiBWZWMyKTogbnVtYmVyID0+XG4gICAge1xuICAgICAgICByZXR1cm4gdjEueCAqIHYyLnggKyB2MS55ICogdjIueTtcbiAgICB9LFxuICAgIGxlbmd0aDogKHY6IFZlYzIpOiBudW1iZXIgPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodi54ICogdi54ICsgdi55ICogdi55KTtcbiAgICB9LFxuICAgIGRpc3RTcXI6ICh2MTogVmVjMiwgdjI6IFZlYzIpOiBudW1iZXIgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGR4ID0gdjIueCAtIHYxLng7XG4gICAgICAgIGNvbnN0IGR5ID0gdjIueSAtIHYxLnk7XG4gICAgICAgIHJldHVybiBkeCpkeCArIGR5KmR5O1xuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvcjJEOyIsImltcG9ydCBPYmplY3REZXNwYXduUGFyYW1zIGZyb20gXCIuLi8uLi9vYmplY3QvdHlwZXMvb2JqZWN0RGVzcGF3blBhcmFtc1wiO1xuaW1wb3J0IE9iamVjdERlc3luY1Jlc29sdmVQYXJhbXMgZnJvbSBcIi4uLy4uL29iamVjdC90eXBlcy9vYmplY3REZXN5bmNSZXNvbHZlUGFyYW1zXCI7XG5pbXBvcnQgT2JqZWN0TWVzc2FnZVBhcmFtcyBmcm9tIFwiLi4vLi4vb2JqZWN0L3R5cGVzL29iamVjdE1lc3NhZ2VQYXJhbXNcIjtcbmltcG9ydCBPYmplY3RTcGF3blBhcmFtcyBmcm9tIFwiLi4vLi4vb2JqZWN0L3R5cGVzL29iamVjdFNwYXduUGFyYW1zXCI7XG5pbXBvcnQgT2JqZWN0U3luY1BhcmFtcyBmcm9tIFwiLi4vLi4vb2JqZWN0L3R5cGVzL29iamVjdFN5bmNQYXJhbXNcIjtcbmltcG9ydCBSb29tQ2hhbmdlUmVxdWVzdFBhcmFtcyBmcm9tIFwiLi4vLi4vcm9vbS90eXBlcy9yb29tQ2hhbmdlUmVxdWVzdFBhcmFtc1wiO1xuaW1wb3J0IFJvb21SdW50aW1lTWVtb3J5IGZyb20gXCIuLi8uLi9yb29tL3R5cGVzL3Jvb21SdW50aW1lTWVtb3J5XCI7XG5pbXBvcnQgVXBkYXRlVm94ZWxHcmlkUGFyYW1zIGZyb20gXCIuLi8uLi92b3hlbC90eXBlcy91cGRhdGUvdXBkYXRlVm94ZWxHcmlkUGFyYW1zXCI7XG5pbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4uL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgU2lnbmFsVHlwZUNvbmZpZyBmcm9tIFwiLi4vdHlwZXMvc2lnbmFsVHlwZUNvbmZpZ1wiO1xuXG5jb25zdCBzaWduYWxUeXBlQ29uZmlnUGFpcnM6IFtudW1iZXIsIFNpZ25hbFR5cGVDb25maWddW10gPSBbXG4gICAgWzAsIHtcbiAgICAgICAgc2lnbmFsVHlwZTogXCJvYmplY3REZXNwYXduUGFyYW1zXCIsXG4gICAgICAgIGRlY29kZTogKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSkgPT4gT2JqZWN0RGVzcGF3blBhcmFtcy5kZWNvZGUoYnVmZmVyU3RhdGUpLFxuICAgIH1dLFxuICAgIFsxLCB7XG4gICAgICAgIHNpZ25hbFR5cGU6IFwib2JqZWN0RGVzeW5jUmVzb2x2ZVBhcmFtc1wiLFxuICAgICAgICBkZWNvZGU6IChidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpID0+IE9iamVjdERlc3luY1Jlc29sdmVQYXJhbXMuZGVjb2RlKGJ1ZmZlclN0YXRlKSxcbiAgICB9XSxcbiAgICBbMiwge1xuICAgICAgICBzaWduYWxUeXBlOiBcIm9iamVjdE1lc3NhZ2VQYXJhbXNcIixcbiAgICAgICAgZGVjb2RlOiAoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKSA9PiBPYmplY3RNZXNzYWdlUGFyYW1zLmRlY29kZShidWZmZXJTdGF0ZSksXG4gICAgfV0sXG4gICAgWzMsIHtcbiAgICAgICAgc2lnbmFsVHlwZTogXCJvYmplY3RTcGF3blBhcmFtc1wiLFxuICAgICAgICBkZWNvZGU6IChidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpID0+IE9iamVjdFNwYXduUGFyYW1zLmRlY29kZShidWZmZXJTdGF0ZSksXG4gICAgfV0sXG4gICAgWzQsIHtcbiAgICAgICAgc2lnbmFsVHlwZTogXCJvYmplY3RTeW5jUGFyYW1zXCIsXG4gICAgICAgIGRlY29kZTogKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSkgPT4gT2JqZWN0U3luY1BhcmFtcy5kZWNvZGUoYnVmZmVyU3RhdGUpLFxuICAgIH1dLFxuICAgIFs1LCB7XG4gICAgICAgIHNpZ25hbFR5cGU6IFwicm9vbUNoYW5nZVJlcXVlc3RQYXJhbXNcIixcbiAgICAgICAgZGVjb2RlOiAoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKSA9PiBSb29tQ2hhbmdlUmVxdWVzdFBhcmFtcy5kZWNvZGUoYnVmZmVyU3RhdGUpLFxuICAgIH1dLFxuICAgIFs2LCB7XG4gICAgICAgIHNpZ25hbFR5cGU6IFwicm9vbVJ1bnRpbWVNZW1vcnlcIixcbiAgICAgICAgZGVjb2RlOiAoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKSA9PiBSb29tUnVudGltZU1lbW9yeS5kZWNvZGUoYnVmZmVyU3RhdGUpLFxuICAgIH1dLFxuICAgIFs3LCB7XG4gICAgICAgIHNpZ25hbFR5cGU6IFwidXBkYXRlVm94ZWxHcmlkUGFyYW1zXCIsXG4gICAgICAgIGRlY29kZTogKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSkgPT4gVXBkYXRlVm94ZWxHcmlkUGFyYW1zLmRlY29kZShidWZmZXJTdGF0ZSksXG4gICAgfV0sXG5dO1xuXG5jb25zdCBpbmRleFRvQ29uZmlnOiB7W3NpZ25hbFR5cGVJbmRleDogbnVtYmVyXTogU2lnbmFsVHlwZUNvbmZpZ30gPSB7fTtcbmNvbnN0IHR5cGVUb0luZGV4OiB7W3NpZ25hbFR5cGU6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcblxuc2lnbmFsVHlwZUNvbmZpZ1BhaXJzLmZvckVhY2gocGFpciA9PiB7XG4gICAgaWYgKHBhaXJbMF0gPCAwIHx8IHBhaXJbMF0gPiAyNTUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2lnbmFsIHR5cGUgaW5kZXggaXMgb3V0c2lkZSBvZiBpdHMgdmFsaWQgcmFuZ2UgKCR7cGFpclswXX0pYCk7XG4gICAgaW5kZXhUb0NvbmZpZ1twYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgdHlwZVRvSW5kZXhbcGFpclsxXS5zaWduYWxUeXBlXSA9IHBhaXJbMF07XG59KTtcblxuY29uc3QgU2lnbmFsVHlwZUNvbmZpZ01hcCA9XG57XG4gICAgZ2V0Q29uZmlnQnlJbmRleDogKHNpZ25hbFR5cGVJbmRleDogbnVtYmVyKTogU2lnbmFsVHlwZUNvbmZpZyA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gaW5kZXhUb0NvbmZpZ1tzaWduYWxUeXBlSW5kZXhdO1xuICAgICAgICBpZiAoY29uZmlnID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYGdldENvbmZpZ0J5SW5kZXggOjogSW52YWxpZCBzaWduYWwgdHlwZSBpbmRleCAoc2lnbmFsVHlwZUluZGV4ID0gJHtzaWduYWxUeXBlSW5kZXh9KWApO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH0sXG4gICAgZ2V0SW5kZXhCeVR5cGU6IChzaWduYWxUeXBlOiBzdHJpbmcpOiBudW1iZXIgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHNpZ25hbFR5cGVJbmRleCA9IHR5cGVUb0luZGV4W3NpZ25hbFR5cGVdO1xuICAgICAgICBpZiAoc2lnbmFsVHlwZUluZGV4ID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYGdldEluZGV4QnlUeXBlIDo6IEludmFsaWQgc2lnbmFsIHR5cGUgKHNpZ25hbFR5cGUgPSAke3NpZ25hbFR5cGV9KWApO1xuICAgICAgICByZXR1cm4gc2lnbmFsVHlwZUluZGV4O1xuICAgIH0sXG4gICAgZ2V0TWF4SW5kZXg6ICgpOiBudW1iZXIgPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBzaWduYWxUeXBlQ29uZmlnUGFpcnNcbiAgICAgICAgICAgIC5tYXAocGFpciA9PiBwYWlyWzBdKVxuICAgICAgICAgICAgLnJlZHVjZSgocHJldiwgY3VycikgPT4gY3VyciA+PSBwcmV2ID8gY3VyciA6IHByZXYpO1xuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpZ25hbFR5cGVDb25maWdNYXA7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyU3RhdGVcbntcbiAgICB2aWV3OiBVaW50OEFycmF5O1xuICAgIGJ5dGVJbmRleDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodmlldzogVWludDhBcnJheSwgYnl0ZUluZGV4OiBudW1iZXIgPSAwKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5ieXRlSW5kZXggPSBieXRlSW5kZXg7XG4gICAgfVxufSIsImltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4vZW5jb2RhYmxlRGF0YVwiO1xuaW1wb3J0IEVuY29kYWJsZVJhd0J5dGVOdW1iZXIgZnJvbSBcIi4vZW5jb2RhYmxlUmF3Qnl0ZU51bWJlclwiO1xuaW1wb3J0IEVuY29kYWJsZVJhdzJCeXRlTnVtYmVyIGZyb20gXCIuL2VuY29kYWJsZVJhdzJCeXRlTnVtYmVyXCI7XG5cbmxldCB0ZW1wX2VsZW1lbnREZWNvZGVNZXRob2Q6IChidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpID0+IEVuY29kYWJsZURhdGE7XG5sZXQgdGVtcF9sZW5ndGhMaW1pdCA9IDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuY29kYWJsZUFycmF5IGV4dGVuZHMgRW5jb2RhYmxlRGF0YVxue1xuICAgIGFycjogRW5jb2RhYmxlRGF0YVtdO1xuICAgIGxlbmd0aExpbWl0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihhcnI6IEVuY29kYWJsZURhdGFbXSwgbGVuZ3RoTGltaXQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYXJyID0gYXJyO1xuICAgICAgICB0aGlzLmxlbmd0aExpbWl0ID0gbGVuZ3RoTGltaXQ7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmFyci5sZW5ndGggPiB0aGlzLmxlbmd0aExpbWl0KVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRW5jb2RhYmxlIGRhdGEgYXJyYXkncyBsZW5ndGggbGltaXQgZXhjZWVkZWQgKGxlbmd0aCA9ICR7dGhpcy5hcnIubGVuZ3RofSwgbGVuZ3RoTGltaXQgPSAke3RoaXMubGVuZ3RoTGltaXR9KWApO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbih0aGlzLmFyci5sZW5ndGgsIHRoaXMubGVuZ3RoTGltaXQpO1xuXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aExpbWl0IDw9IDI1NSlcbiAgICAgICAgICAgIG5ldyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKGxlbmd0aCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5sZW5ndGhMaW1pdCA8PSA2NTUzNSlcbiAgICAgICAgICAgIG5ldyBFbmNvZGFibGVSYXcyQnl0ZU51bWJlcihsZW5ndGgpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGVuZ3RoIGxpbWl0IG9mICR7dGhpcy5sZW5ndGhMaW1pdH0gaXMgbm90IHN1cHBvcnRlZC5gKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKVxuICAgICAgICAgICAgdGhpcy5hcnJbaV0uZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUsXG4gICAgICAgIGVsZW1lbnREZWNvZGVNZXRob2Q6IChidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpID0+IEVuY29kYWJsZURhdGEsIGxlbmd0aExpbWl0OiBudW1iZXIpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICB0ZW1wX2VsZW1lbnREZWNvZGVNZXRob2QgPSBlbGVtZW50RGVjb2RlTWV0aG9kO1xuICAgICAgICB0ZW1wX2xlbmd0aExpbWl0ID0gbGVuZ3RoTGltaXQ7XG4gICAgICAgIHJldHVybiBFbmNvZGFibGVBcnJheS5kZWNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGlmICh0ZW1wX2xlbmd0aExpbWl0IDwgMjU2KVxuICAgICAgICAgICAgbGVuZ3RoID0gKEVuY29kYWJsZVJhd0J5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKS5uO1xuICAgICAgICBlbHNlIGlmICh0ZW1wX2xlbmd0aExpbWl0IDwgNjU1MzYpXG4gICAgICAgICAgICBsZW5ndGggPSAoRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXcyQnl0ZU51bWJlcikubjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBMZW5ndGggbGltaXQgb2YgJHt0ZW1wX2xlbmd0aExpbWl0fSBpcyBub3Qgc3VwcG9ydGVkLmApO1xuXG4gICAgICAgIGNvbnN0IGFyciA9IG5ldyBBcnJheTxFbmNvZGFibGVEYXRhPihsZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKVxuICAgICAgICAgICAgYXJyW2ldID0gdGVtcF9lbGVtZW50RGVjb2RlTWV0aG9kKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFbmNvZGFibGVBcnJheShhcnIsIHRlbXBfbGVuZ3RoTGltaXQpO1xuICAgIH1cbn0iLCJpbXBvcnQgTnVtIGZyb20gXCIuLi8uLi9tYXRoL3V0aWwvbnVtXCI7XG5pbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4vYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuL2VuY29kYWJsZURhdGFcIjtcblxubGV0IHRlbXBfbWluID0gMDtcbmxldCB0ZW1wX21heCA9IDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuY29kYWJsZUJ5dGVOdW1iZXIgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgbjogbnVtYmVyO1xuICAgIG1pbjogbnVtYmVyO1xuICAgIG1heDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IobjogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm4gPSBuO1xuICAgICAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICAgICAgdGhpcy5tYXggPSBtYXg7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdID0gTWF0aC5mbG9vcihOdW0ubm9ybWFsaXplSW5SYW5nZVdpdGhXYXJuaW5nKHRoaXMubiwgdGhpcy5taW4sIHRoaXMubWF4KSAqIDI1NS45OTk5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIHRlbXBfbWluID0gbWluO1xuICAgICAgICB0ZW1wX21heCA9IG1heDtcbiAgICAgICAgcmV0dXJuIEVuY29kYWJsZUJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRW5jb2RhYmxlQnl0ZU51bWJlcihcbiAgICAgICAgICAgIHRlbXBfbWluICsgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gKiAodGVtcF9tYXggLSB0ZW1wX21pbikgLyAyNTUuOTk5OSxcbiAgICAgICAgICAgIHRlbXBfbWluLFxuICAgICAgICAgICAgdGVtcF9tYXhcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi9lbmNvZGFibGVEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuY29kYWJsZUJ5dGVTdHJpbmcgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgc3RyOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzdHI6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RyID0gc3RyO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RyLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY29kZSA9IHRoaXMuc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoY29kZSA8IDAgfHwgY29kZSA+IDI1NSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDaGFyIGNvZGUgaXMgb3V0IG9mIHRoZSA4LWJpdCByYW5nZSAoY29kZSA9ICR7Y29kZX0sIHN0cmluZyA9ICR7dGhpcy5zdHJ9LCBpbmRleCA9ICR7aX0pYCk7XG4gICAgICAgICAgICAgICAgY29kZSA9IFwiP1wiLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXSA9IGNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSAwOyAvLyBudWxsIGNoYXJhY3RlciAodG8gbWFyayB0aGUgZW5kIG9mIHRoZSBzdHJpbmcpXG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCBkZWNvZGVkQ2hhcnM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGxldCBjb2RlOiBudW1iZXI7XG4gICAgICAgIHdoaWxlIChidWZmZXJTdGF0ZS5ieXRlSW5kZXggPCBidWZmZXJTdGF0ZS52aWV3Lmxlbmd0aCAmJlxuICAgICAgICAgICAgKGNvZGUgPSBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXSkgIT0gMCkgLy8gc2NhbiB1bnRpbCB5b3UgaGl0IHRoZSBudWxsIGNoYXJhY3RlciAod2hpY2ggbWFya3MgdGhlIGVuZCBvZiB0aGUgc3RyaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWNvZGVkQ2hhcnMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVuY29kYWJsZUJ5dGVTdHJpbmcoZGVjb2RlZENoYXJzLmpvaW4oXCJcIikpO1xuICAgIH1cbn0iLCJpbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4vYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuL2VuY29kYWJsZURhdGFcIjtcbmltcG9ydCBFbmNvZGFibGVCeXRlTnVtYmVyIGZyb20gXCIuL2VuY29kYWJsZUJ5dGVOdW1iZXJcIjtcbmltcG9ydCBWZWMyIGZyb20gXCIuLi8uLi9tYXRoL3R5cGVzL3ZlYzJcIjtcblxubGV0IHRlbXBfbWluID0gMDtcbmxldCB0ZW1wX21heCA9IDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuY29kYWJsZUJ5dGVWZWMyIGV4dGVuZHMgRW5jb2RhYmxlRGF0YVxue1xuICAgIHY6IFZlYzI7XG4gICAgbWluOiBudW1iZXI7XG4gICAgbWF4OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih2OiBWZWMyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnYgPSB2O1xuICAgICAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICAgICAgdGhpcy5tYXggPSBtYXg7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlTnVtYmVyKHRoaXMudi54LCB0aGlzLm1pbiwgdGhpcy5tYXgpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlTnVtYmVyKHRoaXMudi55LCB0aGlzLm1pbiwgdGhpcy5tYXgpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZVdpdGhQYXJhbXMoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICB0ZW1wX21pbiA9IG1pbjtcbiAgICAgICAgdGVtcF9tYXggPSBtYXg7XG4gICAgICAgIHJldHVybiBFbmNvZGFibGVCeXRlVmVjMi5kZWNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3QgeERhdGEgPSBFbmNvZGFibGVCeXRlTnVtYmVyLmRlY29kZVdpdGhQYXJhbXMoYnVmZmVyU3RhdGUsIHRlbXBfbWluLCB0ZW1wX21heCkgYXMgRW5jb2RhYmxlQnl0ZU51bWJlcjtcbiAgICAgICAgY29uc3QgeURhdGEgPSBFbmNvZGFibGVCeXRlTnVtYmVyLmRlY29kZVdpdGhQYXJhbXMoYnVmZmVyU3RhdGUsIHRlbXBfbWluLCB0ZW1wX21heCkgYXMgRW5jb2RhYmxlQnl0ZU51bWJlcjtcbiAgICAgICAgcmV0dXJuIG5ldyBFbmNvZGFibGVCeXRlVmVjMihcbiAgICAgICAgICAgIHt4OiB4RGF0YS5uLCB5OiB5RGF0YS5ufSxcbiAgICAgICAgICAgIHRlbXBfbWluLFxuICAgICAgICAgICAgdGVtcF9tYXhcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuL2J1ZmZlclN0YXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEVuY29kYWJsZURhdGFcbntcbiAgICBhYnN0cmFjdCBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogdm9pZDtcbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGEgeyB0aHJvdyBuZXcgRXJyb3IoXCInZGVjb2RlJyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlwiKTsgfVxufSIsImltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4vZW5jb2RhYmxlRGF0YVwiO1xuXG5sZXQgdGVtcF9lbnVtTWFwOiBFbnVtTWFwID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuY29kYWJsZUVudW0gZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgZW51bVZhbHVlOiBudW1iZXI7XG4gICAgZW51bU1hcDogRW51bU1hcDtcblxuICAgIGNvbnN0cnVjdG9yKGVudW1WYWx1ZTogbnVtYmVyLCBlbnVtTWFwOiBFbnVtTWFwKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbnVtVmFsdWUgPSBlbnVtVmFsdWU7XG4gICAgICAgIHRoaXMuZW51bU1hcCA9IGVudW1NYXA7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdID0gdGhpcy5lbnVtTWFwW3RoaXMuZW51bVZhbHVlXTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUsIGVudW1NYXA6IEVudW1NYXApOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICB0ZW1wX2VudW1NYXAgPSBlbnVtTWFwO1xuICAgICAgICByZXR1cm4gRW5jb2RhYmxlRW51bS5kZWNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbmNvZGFibGVFbnVtKFxuICAgICAgICAgICAgdGVtcF9lbnVtTWFwW2J1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdXSwgdGVtcF9lbnVtTWFwXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBFbnVtTWFwID0ge1trZXk6IHN0cmluZ106IG51bWJlcn07IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi9lbmNvZGFibGVEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuY29kYWJsZVJhdzJCeXRlTnVtYmVyIGV4dGVuZHMgRW5jb2RhYmxlRGF0YVxue1xuICAgIG46IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKG46IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubiA9IG47XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLm4gPCAwIHx8IHRoaXMubiA+IDY1NTM1KVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTnVtYmVyIGlzIG91dCBvZiBpdHMgZGVzaXJlZCByYW5nZSAobiA9ICR7dGhpcy5ufSlgKTtcbiAgICAgICAgaWYgKE1hdGguZmxvb3IodGhpcy5uKSAhPSB0aGlzLm4pXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBOdW1iZXIgaXMgbm90IGFuIGludGVnZXIgKG4gPSAke3RoaXMubn0pYCk7XG4gICAgICAgIGNvbnN0IG4gPSBNYXRoLm1pbig2NTUzNSwgTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih0aGlzLm4pKSk7XG4gICAgICAgIGNvbnN0IGZpcnN0SGFsZiA9ICgobiA+PiA4KSAmIDBiMTExMTExMTEpO1xuICAgICAgICBjb25zdCBzZWNvbmRIYWxmID0gKG4gJiAwYjExMTExMTExKTtcbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSBmaXJzdEhhbGY7XG4gICAgICAgIGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdID0gc2Vjb25kSGFsZjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIGNvbnN0IGZpcnN0SGFsZiA9IGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdO1xuICAgICAgICBjb25zdCBzZWNvbmRIYWxmID0gYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK107XG4gICAgICAgIHJldHVybiBuZXcgRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIoXG4gICAgICAgICAgICAoZmlyc3RIYWxmIDw8IDgpIHwgc2Vjb25kSGFsZlxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4vYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuL2VuY29kYWJsZURhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgbjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IobjogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uID0gbjtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMubiA8IDAgfHwgdGhpcy5uID4gNDI5NDk2NzI5NSlcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE51bWJlciBpcyBvdXQgb2YgaXRzIGRlc2lyZWQgcmFuZ2UgKG4gPSAke3RoaXMubn0pYCk7XG4gICAgICAgIGlmIChNYXRoLmZsb29yKHRoaXMubikgIT0gdGhpcy5uKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTnVtYmVyIGlzIG5vdCBhbiBpbnRlZ2VyIChuID0gJHt0aGlzLm59KWApO1xuICAgICAgICBjb25zdCBuID0gTWF0aC5taW4oNDI5NDk2NzI5NSwgTWF0aC5tYXgoMCwgTWF0aC5mbG9vcih0aGlzLm4pKSk7XG4gICAgICAgIGNvbnN0IGZpcnN0UXVhcnRlciA9ICgobiA+PiAyNCkgJiAwYjExMTExMTExKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kUXVhcnRlciA9ICgobiA+PiAxNikgJiAwYjExMTExMTExKTtcbiAgICAgICAgY29uc3QgdGhpcmRRdWFydGVyID0gKChuID4+IDgpICYgMGIxMTExMTExMSk7XG4gICAgICAgIGNvbnN0IGZvdXJ0aFF1YXJ0ZXIgPSAobiAmIDBiMTExMTExMTEpO1xuICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXSA9IGZpcnN0UXVhcnRlcjtcbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSBzZWNvbmRRdWFydGVyO1xuICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXSA9IHRoaXJkUXVhcnRlcjtcbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSBmb3VydGhRdWFydGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3QgZmlyc3RRdWFydGVyID0gYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK107XG4gICAgICAgIGNvbnN0IHNlY29uZFF1YXJ0ZXIgPSBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXTtcbiAgICAgICAgY29uc3QgdGhpcmRRdWFydGVyID0gYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK107XG4gICAgICAgIGNvbnN0IGZvdXJ0aFF1YXJ0ZXIgPSBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXTtcbiAgICAgICAgcmV0dXJuIG5ldyBFbmNvZGFibGVSYXc0Qnl0ZU51bWJlcihcbiAgICAgICAgICAgIChmaXJzdFF1YXJ0ZXIgPDwgMjQpIHwgKHNlY29uZFF1YXJ0ZXIgPDwgMTYpIHwgKHRoaXJkUXVhcnRlciA8PCA4KSB8IGZvdXJ0aFF1YXJ0ZXJcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi9lbmNvZGFibGVEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuY29kYWJsZVJhd0J5dGVOdW1iZXIgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgbjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IobjogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uID0gbjtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMubiA8IDAgfHwgdGhpcy5uID4gMjU1KVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTnVtYmVyIGlzIG91dCBvZiBpdHMgZGVzaXJlZCByYW5nZSAobiA9ICR7dGhpcy5ufSlgKTtcbiAgICAgICAgaWYgKE1hdGguZmxvb3IodGhpcy5uKSAhPSB0aGlzLm4pXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBOdW1iZXIgaXMgbm90IGFuIGludGVnZXIgKG4gPSAke3RoaXMubn0pYCk7XG4gICAgICAgIGNvbnN0IG4gPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGguZmxvb3IodGhpcy5uKSkpO1xuICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXSA9IG47XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEVuY29kYWJsZVJhd0J5dGVOdW1iZXIoXG4gICAgICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXVxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4vYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuL2VuY29kYWJsZURhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW5jb2RhYmxlUmF3U2lnbmVkQnl0ZU51bWJlciBleHRlbmRzIEVuY29kYWJsZURhdGFcbntcbiAgICBuOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihuOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm4gPSBuO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5uIDwgLTEyOCB8fCB0aGlzLm4gPiAxMjcpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBOdW1iZXIgaXMgb3V0IG9mIGl0cyBkZXNpcmVkIHJhbmdlIChuID0gJHt0aGlzLm59KWApO1xuICAgICAgICBpZiAoTWF0aC5mbG9vcih0aGlzLm4pICE9IHRoaXMubilcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE51bWJlciBpcyBub3QgYW4gaW50ZWdlciAobiA9ICR7dGhpcy5ufSlgKTtcbiAgICAgICAgY29uc3QgbiA9IE1hdGgubWluKDEyNywgTWF0aC5tYXgoLTEyOCwgTWF0aC5mbG9vcih0aGlzLm4pKSkgKyAxMjg7XG4gICAgICAgIGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdID0gbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRW5jb2RhYmxlUmF3U2lnbmVkQnl0ZU51bWJlcihcbiAgICAgICAgICAgIGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdIC0gMTI4XG4gICAgICAgICk7XG4gICAgfVxufSIsImltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vdHlwZXMvYnVmZmVyU3RhdGVcIjtcblxuY29uc3Qgd3JpdGVCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoNjU1MzYpO1xubGV0IHdyaXRlQnVmZmVyUmVzZXJ2ZWQgPSBmYWxzZTtcbmxldCBzdGFydEJ5dGVJbmRleCA9IDA7XG5cbmNvbnN0IEVuY29kaW5nVXRpbCA9XG57XG4gICAgc3RhcnRFbmNvZGluZyhieXRlSW5kZXg6IG51bWJlciA9IDApOiBCdWZmZXJTdGF0ZVxuICAgIHtcbiAgICAgICAgaWYgKHdyaXRlQnVmZmVyUmVzZXJ2ZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXcml0ZUJ1ZmZlciBpcyBhbHJlYWR5IHJlc2VydmVkLlwiKTtcbiAgICAgICAgd3JpdGVCdWZmZXJSZXNlcnZlZCA9IHRydWU7XG4gICAgICAgIHN0YXJ0Qnl0ZUluZGV4ID0gYnl0ZUluZGV4O1xuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlclN0YXRlKG5ldyBVaW50OEFycmF5KHdyaXRlQnVmZmVyLCBieXRlSW5kZXgpKTtcbiAgICB9LFxuICAgIGVuZEVuY29kaW5nKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEFycmF5QnVmZmVyXG4gICAge1xuICAgICAgICBpZiAoIXdyaXRlQnVmZmVyUmVzZXJ2ZWQpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiV3JpdGVCdWZmZXIgaXMgYWxyZWFkeSBmcmVlLlwiKTtcbiAgICAgICAgd3JpdGVCdWZmZXJSZXNlcnZlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBzdWJCdWZmZXIgPSBidWZmZXJTdGF0ZS52aWV3LmJ1ZmZlci5zbGljZShzdGFydEJ5dGVJbmRleCwgYnVmZmVyU3RhdGUuYnl0ZUluZGV4KSBhcyBBcnJheUJ1ZmZlcjtcbiAgICAgICAgc3RhcnRCeXRlSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gc3ViQnVmZmVyO1xuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVuY29kaW5nVXRpbDsiLCJpbXBvcnQgT2JqZWN0VHlwZUNvbmZpZyBmcm9tIFwiLi4vdHlwZXMvb2JqZWN0VHlwZUNvbmZpZ1wiO1xuXG5jb25zdCBvYmplY3RUeXBlQ29uZmlnUGFpcnM6IFtudW1iZXIsIE9iamVjdFR5cGVDb25maWddW10gPSBbXG4gICAgWzAsIHtcbiAgICAgICAgb2JqZWN0VHlwZTogXCJWb3hlbFwiLFxuICAgICAgICBjb21wb25lbnRzOiB7XG4gICAgICAgICAgICBzcGF3bmVkQnlBbnk6IHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZWRNZXNoR3JhcGhpY3M6IHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSW5zdGFuY2VJZFBvb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdm94ZWxNZXNoSW5zdGFuY2VyOiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfV0sXG4gICAgWzEsIHtcbiAgICAgICAgb2JqZWN0VHlwZTogXCJQbGF5ZXJcIixcbiAgICAgICAgY29tcG9uZW50czoge1xuICAgICAgICAgICAgc3Bhd25lZEJ5QW55OiB7XG4gICAgICAgICAgICAgICAgY29sbGlkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uTGF5ZXJNYXNrQXRHcm91bmRMZXZlbDogMGIwMDAxMTExMSxcbiAgICAgICAgICAgICAgICAgICAgaGl0Ym94U2l6ZToge3NpemVYOiAwLjYsIHNpemVaOiAwLjZ9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3BlZWNoQnViYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHlPZmZzZXQ6IDIuNCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBsYXllclByb3hpbWl0eURldGVjdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgIG1heERpc3Q6IDAuNDUsXG4gICAgICAgICAgICAgICAgICAgIG1heExvb2tBbmdsZTogLTEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzcGF3bmVkQnlNZToge1xuICAgICAgICAgICAgICAgIGZpcnN0UGVyc29uQ29udHJvbGxlcjoge30sXG4gICAgICAgICAgICAgICAgb2JqZWN0U3luY0VtaXR0ZXI6IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwYXduZWRCeU90aGVyOiB7XG4gICAgICAgICAgICAgICAgbW9kZWxHcmFwaGljczoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBcImxvd3BvbHlnaG9zdC9sb3dwb2x5Z2hvc3QuZ2xiXCIsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsUG9zaXRpb246IHt4OiAwLCB5OiAxLjIyLCB6OiAwfSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHt4OiAwLjMsIHk6IDAuMywgejogMC4zfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9iamVjdFN5bmNSZWNlaXZlcjoge30sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH1dLFxuICAgIFsyLCB7XG4gICAgICAgIG9iamVjdFR5cGU6IFwiQ2FudmFzXCIsXG4gICAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgICAgIHNwYXduZWRCeUFueToge1xuICAgICAgICAgICAgICAgIGNvbGxpZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkxheWVyTWFza0F0R3JvdW5kTGV2ZWw6IDBiMDAwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIGhpdGJveFNpemU6IHtzaXplWDogMCwgc2l6ZVo6IDB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VkTWVzaEdyYXBoaWNzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUluc3RhbmNlSWRQb29sOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGVyc2lzdGVudE9iamVjdE1lc2hJbnN0YW5jZXI6IHtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNwZWVjaEJ1YmJsZToge1xuICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGxheWVyUHJveGltaXR5RGV0ZWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgbWF4RGlzdDogMyxcbiAgICAgICAgICAgICAgICAgICAgbWF4TG9va0FuZ2xlOiBNYXRoLlBJICogMC4yNSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9XSxcbl07XG5cbmNvbnN0IGluZGV4VG9Db25maWc6IHtbb2JqZWN0VHlwZUluZGV4OiBudW1iZXJdOiBPYmplY3RUeXBlQ29uZmlnfSA9IHt9O1xuY29uc3QgdHlwZVRvSW5kZXg6IHtbb2JqZWN0VHlwZTogc3RyaW5nXTogbnVtYmVyfSA9IHt9O1xuXG5vYmplY3RUeXBlQ29uZmlnUGFpcnMuZm9yRWFjaChwYWlyID0+IHtcbiAgICBpbmRleFRvQ29uZmlnW3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICB0eXBlVG9JbmRleFtwYWlyWzFdLm9iamVjdFR5cGVdID0gcGFpclswXTtcbn0pO1xuXG5jb25zdCBPYmplY3RUeXBlQ29uZmlnTWFwID1cbntcbiAgICBnZXRDb25maWdCeUluZGV4OiAob2JqZWN0VHlwZUluZGV4OiBudW1iZXIpOiBPYmplY3RUeXBlQ29uZmlnID0+XG4gICAge1xuICAgICAgICBjb25zdCBjb25maWcgPSBpbmRleFRvQ29uZmlnW29iamVjdFR5cGVJbmRleF07XG4gICAgICAgIGlmIChjb25maWcgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBnZXRDb25maWdCeUluZGV4IDo6IEludmFsaWQgb2JqZWN0IHR5cGUgaW5kZXggKG9iamVjdFR5cGVJbmRleCA9ICR7b2JqZWN0VHlwZUluZGV4fSlgKTtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9LFxuICAgIGdldEluZGV4QnlUeXBlOiAob2JqZWN0VHlwZTogc3RyaW5nKTogbnVtYmVyID0+XG4gICAge1xuICAgICAgICBjb25zdCBvYmplY3RUeXBlSW5kZXggPSB0eXBlVG9JbmRleFtvYmplY3RUeXBlXTtcbiAgICAgICAgaWYgKG9iamVjdFR5cGVJbmRleCA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGdldEluZGV4QnlUeXBlIDo6IEludmFsaWQgb2JqZWN0IHR5cGUgKG9iamVjdFR5cGUgPSAke29iamVjdFR5cGV9KWApO1xuICAgICAgICByZXR1cm4gb2JqZWN0VHlwZUluZGV4O1xuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdFR5cGVDb25maWdNYXA7IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgRW5jb2RhYmxlQnl0ZVN0cmluZyBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVCeXRlU3RyaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdERlc3Bhd25QYXJhbXMgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgb2JqZWN0SWQ6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG9iamVjdElkOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9iamVjdElkID0gb2JqZWN0SWQ7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlU3RyaW5nKHRoaXMub2JqZWN0SWQpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCBvYmplY3RJZCA9IChFbmNvZGFibGVCeXRlU3RyaW5nLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlQnl0ZVN0cmluZykuc3RyO1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdERlc3Bhd25QYXJhbXMob2JqZWN0SWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgVmVjMiBmcm9tIFwiLi4vLi4vbWF0aC90eXBlcy92ZWMyXCI7XG5pbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZURhdGFcIjtcbmltcG9ydCBFbmNvZGFibGVCeXRlU3RyaW5nIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZUJ5dGVTdHJpbmdcIjtcbmltcG9ydCBFbmNvZGFibGVCeXRlVmVjMiBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVCeXRlVmVjMlwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmplY3REZXN5bmNSZXNvbHZlUGFyYW1zIGV4dGVuZHMgRW5jb2RhYmxlRGF0YVxue1xuICAgIG9iamVjdElkOiBzdHJpbmc7XG4gICAgcmVzb2x2ZWRQb3M6IFZlYzI7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmplY3RJZDogc3RyaW5nLCByZXNvbHZlZFBvczogVmVjMilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub2JqZWN0SWQgPSBvYmplY3RJZDtcbiAgICAgICAgdGhpcy5yZXNvbHZlZFBvcyA9IHJlc29sdmVkUG9zO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZVN0cmluZyh0aGlzLm9iamVjdElkKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZVZlYzIodGhpcy5yZXNvbHZlZFBvcywgMCwgMzIpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCBvYmplY3RJZCA9IChFbmNvZGFibGVCeXRlU3RyaW5nLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlQnl0ZVN0cmluZykuc3RyO1xuICAgICAgICBjb25zdCByZXNvbHZlZFBvcyA9IChFbmNvZGFibGVCeXRlVmVjMi5kZWNvZGVXaXRoUGFyYW1zKGJ1ZmZlclN0YXRlLCAwLCAzMikgYXMgRW5jb2RhYmxlQnl0ZVZlYzIpLnY7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0RGVzeW5jUmVzb2x2ZVBhcmFtcyhvYmplY3RJZCwgcmVzb2x2ZWRQb3MpO1xuICAgIH1cbn0iLCJpbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZURhdGFcIjtcbmltcG9ydCBFbmNvZGFibGVCeXRlU3RyaW5nIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZUJ5dGVTdHJpbmdcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0TWVzc2FnZVBhcmFtcyBleHRlbmRzIEVuY29kYWJsZURhdGFcbntcbiAgICBzZW5kZXJPYmplY3RJZDogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHNlbmRlck9iamVjdElkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2VuZGVyT2JqZWN0SWQgPSBzZW5kZXJPYmplY3RJZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgbmV3IEVuY29kYWJsZUJ5dGVTdHJpbmcodGhpcy5zZW5kZXJPYmplY3RJZCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgbmV3IEVuY29kYWJsZUJ5dGVTdHJpbmcodGhpcy5tZXNzYWdlKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2VuZGVyT2JqZWN0SWQgPSAoRW5jb2RhYmxlQnl0ZVN0cmluZy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZUJ5dGVTdHJpbmcpLnN0cjtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IChFbmNvZGFibGVCeXRlU3RyaW5nLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlQnl0ZVN0cmluZykuc3RyO1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdE1lc3NhZ2VQYXJhbXMoc2VuZGVyT2JqZWN0SWQsIG1lc3NhZ2UpO1xuICAgIH1cbn0iLCJpbXBvcnQgT2JqZWN0U3Bhd25QYXJhbXMgZnJvbSBcIi4vb2JqZWN0U3Bhd25QYXJhbXNcIjtcbmltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdFJ1bnRpbWVNZW1vcnkgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgb2JqZWN0U3Bhd25QYXJhbXM6IE9iamVjdFNwYXduUGFyYW1zO1xuXG4gICAgY29uc3RydWN0b3Iob2JqZWN0U3Bhd25QYXJhbXM6IE9iamVjdFNwYXduUGFyYW1zKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vYmplY3RTcGF3blBhcmFtcyA9IG9iamVjdFNwYXduUGFyYW1zO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICB0aGlzLm9iamVjdFNwYXduUGFyYW1zLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCBvYmplY3RTcGF3blBhcmFtcyA9IE9iamVjdFNwYXduUGFyYW1zLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgT2JqZWN0U3Bhd25QYXJhbXM7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0UnVudGltZU1lbW9yeShvYmplY3RTcGF3blBhcmFtcyk7XG4gICAgfVxufSIsImltcG9ydCBPYmplY3RUcmFuc2Zvcm0gZnJvbSBcIi4vb2JqZWN0VHJhbnNmb3JtXCI7XG5pbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZURhdGFcIjtcbmltcG9ydCBFbmNvZGFibGVCeXRlU3RyaW5nIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZUJ5dGVTdHJpbmdcIjtcbmltcG9ydCBFbmNvZGFibGVSYXdCeXRlTnVtYmVyIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZVJhd0J5dGVOdW1iZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0U3Bhd25QYXJhbXMgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgc291cmNlVXNlck5hbWU6IHN0cmluZztcbiAgICBvYmplY3RUeXBlSW5kZXg6IG51bWJlcjtcbiAgICBvYmplY3RJZDogc3RyaW5nO1xuICAgIHRyYW5zZm9ybTogT2JqZWN0VHJhbnNmb3JtO1xuICAgIG1ldGFkYXRhOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VVc2VyTmFtZTogc3RyaW5nLCBvYmplY3RUeXBlSW5kZXg6IG51bWJlciwgb2JqZWN0SWQ6IHN0cmluZyxcbiAgICAgICAgdHJhbnNmb3JtOiBPYmplY3RUcmFuc2Zvcm0sIG1ldGFkYXRhOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNvdXJjZVVzZXJOYW1lID0gc291cmNlVXNlck5hbWU7XG4gICAgICAgIHRoaXMub2JqZWN0VHlwZUluZGV4ID0gb2JqZWN0VHlwZUluZGV4O1xuICAgICAgICB0aGlzLm9iamVjdElkID0gb2JqZWN0SWQ7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlU3RyaW5nKHRoaXMuc291cmNlVXNlck5hbWUpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKHRoaXMub2JqZWN0VHlwZUluZGV4KS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZVN0cmluZyh0aGlzLm9iamVjdElkKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZVN0cmluZyh0aGlzLm1ldGFkYXRhKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3Qgc291cmNlVXNlck5hbWUgPSAoRW5jb2RhYmxlQnl0ZVN0cmluZy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZUJ5dGVTdHJpbmcpLnN0cjtcbiAgICAgICAgY29uc3Qgb2JqZWN0VHlwZUluZGV4ID0gKEVuY29kYWJsZVJhd0J5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKS5uO1xuICAgICAgICBjb25zdCBvYmplY3RJZCA9IChFbmNvZGFibGVCeXRlU3RyaW5nLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlQnl0ZVN0cmluZykuc3RyO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBPYmplY3RUcmFuc2Zvcm0uZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBPYmplY3RUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gKEVuY29kYWJsZUJ5dGVTdHJpbmcuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVCeXRlU3RyaW5nKS5zdHI7XG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0U3Bhd25QYXJhbXMoc291cmNlVXNlck5hbWUsIG9iamVjdFR5cGVJbmRleCwgb2JqZWN0SWQsIHRyYW5zZm9ybSwgbWV0YWRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgT2JqZWN0VHJhbnNmb3JtIGZyb20gXCIuL29iamVjdFRyYW5zZm9ybVwiO1xuaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgRW5jb2RhYmxlQnl0ZVN0cmluZyBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVCeXRlU3RyaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdFN5bmNQYXJhbXMgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgb2JqZWN0SWQ6IHN0cmluZztcbiAgICB0cmFuc2Zvcm06IE9iamVjdFRyYW5zZm9ybTtcblxuICAgIGNvbnN0cnVjdG9yKG9iamVjdElkOiBzdHJpbmcsIHRyYW5zZm9ybTogT2JqZWN0VHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vYmplY3RJZCA9IG9iamVjdElkO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgbmV3IEVuY29kYWJsZUJ5dGVTdHJpbmcodGhpcy5vYmplY3RJZCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIGNvbnN0IG9iamVjdElkID0gKEVuY29kYWJsZUJ5dGVTdHJpbmcuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVCeXRlU3RyaW5nKS5zdHI7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IE9iamVjdFRyYW5zZm9ybS5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIE9iamVjdFRyYW5zZm9ybTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RTeW5jUGFyYW1zKG9iamVjdElkLCB0cmFuc2Zvcm0pO1xuICAgIH1cbn0iLCJpbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZURhdGFcIjtcbmltcG9ydCBFbmNvZGFibGVCeXRlTnVtYmVyIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZUJ5dGVOdW1iZXJcIjtcblxuY29uc3QgeHpSYW5nZSA9IFswLCAzMl07XG5jb25zdCB5UmFuZ2UgPSBbLTEsIDQgKyAwLjAxOTYwNTg4MjM1Mjk0MTRdOyAvLyBOb3RlOiBUaGUgYWRkaXRpb24gb2YgdGhpcyB3ZWlyZCBjb25zdGFudCBpcyB0byBtYWtlIHN1cmUgdGhhdCAwIHdpbGwgYmUgcXVhbnRpemVkIHRvIGEgdmFsdWUgd2hpY2ggaXMgYXMgY2xvc2UgdG8gMCBhcyBwb3NzaWJsZS5cbmNvbnN0IGRpclZlY1JhbmdlID0gWy0xLCAxICsgMC4wMTU3NDcyNDQwOTQ0ODgyXTsgLy8gTm90ZTogVGhlIGFkZGl0aW9uIG9mIHRoaXMgd2VpcmQgY29uc3RhbnQgaXMgdG8gbWFrZSBzdXJlIHRoYXQgMCB3aWxsIGJlIHF1YW50aXplZCB0byBhIHZhbHVlIHdoaWNoIGlzIGFzIGNsb3NlIHRvIDAgYXMgcG9zc2libGUuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdFRyYW5zZm9ybSBleHRlbmRzIEVuY29kYWJsZURhdGFcbntcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHo6IG51bWJlcjtcbiAgICBkaXJYOiBudW1iZXI7XG4gICAgZGlyWTogbnVtYmVyO1xuICAgIGRpclo6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIGRpclg6IG51bWJlciwgZGlyWTogbnVtYmVyLCBkaXJaOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLmRpclggPSBkaXJYO1xuICAgICAgICB0aGlzLmRpclkgPSBkaXJZO1xuICAgICAgICB0aGlzLmRpclogPSBkaXJaO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZU51bWJlcih0aGlzLngsIHh6UmFuZ2VbMF0sIHh6UmFuZ2VbMV0pLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlTnVtYmVyKHRoaXMueSwgeVJhbmdlWzBdLCB5UmFuZ2VbMV0pLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlTnVtYmVyKHRoaXMueiwgeHpSYW5nZVswXSwgeHpSYW5nZVsxXSkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgbmV3IEVuY29kYWJsZUJ5dGVOdW1iZXIodGhpcy5kaXJYLCBkaXJWZWNSYW5nZVswXSwgZGlyVmVjUmFuZ2VbMV0pLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlTnVtYmVyKHRoaXMuZGlyWSwgZGlyVmVjUmFuZ2VbMF0sIGRpclZlY1JhbmdlWzFdKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZU51bWJlcih0aGlzLmRpclosIGRpclZlY1JhbmdlWzBdLCBkaXJWZWNSYW5nZVsxXSkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIGNvbnN0IHggPSAoRW5jb2RhYmxlQnl0ZU51bWJlci5kZWNvZGVXaXRoUGFyYW1zKGJ1ZmZlclN0YXRlLCB4elJhbmdlWzBdLCB4elJhbmdlWzFdKSBhcyBFbmNvZGFibGVCeXRlTnVtYmVyKS5uO1xuICAgICAgICBjb25zdCB5ID0gKEVuY29kYWJsZUJ5dGVOdW1iZXIuZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZSwgeVJhbmdlWzBdLCB5UmFuZ2VbMV0pIGFzIEVuY29kYWJsZUJ5dGVOdW1iZXIpLm47XG4gICAgICAgIGNvbnN0IHogPSAoRW5jb2RhYmxlQnl0ZU51bWJlci5kZWNvZGVXaXRoUGFyYW1zKGJ1ZmZlclN0YXRlLCB4elJhbmdlWzBdLCB4elJhbmdlWzFdKSBhcyBFbmNvZGFibGVCeXRlTnVtYmVyKS5uO1xuICAgICAgICBjb25zdCBkaXJYID0gKEVuY29kYWJsZUJ5dGVOdW1iZXIuZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZSwgZGlyVmVjUmFuZ2VbMF0sIGRpclZlY1JhbmdlWzFdKSBhcyBFbmNvZGFibGVCeXRlTnVtYmVyKS5uO1xuICAgICAgICBjb25zdCBkaXJZID0gKEVuY29kYWJsZUJ5dGVOdW1iZXIuZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZSwgZGlyVmVjUmFuZ2VbMF0sIGRpclZlY1JhbmdlWzFdKSBhcyBFbmNvZGFibGVCeXRlTnVtYmVyKS5uO1xuICAgICAgICBjb25zdCBkaXJaID0gKEVuY29kYWJsZUJ5dGVOdW1iZXIuZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZSwgZGlyVmVjUmFuZ2VbMF0sIGRpclZlY1JhbmdlWzFdKSBhcyBFbmNvZGFibGVCeXRlTnVtYmVyKS5uO1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdFRyYW5zZm9ybSh4LCB5LCB6LCBkaXJYLCBkaXJZLCBkaXJaKTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgRW5jb2RhYmxlQnl0ZVN0cmluZyBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVCeXRlU3RyaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlcnNpc3RlbnRPYmplY3QgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgb2JqZWN0SWQ6IHN0cmluZztcbiAgICBvYmplY3RUeXBlSW5kZXg6IG51bWJlcjtcbiAgICBkaXJlY3Rpb246IFwiK3pcIiB8IFwiK3hcIiB8IFwiLXpcIiB8IFwiLXhcIjtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHo6IG51bWJlcjtcbiAgICBtZXRhZGF0YTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Iob2JqZWN0SWQ6IHN0cmluZywgb2JqZWN0VHlwZUluZGV4OiBudW1iZXIsIGRpcmVjdGlvbjogXCIrelwiIHwgXCIreFwiIHwgXCItelwiIHwgXCIteFwiLFxuICAgICAgICB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCBtZXRhZGF0YTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vYmplY3RJZCA9IG9iamVjdElkO1xuICAgICAgICB0aGlzLm9iamVjdFR5cGVJbmRleCA9IG9iamVjdFR5cGVJbmRleDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0VHlwZUluZGV4IDwgMCB8fCB0aGlzLm9iamVjdFR5cGVJbmRleCA+IDYzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPYmplY3QgdHlwZSBpbmRleCBvdXQgb2YgcmFuZ2UgKG9iamVjdFR5cGVJbmRleCA9ICR7dGhpcy5vYmplY3RUeXBlSW5kZXh9KWApO1xuICAgICAgICBpZiAodGhpcy54IDwgMCB8fCB0aGlzLnggPiAzMilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgT2JqZWN0IHggb3V0IG9mIHJhbmdlICh4ID0gJHt0aGlzLnh9KWApO1xuICAgICAgICBpZiAodGhpcy56IDwgMCB8fCB0aGlzLnogPiAzMilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgT2JqZWN0IHogb3V0IG9mIHJhbmdlICh6ID0gJHt0aGlzLnp9KWApO1xuICAgICAgICBpZiAodGhpcy55IDwgMCB8fCB0aGlzLnkgPiA0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPYmplY3QgeSBvdXQgb2YgcmFuZ2UgKHkgPSAke3RoaXMueX0pYCk7XG5cbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSAodGhpcy5vYmplY3RUeXBlSW5kZXggPDwgMikgfCAoXG4gICAgICAgICAgICAodGhpcy5kaXJlY3Rpb24gPT0gXCIrelwiKSA/IDBiMDAgOiAoXG4gICAgICAgICAgICAgICAgKHRoaXMuZGlyZWN0aW9uID09IFwiK3hcIikgPyAwYjAxIDogKFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5kaXJlY3Rpb24gPT0gXCItelwiKSA/IDBiMTAgOiAwYjExXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCB5UmF3ID0gTWF0aC5mbG9vcig0ICogdGhpcy55KTtcbiAgICAgICAgY29uc3QgeVJhd0ZpcnN0SGFsZiA9ICh5UmF3ICYgMGIxMTAwKSA+PiAyO1xuICAgICAgICBjb25zdCB5UmF3U2Vjb25kSGFsZiA9ICh5UmF3ICYgMGIwMDExKTtcbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSAoTWF0aC5mbG9vcigyICogdGhpcy54KSA8PCAyIHwgeVJhd0ZpcnN0SGFsZik7XG4gICAgICAgIGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdID0gKE1hdGguZmxvb3IoMiAqIHRoaXMueikgPDwgMiB8IHlSYXdTZWNvbmRIYWxmKTtcblxuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZVN0cmluZyh0aGlzLm1ldGFkYXRhKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFpbkJ5dGUxID0gYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK107XG4gICAgICAgIGNvbnN0IG9iamVjdFR5cGVJbmRleCA9IChtYWluQnl0ZTEgPj4gMikgJiAwYjExMTExMTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uUmF3ID0gKG1haW5CeXRlMSAmIDBiMTEpO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSAoZGlyZWN0aW9uUmF3IDw9IDEpXG4gICAgICAgICAgICA/ICgoZGlyZWN0aW9uUmF3ID09IDApID8gXCIrelwiIDogXCIreFwiKVxuICAgICAgICAgICAgOiAoKGRpcmVjdGlvblJhdyA9PSAyKSA/IFwiLXpcIiA6IFwiLXhcIik7XG5cbiAgICAgICAgY29uc3QgbWFpbkJ5dGUyID0gYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK107XG4gICAgICAgIGNvbnN0IHhSYXcgPSAobWFpbkJ5dGUyID4+IDIpICYgMGIxMTExMTE7XG4gICAgICAgIGNvbnN0IHggPSAwLjUgKiB4UmF3O1xuICAgICAgICBjb25zdCB5UmF3Rmlyc3RIYWxmID0gKG1haW5CeXRlMiAmIDBiMTEpO1xuXG4gICAgICAgIGNvbnN0IG1haW5CeXRlMyA9IGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdO1xuICAgICAgICBjb25zdCB6UmF3ID0gKG1haW5CeXRlMyA+PiAyKSAmIDBiMTExMTExO1xuICAgICAgICBjb25zdCB6ID0gMC41ICogelJhdztcbiAgICAgICAgY29uc3QgeVJhd1NlY29uZEhhbGYgPSAobWFpbkJ5dGUzICYgMGIxMSk7XG4gICAgICAgIGNvbnN0IHlSYXcgPSAoeVJhd0ZpcnN0SGFsZiA8PCAyKSB8IHlSYXdTZWNvbmRIYWxmO1xuICAgICAgICBjb25zdCB5ID0gMC4yNSAqIHlSYXc7XG5cbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSAoRW5jb2RhYmxlQnl0ZVN0cmluZy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZUJ5dGVTdHJpbmcpLnN0cjtcblxuICAgICAgICBjb25zdCBvYmplY3RJZCA9IGBwJHt4fS0ke3l9LSR7en1gO1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbnRPYmplY3Qob2JqZWN0SWQsIG9iamVjdFR5cGVJbmRleCwgZGlyZWN0aW9uLCB4LCB5LCB6LCBtZXRhZGF0YSk7XG4gICAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRWFjaCBQZXJzaXN0ZW50T2JqZWN0J3MgQmluYXJ5LUVuY29kZWQgRm9ybWF0OlxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyBMYXlvdXQ6IFtNYWluIEJ5dGUgMV1bTWFpbiBCeXRlIDJdW01haW4gQnl0ZSAzXVtNZXRhZGF0YSBCeXRlXVtNZXRhZGF0YSBCeXRlXVtNZXRhZGF0YSBCeXRlXS4uLlxuLy9cbi8vIFtNYWluIEJ5dGUgMV1cbi8vICAgICA2IGJpdHMgZm9yIHRoZSBvYmplY3QncyB0eXBlIGluZGV4XG4vLyAgICAgMiBiaXRzIGZvciB0aGUgb2JqZWN0J3MgZGlyZWN0aW9uXG4vLyAgICAgICAgICgwMCA9PiAreiwgMDEgPT4gK3gsIDEwID0+IC16LCAxMSA9PiAteClcbi8vXG4vLyBbTWFpbiBCeXRlIDJdXG4vLyAgICAgNiBiaXRzIGZvciB0aGUgeC1jb29yZGluYXRlIG9mIHRoZSBvYmplY3QncyBjZW50ZXIgcG9zaXRpb25cbi8vICAgICAgICAgKGJpbmFyeSB2YWx1ZSA9IGZsb29yKDIgKiB4KSlcbi8vICAgICBmaXJzdCAyIGJpdHMgb2YgdGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0J3MgYm90dG9tIHBvc2l0aW9uXG4vLyAgICAgICAgICg0LWJpdCBiaW5hcnkgdmFsdWUgPSBmbG9vcig0ICogeSkpXG4vL1xuLy8gW01haW4gQnl0ZSAzXVxuLy8gICAgIDYgYml0cyBmb3IgdGhlIHotY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0J3MgY2VudGVyIHBvc2l0aW9uXG4vLyAgICAgICAgIChiaW5hcnkgdmFsdWUgPSBmbG9vcigyICogeikpXG4vLyAgICAgc2Vjb25kIDIgYml0cyBvZiB0aGUgeS1jb29yZGluYXRlIG9mIHRoZSBvYmplY3QncyBib3R0b20gcG9zaXRpb25cbi8vICAgICAgICAgKDQtYml0IGJpbmFyeSB2YWx1ZSA9IGZsb29yKDQgKiB5KSlcbi8vXG4vLyBbTWV0YWRhdGEgQnl0ZV1cbi8vICAgICA4IGJpdHMgZm9yIGVhY2ggY2hhcmFjdGVyIGluIHRoZSBtZXRhZGF0YSBzdHJpbmcgKDAgKG51bGwgY2hhcmFjdGVyKSBtYXJrcyB0aGUgZW5kIG9mIHRoZSBtZXRhZGF0YSBzdHJpbmcpXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIsImltcG9ydCBQZXJzaXN0ZW50T2JqZWN0IGZyb20gXCIuL3BlcnNpc3RlbnRPYmplY3RcIjtcbmltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiXG5pbXBvcnQgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlciBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVSYXdCeXRlTnVtYmVyXCI7XG5pbXBvcnQgRW5jb2RhYmxlQXJyYXkgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlQXJyYXlcIjtcblxuY29uc3QgbGF0ZXN0VmVyc2lvbiA9IDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlcnNpc3RlbnRPYmplY3RHcm91cCBleHRlbmRzIEVuY29kYWJsZURhdGFcbntcbiAgICBwZXJzaXN0ZW50T2JqZWN0czogUGVyc2lzdGVudE9iamVjdFtdO1xuXG4gICAgY29uc3RydWN0b3IocGVyc2lzdGVudE9iamVjdHM6IFBlcnNpc3RlbnRPYmplY3RbXSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGVyc2lzdGVudE9iamVjdHMgPSBwZXJzaXN0ZW50T2JqZWN0cztcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgbmV3IEVuY29kYWJsZVJhd0J5dGVOdW1iZXIobGF0ZXN0VmVyc2lvbikuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgbmV3IEVuY29kYWJsZUFycmF5KHRoaXMucGVyc2lzdGVudE9iamVjdHMsIDY1NTM1KS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuXG4gICAgICAgIGZvciAoY29uc3QgcGVyc2lzdGVudE9iamVjdCBvZiB0aGlzLnBlcnNpc3RlbnRPYmplY3RzKVxuICAgICAgICAgICAgcGVyc2lzdGVudE9iamVjdC5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbkZvdW5kID0gKEVuY29kYWJsZVJhd0J5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKS5uO1xuICAgICAgICBpZiAodmVyc2lvbkZvdW5kIDwgbGF0ZXN0VmVyc2lvbilcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBvbGRlclZlcnNpb25EZWNvZGVyc1t2ZXJzaW9uRm91bmRdKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgICAgIGZvciAobGV0IHZlcnNpb24gPSB2ZXJzaW9uRm91bmQ7IHZlcnNpb24gPCBsYXRlc3RWZXJzaW9uOyArK3ZlcnNpb24pXG4gICAgICAgICAgICAgICAgZGF0YSA9IHZlcnNpb25Db252ZXJ0ZXJzW3ZlcnNpb25dKGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwZXJzaXN0ZW50T2JqZWN0cyA9IChFbmNvZGFibGVBcnJheS5kZWNvZGVXaXRoUGFyYW1zKGJ1ZmZlclN0YXRlLCBQZXJzaXN0ZW50T2JqZWN0LmRlY29kZSwgNjU1MzUpIGFzIEVuY29kYWJsZUFycmF5KS5hcnIgYXMgUGVyc2lzdGVudE9iamVjdFtdO1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbnRPYmplY3RHcm91cChwZXJzaXN0ZW50T2JqZWN0cyk7XG4gICAgfVxufVxuXG5jb25zdCBvbGRlclZlcnNpb25EZWNvZGVyczogKChidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpID0+IEVuY29kYWJsZURhdGEpW10gPSBbXG4gICAgKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSkgPT4geyAvLyB2ZXJzaW9uIDBcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW50T2JqZWN0R3JvdXAoW10pOyAvLyBUaGlzIGlzIGp1c3QgYSBwbGFjZWhvbGRlclxuICAgIH0sXG5dO1xuXG5jb25zdCB2ZXJzaW9uQ29udmVydGVyczogKChvbGRlclZlcnNpb25EYXRhOiBFbmNvZGFibGVEYXRhKSA9PiBFbmNvZGFibGVEYXRhKVtdID0gW1xuICAgIChvbGRlclZlcnNpb25EYXRhOiBFbmNvZGFibGVEYXRhKSA9PiB7IC8vIHZlcnNpb24gMCAtPiAxXG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVudE9iamVjdEdyb3VwKFtdKTsgLy8gVGhpcyBpcyBqdXN0IGEgcGxhY2Vob2xkZXJcbiAgICB9LFxuXTsiLCJpbXBvcnQgVmVjMiBmcm9tIFwiLi4vbWF0aC90eXBlcy92ZWMyXCI7XG5pbXBvcnQgVmVjdG9yMkQgZnJvbSBcIi4uL21hdGgvdXRpbC92ZWN0b3IyRFwiO1xuaW1wb3J0IFBoeXNpY3NPYmplY3QgZnJvbSBcIi4vdHlwZXMvcGh5c2ljc09iamVjdFwiO1xuaW1wb3J0IFBoeXNpY3NWb3hlbCBmcm9tIFwiLi90eXBlcy9waHlzaWNzVm94ZWxcIjtcbmltcG9ydCBQaHlzaWNzUG9zVXBkYXRlUmVzdWx0IGZyb20gXCIuL3R5cGVzL3BoeXNpY3NQb3NVcGRhdGVSZXN1bHRcIjtcbmltcG9ydCBSb29tUnVudGltZU1lbW9yeSBmcm9tIFwiLi4vcm9vbS90eXBlcy9yb29tUnVudGltZU1lbW9yeVwiO1xuaW1wb3J0IFBoeXNpY3NSb29tIGZyb20gXCIuL3R5cGVzL3BoeXNpY3NSb29tXCI7XG5pbXBvcnQgUGh5c2ljc0hpdFN0YXRlIGZyb20gXCIuL3R5cGVzL3BoeXNpY3NIaXRTdGF0ZVwiO1xuaW1wb3J0IEFBQkIyIGZyb20gXCIuLi9tYXRoL3R5cGVzL2FhYmIyXCI7XG5pbXBvcnQgeyBnZXRMb3dlc3RPYmplY3RDb2xsaXNpb25MYXllciwgZ2V0T2JqZWN0c0luRGlzdCwgcmVtb3ZlT2JqZWN0RnJvbUludGVyc2VjdGluZ1ZveGVscywgc2V0T2JqZWN0UG9zaXRpb24gfSBmcm9tIFwiLi91dGlsL3BoeXNpY3NPYmplY3RVdGlsXCI7XG5pbXBvcnQgeyBnZXRWb3hlbHNJbkJveCB9IGZyb20gXCIuL3V0aWwvcGh5c2ljc1ZveGVsVXRpbFwiO1xuaW1wb3J0IHsgcHVzaEJveEFnYWluc3RCb3ggfSBmcm9tIFwiLi91dGlsL3BoeXNpY3NDb2xsaXNpb25VdGlsXCI7XG5pbXBvcnQgeyBnZXRIaWdoZXN0T2NjdXBpZWRWb3hlbENvbGxpc2lvbkxheWVyLCBpc1ZveGVsQ29sbGlzaW9uTGF5ZXJPY2N1cGllZCB9IGZyb20gXCIuLi92b3hlbC91dGlsL3ZveGVsUXVlcnlVdGlsXCI7XG5pbXBvcnQgeyBDT0xMSVNJT05fTEFZRVJfTUFYLCBDT0xMSVNJT05fTEFZRVJfTUlOLCBDT0xMSVNJT05fTEFZRVJfTlVMTCwgTUlOX09CSkVDVF9MRVZFTF9DSEFOR0VfSU5URVJWQUwsIE5VTV9WT1hFTF9DT0xTLCBOVU1fVk9YRUxfUk9XUyB9IGZyb20gXCIuLi9zeXN0ZW0vY29uc3RhbnRzXCI7XG5cbmNvbnN0IHBoeXNpY3NSb29tczoge1tyb29tSUQ6IG51bWJlcl06IFBoeXNpY3NSb29tfSA9IHt9O1xuXG5sZXQgaGl0U3RhdGVUZW1wOiBQaHlzaWNzSGl0U3RhdGUgPSB7XG4gICAgbWluSGl0UmF5U2NhbGU6IDEsXG4gICAgaGl0TGluZTogdW5kZWZpbmVkLFxufTtcblxuY29uc3QgUGh5c2ljc01hbmFnZXIgPVxue1xuICAgIGxvYWQ6IChyb29tUnVudGltZU1lbW9yeTogUm9vbVJ1bnRpbWVNZW1vcnkpID0+XG4gICAge1xuICAgICAgICBpZiAocGh5c2ljc1Jvb21zW3Jvb21SdW50aW1lTWVtb3J5LnJvb20ucm9vbUlEXSAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBoeXNpY3Mtcm9vbSBhbHJlYWR5IGV4aXN0cyAocm9vbUlEID0gJHtyb29tUnVudGltZU1lbW9yeS5yb29tLnJvb21JRH0pYCk7XG5cbiAgICAgICAgY29uc3Qgdm94ZWxHcmlkID0gcm9vbVJ1bnRpbWVNZW1vcnkucm9vbS52b3hlbEdyaWQ7XG5cbiAgICAgICAgcGh5c2ljc1Jvb21zW3Jvb21SdW50aW1lTWVtb3J5LnJvb20ucm9vbUlEXSA9IHtcbiAgICAgICAgICAgIHJvb206IHJvb21SdW50aW1lTWVtb3J5LnJvb20sXG4gICAgICAgICAgICB2b3hlbHM6IHZveGVsR3JpZC52b3hlbHMubWFwKHZveGVsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB2b3hlbC5yb3c7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sID0gdm94ZWwuY29sO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGluZ09iamVjdHMgPSBuZXcgQXJyYXk8UGh5c2ljc09iamVjdD4oNCk7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW5nT2JqZWN0cy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGh5c2ljc1ZveGVsOiBQaHlzaWNzVm94ZWwgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZveGVsLFxuICAgICAgICAgICAgICAgICAgICBoaXRib3g6IHt4OiBjb2wrMC41LCB5OiByb3crMC41LCBoYWxmU2l6ZVg6IDAuNSwgaGFsZlNpemVZOiAwLjV9LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3RpbmdPYmplY3RzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBoeXNpY3NWb3hlbDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb2JqZWN0QnlJZDoge30sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB1bmxvYWQ6IChyb29tSUQ6IG51bWJlcikgPT5cbiAgICB7XG4gICAgICAgIGlmIChwaHlzaWNzUm9vbXNbcm9vbUlEXSA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBoeXNpY3Mtcm9vbSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG4gICAgICAgIGRlbGV0ZSBwaHlzaWNzUm9vbXNbcm9vbUlEXTtcbiAgICB9LFxuICAgIGhhc1Jvb206IChyb29tSUQ6IG51bWJlcik6IGJvb2xlYW4gPT5cbiAgICB7XG4gICAgICAgIHJldHVybiBwaHlzaWNzUm9vbXNbcm9vbUlEXSAhPSB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBhZGRPYmplY3Q6IChyb29tSUQ6IG51bWJlciwgb2JqZWN0SWQ6IHN0cmluZywgaGl0Ym94OiBBQUJCMiwgY29sbGlzaW9uTGF5ZXJNYXNrQXRHcm91bmRMZXZlbDogbnVtYmVyKTogUGh5c2ljc09iamVjdCA9PlxuICAgIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgUGh5c2ljc01hbmFnZXIuYWRkT2JqZWN0IDo6IHJvb21JRCA9ICR7cm9vbUlEfSwgb2JqZWN0SWQgPSAke29iamVjdElkfWApO1xuICAgICAgICBjb25zdCBwaHlzaWNzUm9vbSA9IHBoeXNpY3NSb29tc1tyb29tSURdO1xuICAgICAgICBpZiAocGh5c2ljc1Jvb20gPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQaHlzaWNzLXJvb20gZG9lc24ndCBleGlzdCAocm9vbUlEID0gJHtyb29tSUR9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuXG4gICAgICAgIGlmIChwaHlzaWNzUm9vbS5vYmplY3RCeUlkW29iamVjdElkXSAhPSB1bmRlZmluZWQpIC8vIGFscmVhZHkgYWRkZWRcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBQaHlzaWNzT2JqY3QgaXMgYWxyZWFkeSBhZGRlZCAocm9vbUlEID0gJHtyb29tSUR9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuICAgICAgICAgICAgcmV0dXJuIHBoeXNpY3NSb29tLm9iamVjdEJ5SWRbb2JqZWN0SWRdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJWb3hlbCA9IHBoeXNpY3NSb29tLnZveGVsc1tNYXRoLmZsb29yKGhpdGJveC55KSAqIE5VTV9WT1hFTF9DT0xTICsgTWF0aC5mbG9vcihoaXRib3gueCldLnZveGVsO1xuICAgICAgICBjb25zdCBoaWdoZXN0TGF5ZXIgPSBnZXRIaWdoZXN0T2NjdXBpZWRWb3hlbENvbGxpc2lvbkxheWVyKGN1cnJWb3hlbCk7XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGluZ1ZveGVscyA9IG5ldyBBcnJheTxQaHlzaWNzVm94ZWw+KDQpO1xuICAgICAgICBpbnRlcnNlY3RpbmdWb3hlbHMubGVuZ3RoID0gMDtcblxuICAgICAgICBjb25zdCBuZXdPYmplY3Q6IFBoeXNpY3NPYmplY3QgPSB7XG4gICAgICAgICAgICBvYmplY3RJZCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkxheWVyTWFza0F0R3JvdW5kTGV2ZWwsXG4gICAgICAgICAgICBsZXZlbDogKGhpZ2hlc3RMYXllciAhPSBDT0xMSVNJT05fTEFZRVJfTlVMTCkgPyBoaWdoZXN0TGF5ZXIgOiBDT0xMSVNJT05fTEFZRVJfTUlOLFxuICAgICAgICAgICAgbGFzdExldmVsQ2hhbmdlVGltZTogcGVyZm9ybWFuY2Uubm93KCkgKiAwLjAwMSxcbiAgICAgICAgICAgIGhpdGJveCxcbiAgICAgICAgICAgIGludGVyc2VjdGluZ1ZveGVsc1xuICAgICAgICB9O1xuICAgICAgICBwaHlzaWNzUm9vbS5vYmplY3RCeUlkW29iamVjdElkXSA9IG5ld09iamVjdDtcblxuICAgICAgICBzZXRPYmplY3RQb3NpdGlvbihwaHlzaWNzUm9vbSwgb2JqZWN0SWQsIHsgeDogaGl0Ym94LngsIHk6IGhpdGJveC55IH0pO1xuICAgICAgICByZXR1cm4gbmV3T2JqZWN0O1xuICAgIH0sXG4gICAgcmVtb3ZlT2JqZWN0OiAocm9vbUlEOiBudW1iZXIsIG9iamVjdElkOiBzdHJpbmcpID0+XG4gICAge1xuICAgICAgICAvL2NvbnNvbGUubG9nKGBQaHlzaWNzTWFuYWdlci5yZW1vdmVPYmplY3QgOjogcm9vbUlEID0gJHtyb29tSUR9LCBvYmplY3RJZCA9ICR7b2JqZWN0SWR9YCk7XG4gICAgICAgIGNvbnN0IHBoeXNpY3NSb29tID0gcGh5c2ljc1Jvb21zW3Jvb21JRF07XG4gICAgICAgIGlmIChwaHlzaWNzUm9vbSA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBoeXNpY3Mtcm9vbSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0sIG9iamVjdElkID0gJHtvYmplY3RJZH0pYCk7XG5cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gcGh5c2ljc1Jvb20ub2JqZWN0QnlJZFtvYmplY3RJZF07XG4gICAgICAgIGlmIChvYmplY3QgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQaHlzaWNzT2JqZWN0IGlzIG5vdCByZWdpc3RlcmVkIChyb29tSUQgPSAke3Jvb21JRH0sIG9iamVjdElkID0gJHtvYmplY3RJZH0pYCk7XG4gICAgICAgIGRlbGV0ZSBwaHlzaWNzUm9vbS5vYmplY3RCeUlkW29iamVjdElkXTtcblxuICAgICAgICByZW1vdmVPYmplY3RGcm9tSW50ZXJzZWN0aW5nVm94ZWxzKG9iamVjdCk7XG4gICAgfSxcbiAgICB0cnlNb3ZlT2JqZWN0OiAocm9vbUlEOiBudW1iZXIsIG9iamVjdElkOiBzdHJpbmcsIHRhcmdldFBvczogVmVjMik6IFBoeXNpY3NQb3NVcGRhdGVSZXN1bHQgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHBoeXNpY3NSb29tID0gcGh5c2ljc1Jvb21zW3Jvb21JRF07XG4gICAgICAgIGlmIChwaHlzaWNzUm9vbXNbcm9vbUlEXSA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBoeXNpY3Mtcm9vbSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG5cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gcGh5c2ljc1Jvb20ub2JqZWN0QnlJZFtvYmplY3RJZF07XG4gICAgICAgIGlmIChvYmplY3QgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQaHlzaWNzT2JqZWN0IGlzIG5vdCByZWdpc3RlcmVkIChvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuXG4gICAgICAgIGxldCBzdGFydFBvczogVmVjMiA9IHsgeDogb2JqZWN0LmhpdGJveC54LCB5OiBvYmplY3QuaGl0Ym94LnkgfTtcblxuICAgICAgICAvLyBBbnkgYXR0ZW1wdCB0byBtb3ZlIG1vcmUgZm9yIHRoYW4gdGhlIGRpc3RhbmNlIG9mIDMgd2lsbCBmb3JjZS1zeW5jIHRoZSBvYmplY3QgYmFjayB0byBpdHMgb3JpZ2luYWwgbG9jYXRpb24uXG4gICAgICAgIGNvbnN0IGRlc3luY0Rpc3RTcXIgPSBWZWN0b3IyRC5kaXN0U3FyKHRhcmdldFBvcywgc3RhcnRQb3MpO1xuICAgICAgICBpZiAoZGVzeW5jRGlzdFNxciA+PSA5KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFBoeXNpY3MtcG9zaXRpb24gZGVzeW5jIGR1ZSB0byBkaXN0YW5jZSBnYXAgKHN0YXJ0UG9zID0gKCR7c3RhcnRQb3MueC50b0ZpeGVkKDMpfSwgJHtzdGFydFBvcy55LnRvRml4ZWQoMyl9KSwgdGFyZ2V0UG9zID0gKCR7dGFyZ2V0UG9zLngudG9GaXhlZCgzKX0sICR7dGFyZ2V0UG9zLnkudG9GaXhlZCgzKX0pLCBkaXN0ID0gJHtNYXRoLnNxcnQoZGVzeW5jRGlzdFNxcil9KWApO1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVzb2x2ZWRQb3M6IHN0YXJ0UG9zLCBkZXN5bmNEZXRlY3RlZDogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXN5bmNEaXN0U3FyIDwgMC4wMDAwMDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB7IHJlc29sdmVkUG9zOiBzdGFydFBvcywgZGVzeW5jRGV0ZWN0ZWQ6IGZhbHNlIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGVwIGJhY2sgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uIGEgYml0LCB0byBwcmV2ZW50IHJheWNhc3RpbmcgZnJvbSB3aXRoaW4gdGhlIGVuY2xvc2luZyBsaW5lIHNlZ21lbnRzIG9mIHdoaWNoZXZlciBuZWFyYnkgb2JzdGFjbGUgKGhpdGJveCkgdGhhdCB0aGUgb2JqZWN0IGlzIHJ1bm5pbmcgYWdhaW5zdC5cbiAgICAgICAgY29uc3QgZGlyID0gVmVjdG9yMkQubm9ybWFsaXplKFZlY3RvcjJELnN1YnRyYWN0KHRhcmdldFBvcywgc3RhcnRQb3MpKTtcbiAgICAgICAgc3RhcnRQb3MgPSBWZWN0b3IyRC5zdWJ0cmFjdChzdGFydFBvcywgVmVjdG9yMkQuc2NhbGUoZGlyLCAwLjAxKSk7XG5cbiAgICAgICAgY29uc3QgbWluSW50ZXJzZWN0YWJsZVggPSBNYXRoLm1pbihzdGFydFBvcy54LCB0YXJnZXRQb3MueCkgLSBvYmplY3QuaGl0Ym94LmhhbGZTaXplWDtcbiAgICAgICAgY29uc3QgbWF4SW50ZXJzZWN0YWJsZVggPSBNYXRoLm1heChzdGFydFBvcy54LCB0YXJnZXRQb3MueCkgKyBvYmplY3QuaGl0Ym94LmhhbGZTaXplWDtcbiAgICAgICAgY29uc3QgbWluSW50ZXJzZWN0YWJsZVkgPSBNYXRoLm1pbihzdGFydFBvcy55LCB0YXJnZXRQb3MueSkgLSBvYmplY3QuaGl0Ym94LmhhbGZTaXplWTtcbiAgICAgICAgY29uc3QgbWF4SW50ZXJzZWN0YWJsZVkgPSBNYXRoLm1heChzdGFydFBvcy55LCB0YXJnZXRQb3MueSkgKyBvYmplY3QuaGl0Ym94LmhhbGZTaXplWTtcbiAgICAgICAgY29uc3QgbWluQ29sID0gTWF0aC5mbG9vcihtaW5JbnRlcnNlY3RhYmxlWCk7XG4gICAgICAgIGNvbnN0IG1heENvbCA9IE1hdGguZmxvb3IobWF4SW50ZXJzZWN0YWJsZVgpO1xuICAgICAgICBjb25zdCBtaW5Sb3cgPSBNYXRoLmZsb29yKG1pbkludGVyc2VjdGFibGVZKTtcbiAgICAgICAgY29uc3QgbWF4Um93ID0gTWF0aC5mbG9vcihtYXhJbnRlcnNlY3RhYmxlWSk7XG5cbiAgICAgICAgLy8gRGV0ZWN0IHRoZSBvdXQtb2YtYm91bmRhcnkgY29uZGl0aW9ucy5cbiAgICAgICAgaWYgKG1pbkNvbCA8IDAgfHwgbWluUm93IDwgMCB8fCBtYXhDb2wgPj0gTlVNX1ZPWEVMX0NPTFMgfHwgbWF4Um93ID49IE5VTV9WT1hFTF9ST1dTKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFBoeXNpY3MtcG9zaXRpb24gZGVzeW5jIGR1ZSB0byByb29tIGJvdW5kYXJ5IGxpbWl0IChzdGFydFBvcyA9ICgke3N0YXJ0UG9zLngudG9GaXhlZCgzKX0sICR7c3RhcnRQb3MueS50b0ZpeGVkKDMpfSksIHRhcmdldFBvcyA9ICgke3RhcmdldFBvcy54LnRvRml4ZWQoMyl9LCAke3RhcmdldFBvcy55LnRvRml4ZWQoMyl9LCBtaW5Db2wgPSAke21pbkNvbH0sIG1pblJvdyA9ICR7bWluUm93fSwgbWF4Q29sID0gJHttYXhDb2x9LCBtYXhSb3cgPSAke21heFJvd30pKWApO1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVzb2x2ZWRQb3M6IHN0YXJ0UG9zLCBkZXN5bmNEZXRlY3RlZDogdHJ1ZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaGl0U3RhdGVUZW1wLm1pbkhpdFJheVNjYWxlID0gMTtcbiAgICAgICAgaGl0U3RhdGVUZW1wLmhpdExpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjdXJyVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpICogMC4wMDE7XG4gICAgICAgIGNvbnN0IGN1cnJWb3hlbCA9IHBoeXNpY3NSb29tLnZveGVsc1tNYXRoLmZsb29yKHN0YXJ0UG9zLnkpICogTlVNX1ZPWEVMX0NPTFMgKyBNYXRoLmZsb29yKHN0YXJ0UG9zLngpXS52b3hlbDtcbiAgICAgICAgbGV0IG9iamVjdE1hc2sgPSBvYmplY3QuY29sbGlzaW9uTGF5ZXJNYXNrQXRHcm91bmRMZXZlbCA8PCBvYmplY3QubGV2ZWw7XG4gICAgICAgIGNvbnN0IG9iamVjdE1hc2tBZnRlclNoaWZ0ID0gb2JqZWN0LmNvbGxpc2lvbkxheWVyTWFza0F0R3JvdW5kTGV2ZWwgPDwgKG9iamVjdC5sZXZlbCArIDEpO1xuICAgICAgICBsZXQgbWF4TGF5ZXJBbW9uZ092ZXJsYXBwaW5nVm94ZWxzID0gLTk5OTk7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjb2xsaXNpb24gYWdhaW5zdCB2b3hlbHNcbiAgICAgICAgZm9yIChsZXQgcm93ID0gbWluUm93OyByb3cgPD0gbWF4Um93OyArK3JvdylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gbWluQ29sOyBjb2wgPD0gbWF4Q29sOyArK2NvbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaHlzaWNzVm94ZWwgPSBwaHlzaWNzUm9vbS52b3hlbHNbcm93ICogTlVNX1ZPWEVMX0NPTFMgKyBjb2xdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFZveGVsID0gcGh5c2ljc1ZveGVsLnZveGVsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCh0YXJnZXRWb3hlbC5jb2xsaXNpb25MYXllck1hc2sgJiBvYmplY3RNYXNrKSAhPSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuSnVtcE92ZXJUb1RhcmdldFZveGVsID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJUaW1lID49IG9iamVjdC5sYXN0TGV2ZWxDaGFuZ2VUaW1lICsgTUlOX09CSkVDVF9MRVZFTF9DSEFOR0VfSU5URVJWQUwgJiYgLy8gSXQncyBiZWVuIGxvbmcgZW5vdWdoIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIG9iamVjdCdzIGxldmVsIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAob2JqZWN0TWFzayAmIDBiMTAwMDAwMDApID09IDAgJiYgLy8gT2JqZWN0IGlzIG5vdCB0b3VjaGluZyB0aGUgY2VpbGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgKGN1cnJWb3hlbC5jb2xsaXNpb25MYXllck1hc2sgJiBvYmplY3RNYXNrQWZ0ZXJTaGlmdCkgPT0gMCAmJiAvLyBUaGVyZSBpcyBzcGFjZSBmb3IgdGhlIG9iamVjdCB0byBqdW1wIHdpdGhpbiB0aGUgY3VycmVudCB2b3hlbFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRhcmdldFZveGVsLmNvbGxpc2lvbkxheWVyTWFzayAmIG9iamVjdE1hc2tBZnRlclNoaWZ0KSA9PSAwOyAvLyBUaGVyZSBpcyBzcGFjZSBmb3IgdGhlIG9iamVjdCB0byBvY2N1cHkgYWZ0ZXIgdGhlIGp1bXAgKGluIHRoZSB0YXJnZXQgdm94ZWwpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkp1bXBPdmVyVG9UYXJnZXRWb3hlbClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmxldmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RNYXNrID0gb2JqZWN0LmNvbGxpc2lvbkxheWVyTWFza0F0R3JvdW5kTGV2ZWwgPDwgb2JqZWN0LmxldmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lmxhc3RMZXZlbENoYW5nZVRpbWUgPSBjdXJyVGltZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hCb3hBZ2FpbnN0Qm94KG9iamVjdC5oaXRib3gsIHRhcmdldFBvcywgcGh5c2ljc1ZveGVsLmhpdGJveCwgaGl0U3RhdGVUZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hlc3RMYXllciA9IGdldEhpZ2hlc3RPY2N1cGllZFZveGVsQ29sbGlzaW9uTGF5ZXIodGFyZ2V0Vm94ZWwpO1xuICAgICAgICAgICAgICAgIGlmIChoaWdoZXN0TGF5ZXIgIT0gQ09MTElTSU9OX0xBWUVSX05VTEwgJiYgaGlnaGVzdExheWVyID4gbWF4TGF5ZXJBbW9uZ092ZXJsYXBwaW5nVm94ZWxzKVxuICAgICAgICAgICAgICAgICAgICBtYXhMYXllckFtb25nT3ZlcmxhcHBpbmdWb3hlbHMgPSBoaWdoZXN0TGF5ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPYmplY3Qgc2hvdWxkIGZhbGwgZG93biBpZiBpdCBpcyBzdXNwZW5kZWQgaW4gdGhpbiBhaXJcbiAgICAgICAgaWYgKG9iamVjdC5sZXZlbCA+IDAgJiZcbiAgICAgICAgICAgIGN1cnJUaW1lID49IG9iamVjdC5sYXN0TGV2ZWxDaGFuZ2VUaW1lICsgTUlOX09CSkVDVF9MRVZFTF9DSEFOR0VfSU5URVJWQUwgJiZcbiAgICAgICAgICAgIGdldExvd2VzdE9iamVjdENvbGxpc2lvbkxheWVyKG9iamVjdCkgPiBtYXhMYXllckFtb25nT3ZlcmxhcHBpbmdWb3hlbHMrMSlcbiAgICAgICAge1xuICAgICAgICAgICAgb2JqZWN0LmxldmVsLS07XG4gICAgICAgICAgICBvYmplY3RNYXNrID0gb2JqZWN0LmNvbGxpc2lvbkxheWVyTWFza0F0R3JvdW5kTGV2ZWwgPDwgb2JqZWN0LmxldmVsO1xuICAgICAgICAgICAgb2JqZWN0Lmxhc3RMZXZlbENoYW5nZVRpbWUgPSBjdXJyVGltZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUHJvY2VzcyBjb2xsaXNpb24gYWdhaW5zdCBvdGhlciBvYmplY3RzXG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJPYmplY3Qgb2YgT2JqZWN0LnZhbHVlcyhwaHlzaWNzUm9vbS5vYmplY3RCeUlkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJPYmplY3RNYXNrID0gb3RoZXJPYmplY3QuY29sbGlzaW9uTGF5ZXJNYXNrQXRHcm91bmRMZXZlbCA8PCBvdGhlck9iamVjdC5sZXZlbDtcblxuICAgICAgICAgICAgaWYgKG9iamVjdC5vYmplY3RJZCAhPSBvdGhlck9iamVjdC5vYmplY3RJZCAmJlxuICAgICAgICAgICAgICAgIChvYmplY3QuaGl0Ym94LmhhbGZTaXplWCA+IDAgfHwgb2JqZWN0LmhpdGJveC5oYWxmU2l6ZVkgPiAwKSAmJlxuICAgICAgICAgICAgICAgIChvYmplY3RNYXNrICYgb3RoZXJPYmplY3RNYXNrKSAhPSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhpdFN0YXRlVGVtcCA9IHB1c2hCb3hBZ2FpbnN0Qm94KG9iamVjdC5oaXRib3gsIHRhcmdldFBvcywgb3RoZXJPYmplY3QuaGl0Ym94LCBoaXRTdGF0ZVRlbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc29sdmVkUG9zID0gdGFyZ2V0UG9zO1xuXG4gICAgICAgIGlmIChoaXRTdGF0ZVRlbXAuaGl0TGluZSAhPSB1bmRlZmluZWQpXG4gICAgICAgIHsgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VG9IaXQgPSBWZWN0b3IyRC5zY2FsZShWZWN0b3IyRC5zdWJ0cmFjdCh0YXJnZXRQb3MsIHN0YXJ0UG9zKSwgaGl0U3RhdGVUZW1wLm1pbkhpdFJheVNjYWxlKTtcbiAgICAgICAgICAgIGNvbnN0IGhpdFBvczogVmVjMiA9IFZlY3RvcjJELmFkZChzdGFydFBvcywgc3RhcnRUb0hpdCk7XG4gICAgICAgICAgICBjb25zdCBoaXRUb1RhcmdldCA9IFZlY3RvcjJELnN1YnRyYWN0KHRhcmdldFBvcywgaGl0UG9zKTtcbiAgICAgICAgICAgIGxldCBoaXRUYW5nZW50ID0gVmVjdG9yMkQuc3VidHJhY3QoaGl0U3RhdGVUZW1wLmhpdExpbmUuZW5kLCBoaXRTdGF0ZVRlbXAuaGl0TGluZS5zdGFydCk7XG4gICAgICAgICAgICBsZXQgZG90ID0gVmVjdG9yMkQuZG90KGhpdFRvVGFyZ2V0LCBoaXRUYW5nZW50KTtcbiAgICAgICAgICAgIGlmIChkb3QgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEFuZ2xlIGJldHdlZW4gJ2hpdFRvVGFyZ2V0JyBhbmQgJ2hpdFRhbmdlbnQnIG11c3QgYmUgYWN1dGVcbiAgICAgICAgICAgICAgICBoaXRUYW5nZW50ID0gVmVjdG9yMkQuc3VidHJhY3QoaGl0U3RhdGVUZW1wLmhpdExpbmUuc3RhcnQsIGhpdFN0YXRlVGVtcC5oaXRMaW5lLmVuZCk7XG4gICAgICAgICAgICAgICAgZG90ID0gVmVjdG9yMkQuZG90KGhpdFRvVGFyZ2V0LCBoaXRUYW5nZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZEhpdFRvVGFyZ2V0ID0gVmVjdG9yMkQuc2NhbGUoaGl0VGFuZ2VudCwgZG90IC8gVmVjdG9yMkQuZG90KGhpdFRhbmdlbnQsIGhpdFRhbmdlbnQpKTtcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlZEhpdFBvcyA9IFZlY3RvcjJELmFkZChoaXRQb3MsIHByb2plY3RlZEhpdFRvVGFyZ2V0KTtcblxuICAgICAgICAgICAgY29uc3Qgdm94ZWxzSGl0T25TbGlkZSA9IGdldFZveGVsc0luQm94KHBoeXNpY3NSb29tLCB7XG4gICAgICAgICAgICAgICAgeDogc2xpZGVkSGl0UG9zLngsXG4gICAgICAgICAgICAgICAgeTogc2xpZGVkSGl0UG9zLnksXG4gICAgICAgICAgICAgICAgaGFsZlNpemVYOiBvYmplY3QuaGl0Ym94LmhhbGZTaXplWCxcbiAgICAgICAgICAgICAgICBoYWxmU2l6ZVk6IG9iamVjdC5oaXRib3guaGFsZlNpemVZLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgc2xpZGVCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBoeXNpY3NWb3hlbCBvZiB2b3hlbHNIaXRPblNsaWRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgocGh5c2ljc1ZveGVsLnZveGVsLmNvbGxpc2lvbkxheWVyTWFzayAmIG9iamVjdE1hc2spICE9IDApXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2xpZGVCbG9ja2VkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYGhpdCAtIFNMSURFIEJMT0NLRUQgKG1pbkhpdFJheVNjYWxlID0gJHttaW5IaXRSYXlTY2FsZX0sIGhpdFBvcyA9ICgke2hpdFBvcy54LnRvRml4ZWQoMil9LCAke2hpdFBvcy55LnRvRml4ZWQoMil9KSwgc2xpZGVkSGl0UG9zID0gKCR7c2xpZGVkSGl0UG9zLngudG9GaXhlZCgyKX0sICR7c2xpZGVkSGl0UG9zLnkudG9GaXhlZCgyKX0pKWApO1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUG9zID0gaGl0UG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYGhpdCAobWluSGl0UmF5U2NhbGUgPSAke21pbkhpdFJheVNjYWxlfSwgaGl0UG9zID0gKCR7aGl0UG9zLngudG9GaXhlZCgyKX0sICR7aGl0UG9zLnkudG9GaXhlZCgyKX0pLCBzbGlkZWRIaXRQb3MgPSAoJHtzbGlkZWRIaXRQb3MueC50b0ZpeGVkKDIpfSwgJHtzbGlkZWRIaXRQb3MueS50b0ZpeGVkKDIpfSkpYCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQb3MgPSBzbGlkZWRIaXRQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIG9iamVjdC5oaXRib3gueCA9IHJlc29sdmVkUG9zLng7XG4gICAgICAgIG9iamVjdC5oaXRib3gueSA9IHJlc29sdmVkUG9zLnk7XG5cbiAgICAgICAgcmV0dXJuIHsgcmVzb2x2ZWRQb3MsIGRlc3luY0RldGVjdGVkOiBmYWxzZSB9O1xuICAgIH0sXG4gICAgZm9yY2VNb3ZlT2JqZWN0OiAocm9vbUlEOiBudW1iZXIsIG9iamVjdElkOiBzdHJpbmcsIHRhcmdldFBvczogVmVjMikgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHBoeXNpY3NSb29tID0gcGh5c2ljc1Jvb21zW3Jvb21JRF07XG4gICAgICAgIGlmIChwaHlzaWNzUm9vbXNbcm9vbUlEXSA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBoeXNpY3Mtcm9vbSBkb2Vzbid0IGV4aXN0IChyb29tSUQgPSAke3Jvb21JRH0pYCk7XG5cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gcGh5c2ljc1Jvb20ub2JqZWN0QnlJZFtvYmplY3RJZF07XG4gICAgICAgIGlmIChvYmplY3QgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQaHlzaWNzT2JqZWN0IGlzIG5vdCByZWdpc3RlcmVkIChvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuXG4gICAgICAgIG9iamVjdC5oaXRib3gueCA9IHRhcmdldFBvcy54O1xuICAgICAgICBvYmplY3QuaGl0Ym94LnkgPSB0YXJnZXRQb3MueTtcbiAgICB9LFxuICAgIGdldE9iamVjdHNJbkRpc3Q6IChyb29tSUQ6IG51bWJlciwgY2VudGVyWDogbnVtYmVyLCBjZW50ZXJZOiBudW1iZXIsIGRpc3Q6IG51bWJlcik6IFBoeXNpY3NPYmplY3RbXSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcGh5c2ljc1Jvb20gPSBwaHlzaWNzUm9vbXNbcm9vbUlEXTtcbiAgICAgICAgaWYgKHBoeXNpY3NSb29tc1tyb29tSURdID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGh5c2ljcy1yb29tIGRvZXNuJ3QgZXhpc3QgKHJvb21JRCA9ICR7cm9vbUlEfSlgKTtcblxuICAgICAgICByZXR1cm4gZ2V0T2JqZWN0c0luRGlzdChwaHlzaWNzUm9vbSwgY2VudGVyWCwgY2VudGVyWSwgZGlzdCk7XG4gICAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGh5c2ljc01hbmFnZXI7IiwiaW1wb3J0IEFBQkIyIGZyb20gXCIuLi8uLi9tYXRoL3R5cGVzL2FhYmIyXCI7XG5pbXBvcnQgVmVjMiBmcm9tIFwiLi4vLi4vbWF0aC90eXBlcy92ZWMyXCI7XG5pbXBvcnQgUGh5c2ljc0hpdFN0YXRlIGZyb20gXCIuLi90eXBlcy9waHlzaWNzSGl0U3RhdGVcIjtcbmltcG9ydCBHZW9tZXRyeTJEIGZyb20gXCIuLi8uLi9tYXRoL3V0aWwvZ2VvbWV0cnkyRFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcHVzaEJveEFnYWluc3RCb3goc291cmNlSGl0Ym94OiBBQUJCMiwgdGFyZ2V0UG9zOiBWZWMyLCB0YXJnZXRIaXRib3g6IEFBQkIyLCBoaXRTdGF0ZTogUGh5c2ljc0hpdFN0YXRlKTogUGh5c2ljc0hpdFN0YXRlXG57XG4gICAgY29uc3QgcmVzdWx0ID0gR2VvbWV0cnkyRC5jYXN0QUFCQkFnYWluc3RBQUJCKHNvdXJjZUhpdGJveCwgdGFyZ2V0UG9zLCB0YXJnZXRIaXRib3gpO1xuICAgIGlmIChyZXN1bHQuaGl0UmF5U2NhbGUgPD0gaGl0U3RhdGUubWluSGl0UmF5U2NhbGUpXG4gICAge1xuICAgICAgICBoaXRTdGF0ZS5taW5IaXRSYXlTY2FsZSA9IHJlc3VsdC5oaXRSYXlTY2FsZTtcbiAgICAgICAgaGl0U3RhdGUuaGl0TGluZSA9IHJlc3VsdC5oaXRMaW5lO1xuICAgIH1cbiAgICByZXR1cm4gaGl0U3RhdGU7XG59IiwiaW1wb3J0IFZlYzIgZnJvbSBcIi4uLy4uL21hdGgvdHlwZXMvdmVjMlwiO1xuaW1wb3J0IHsgQ09MTElTSU9OX0xBWUVSX01JTiwgQ09MTElTSU9OX0xBWUVSX05VTEwgfSBmcm9tIFwiLi4vLi4vc3lzdGVtL2NvbnN0YW50c1wiO1xuaW1wb3J0IFBoeXNpY3NPYmplY3QgZnJvbSBcIi4uL3R5cGVzL3BoeXNpY3NPYmplY3RcIjtcbmltcG9ydCBQaHlzaWNzUm9vbSBmcm9tIFwiLi4vdHlwZXMvcGh5c2ljc1Jvb21cIjtcbmltcG9ydCBQaHlzaWNzVm94ZWwgZnJvbSBcIi4uL3R5cGVzL3BoeXNpY3NWb3hlbFwiO1xuaW1wb3J0IHsgZ2V0Vm94ZWxzSW5Cb3ggfSBmcm9tIFwiLi9waHlzaWNzVm94ZWxVdGlsXCI7XG5cbmNvbnN0IHZveGVsc1RlbXAgPSBuZXcgQXJyYXk8UGh5c2ljc1ZveGVsPigpO1xuY29uc3Qgb2Jqc1RlbXAgPSBuZXcgQXJyYXk8UGh5c2ljc09iamVjdD4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbk9iamVjdENvbGxpZGVXaXRoTGF5ZXIob2JqZWN0OiBQaHlzaWNzT2JqZWN0LCBjb2xsaXNpb25MYXllcjogbnVtYmVyLFxuICAgIGxldmVsU2hpZnRJbk9iamVjdDogbnVtYmVyID0gMCk6IGJvb2xlYW5cbntcbiAgICBjb25zdCBjdXJyTWFzayA9IG9iamVjdC5jb2xsaXNpb25MYXllck1hc2tBdEdyb3VuZExldmVsIDw8IChvYmplY3QubGV2ZWwgKyBsZXZlbFNoaWZ0SW5PYmplY3QpO1xuICAgIHJldHVybiAoY3Vyck1hc2sgJiAoMSA8PCBjb2xsaXNpb25MYXllcikpICE9IDA7XG59XG5cbi8vIFJldHVybnMgQ09MTElTSU9OX0xBWUVSX05VTEwgaWYgbm8gbGF5ZXIgaXMgb2NjdXBpZWRcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb3dlc3RPYmplY3RDb2xsaXNpb25MYXllcihvYmplY3Q6IFBoeXNpY3NPYmplY3QpOiBudW1iZXJcbntcbiAgICBsZXQgbGF5ZXIgPSBDT0xMSVNJT05fTEFZRVJfTUlOO1xuICAgIGxldCBtYXNrVGVtcCA9IG9iamVjdC5jb2xsaXNpb25MYXllck1hc2tBdEdyb3VuZExldmVsIDw8IG9iamVjdC5sZXZlbDtcbiAgICB3aGlsZSAoKG1hc2tUZW1wICYgMGIwMDAwMDAwMSkgPT0gMClcbiAgICB7XG4gICAgICAgIG1hc2tUZW1wID4+PSAxO1xuICAgICAgICBpZiAobWFza1RlbXAgPT0gMClcbiAgICAgICAgICAgIHJldHVybiBDT0xMSVNJT05fTEFZRVJfTlVMTDtcbiAgICAgICAgbGF5ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGxheWVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T2JqZWN0c0luRGlzdChwaHlzaWNzUm9vbTogUGh5c2ljc1Jvb20sIGNlbnRlclg6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBkaXN0OiBudW1iZXIpOiBQaHlzaWNzT2JqZWN0W11cbntcbiAgICBjb25zdCB2b3hlbHMgPSBnZXRWb3hlbHNJbkJveChwaHlzaWNzUm9vbSwge1xuICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICB5OiBjZW50ZXJZLFxuICAgICAgICBoYWxmU2l6ZVg6IGRpc3QsXG4gICAgICAgIGhhbGZTaXplWTogZGlzdCxcbiAgICB9KTtcbiAgICBvYmpzVGVtcC5sZW5ndGggPSAwO1xuICAgIGZvciAoY29uc3Qgdm94ZWwgb2Ygdm94ZWxzKVxuICAgIHtcbiAgICAgICAgZm9yIChjb25zdCBvYmogb2Ygdm94ZWwuaW50ZXJzZWN0aW5nT2JqZWN0cylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IG9iai5oaXRib3gueCAtIGNlbnRlclg7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gb2JqLmhpdGJveC55IC0gY2VudGVyWTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RTcXIgPSBvZmZzZXRYKm9mZnNldFggKyBvZmZzZXRZKm9mZnNldFk7XG4gICAgICAgICAgICBpZiAoZGlzdFNxciA8PSBkaXN0ICogZGlzdClcbiAgICAgICAgICAgICAgICBvYmpzVGVtcC5wdXNoKG9iaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9ianNUZW1wO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkT2JqZWN0VG9Wb3hlbChvYmplY3Q6IFBoeXNpY3NPYmplY3QsIHZveGVsOiBQaHlzaWNzVm94ZWwpXG57XG4gICAgbGV0IGFscmVhZHlBZGRlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm94ZWwuaW50ZXJzZWN0aW5nT2JqZWN0cy5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHZveGVsLmludGVyc2VjdGluZ09iamVjdHNbaV07XG4gICAgICAgIGlmIChvYmoub2JqZWN0SWQgPT0gb2JqZWN0Lm9iamVjdElkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBPYmplY3QgYWxyZWFkeSBhZGRlZCB0byB2b3hlbCAob2JqZWN0ID0gJHtKU09OLnN0cmluZ2lmeShvYmplY3QpfSwgdm94ZWwgPSAke0pTT04uc3RyaW5naWZ5KHZveGVsKX0pYCk7XG4gICAgICAgICAgICBhbHJlYWR5QWRkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYWxyZWFkeUFkZGVkKVxuICAgICAgICB2b3hlbC5pbnRlcnNlY3RpbmdPYmplY3RzLnB1c2gob2JqZWN0KTtcblxuICAgIGFscmVhZHlBZGRlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqZWN0LmludGVyc2VjdGluZ1ZveGVscy5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHZveCA9IG9iamVjdC5pbnRlcnNlY3RpbmdWb3hlbHNbaV07XG4gICAgICAgIGlmICh2b3ggPT0gdm94ZWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFZveGVsIGFscmVhZHkgYWRkZWQgdG8gb2JqZWN0IChvYmplY3QgPSAke0pTT04uc3RyaW5naWZ5KG9iamVjdCl9LCB2b3hlbCA9ICR7SlNPTi5zdHJpbmdpZnkodm94ZWwpfSlgKTtcbiAgICAgICAgICAgIGFscmVhZHlBZGRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhbHJlYWR5QWRkZWQpXG4gICAgICAgIG9iamVjdC5pbnRlcnNlY3RpbmdWb3hlbHMucHVzaCh2b3hlbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPYmplY3RQb3NpdGlvbihwaHlzaWNzUm9vbTogUGh5c2ljc1Jvb20sIG9iamVjdElkOiBzdHJpbmcsIHBvczogVmVjMilcbntcbiAgICBjb25zdCBvYmplY3QgPSBwaHlzaWNzUm9vbS5vYmplY3RCeUlkW29iamVjdElkXTtcbiAgICBpZiAob2JqZWN0ID09IHVuZGVmaW5lZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQaHlzaWNzT2JqZWN0IGlzIG5vdCByZWdpc3RlcmVkIChvYmplY3RJZCA9ICR7b2JqZWN0SWR9KWApO1xuXG4gICAgY29uc3Qgdm94ZWxzID0gZ2V0Vm94ZWxzSW5Cb3gocGh5c2ljc1Jvb20sIG9iamVjdC5oaXRib3gpO1xuICAgIG9iamVjdC5oaXRib3gueCA9IHBvcy54O1xuICAgIG9iamVjdC5oaXRib3gueSA9IHBvcy55O1xuXG4gICAgcmVtb3ZlT2JqZWN0RnJvbUludGVyc2VjdGluZ1ZveGVscyhvYmplY3QpO1xuICAgIGZvciAoY29uc3Qgdm94ZWwgb2Ygdm94ZWxzKVxuICAgICAgICBhZGRPYmplY3RUb1ZveGVsKG9iamVjdCwgdm94ZWwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlT2JqZWN0RnJvbUludGVyc2VjdGluZ1ZveGVscyhvYmplY3Q6IFBoeXNpY3NPYmplY3QpXG57XG4gICAgdm94ZWxzVGVtcC5sZW5ndGggPSAwO1xuICAgIGZvciAoY29uc3Qgdm94ZWwgb2Ygb2JqZWN0LmludGVyc2VjdGluZ1ZveGVscylcbiAgICAgICAgdm94ZWxzVGVtcC5wdXNoKHZveGVsKTtcbiAgICBmb3IgKGNvbnN0IHZveGVsIG9mIHZveGVsc1RlbXApXG4gICAgICAgIHJlbW92ZU9iamVjdEZyb21Wb3hlbChvYmplY3QsIHZveGVsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU9iamVjdEZyb21Wb3hlbChvYmplY3Q6IFBoeXNpY3NPYmplY3QsIHZveGVsOiBQaHlzaWNzVm94ZWwpXG57XG4gICAgbGV0IHJlbW92ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBvYmpzID0gdm94ZWwuaW50ZXJzZWN0aW5nT2JqZWN0cztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ianMubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICBjb25zdCBvYmogPSBvYmpzW2ldO1xuICAgICAgICBpZiAob2JqLm9iamVjdElkID09IG9iamVjdC5vYmplY3RJZClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkrMTsgaiA8IG9ianMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICAgICAgb2Jqc1tpXSA9IG9ianNbal07XG4gICAgICAgICAgICAtLW9ianMubGVuZ3RoO1xuICAgICAgICAgICAgcmVtb3ZlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZW1vdmVkKVxuICAgICAgICBjb25zb2xlLmVycm9yKGBPYmplY3Qgbm90IGZvdW5kIGluIHZveGVsIChvYmplY3QgPSAke0pTT04uc3RyaW5naWZ5KG9iamVjdCl9LCB2b3hlbCA9ICR7SlNPTi5zdHJpbmdpZnkodm94ZWwpfSlgKTtcbn0iLCJpbXBvcnQgQUFCQjIgZnJvbSBcIi4uLy4uL21hdGgvdHlwZXMvYWFiYjJcIjtcbmltcG9ydCB7IE5VTV9WT1hFTF9DT0xTLCBOVU1fVk9YRUxfUk9XUyB9IGZyb20gXCIuLi8uLi9zeXN0ZW0vY29uc3RhbnRzXCI7XG5pbXBvcnQgUGh5c2ljc1Jvb20gZnJvbSBcIi4uL3R5cGVzL3BoeXNpY3NSb29tXCI7XG5pbXBvcnQgUGh5c2ljc1ZveGVsIGZyb20gXCIuLi90eXBlcy9waHlzaWNzVm94ZWxcIjtcblxuY29uc3Qgdm94ZWxzVGVtcCA9IG5ldyBBcnJheTxQaHlzaWNzVm94ZWw+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWb3hlbHNJbkJveChwaHlzaWNzUm9vbTogUGh5c2ljc1Jvb20sIGJveDogQUFCQjIpOiBQaHlzaWNzVm94ZWxbXVxue1xuICAgIHZveGVsc1RlbXAubGVuZ3RoID0gMDtcbiAgICBjb25zdCByb3cxID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihib3gueSAtIGJveC5oYWxmU2l6ZVkpKTtcbiAgICBjb25zdCBjb2wxID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihib3gueCAtIGJveC5oYWxmU2l6ZVgpKTtcbiAgICBjb25zdCByb3cyID0gTWF0aC5taW4oTlVNX1ZPWEVMX1JPV1MtMSwgTWF0aC5mbG9vcihib3gueSArIGJveC5oYWxmU2l6ZVkpKTtcbiAgICBjb25zdCBjb2wyID0gTWF0aC5taW4oTlVNX1ZPWEVMX0NPTFMtMSwgTWF0aC5mbG9vcihib3gueCArIGJveC5oYWxmU2l6ZVgpKTtcbiAgICBmb3IgKGxldCByb3cgPSByb3cxOyByb3cgPD0gcm93MjsgKytyb3cpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBjb2wgPSBjb2wxOyBjb2wgPD0gY29sMjsgKytjb2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZveGVsID0gcGh5c2ljc1Jvb20udm94ZWxzW3JvdyAqIE5VTV9WT1hFTF9DT0xTICsgY29sXTtcbiAgICAgICAgICAgIGlmICh2b3hlbCAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdm94ZWxzVGVtcC5wdXNoKHZveGVsKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQaHlzaWNzVm94ZWwgaXMgdW5kZWZpbmVkIChyb3cgPSAke3Jvd30sIGNvbCA9ICR7Y29sfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdm94ZWxzVGVtcDtcbn0iLCJpbXBvcnQgUGVyc2lzdGVudE9iamVjdEdyb3VwIGZyb20gXCIuLi9vYmplY3QvdHlwZXMvcGVyc2lzdGVudE9iamVjdEdyb3VwXCI7XG5pbXBvcnQgeyBDT0xMSVNJT05fTEFZRVJfTUFYLCBDT0xMSVNJT05fTEFZRVJfTUlOLCBOVU1fVk9YRUxfQ09MUywgTlVNX1ZPWEVMX1JPV1MsIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwgfSBmcm9tIFwiLi4vc3lzdGVtL2NvbnN0YW50c1wiO1xuaW1wb3J0IFZveGVsIGZyb20gXCIuLi92b3hlbC90eXBlcy92b3hlbFwiO1xuaW1wb3J0IFZveGVsR3JpZCBmcm9tIFwiLi4vdm94ZWwvdHlwZXMvdm94ZWxHcmlkXCI7XG5pbXBvcnQgVm94ZWxRdWFkc1J1bnRpbWVNZW1vcnkgZnJvbSBcIi4uL3ZveGVsL3R5cGVzL3ZveGVsUXVhZHNSdW50aW1lTWVtb3J5XCI7XG5pbXBvcnQgeyBzZXRWb3hlbFF1YWRWaXNpYmxlIH0gZnJvbSBcIi4uL3ZveGVsL3V0aWwvdm94ZWxRdWFkVXBkYXRlVXRpbFwiO1xuaW1wb3J0IHsgZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluTGF5ZXIsIGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJblZveGVsLCBnZXRWb3hlbFF1YWRJbmRleE9mZnNldEluc2lkZUxheWVyIH0gZnJvbSBcIi4uL3ZveGVsL3V0aWwvdm94ZWxRdWVyeVV0aWxcIjtcblxuY29uc3QgUm9vbUdlbmVyYXRvciA9XG57XG4gICAgZ2VuZXJhdGVFbXB0eVJvb206IChcbiAgICAgICAgZmxvb3JUZXh0dXJlSW5kZXg6IG51bWJlciwgd2FsbFRleHR1cmVJbmRleDogbnVtYmVyLCBjZWlsaW5nVGV4dHVyZUluZGV4OiBudW1iZXJcbiAgICApOiB7dm94ZWxHcmlkOiBWb3hlbEdyaWQsIHBlcnNpc3RlbnRPYmplY3RHcm91cDogUGVyc2lzdGVudE9iamVjdEdyb3VwfSA9PlxuICAgIHtcbiAgICAgICAgY29uc3Qgdm94ZWxzID0gbmV3IEFycmF5PFZveGVsPihOVU1fVk9YRUxfUk9XUyAqIE5VTV9WT1hFTF9DT0xTKTtcbiAgICAgICAgY29uc3QgcXVhZHNNZW0gPSBuZXcgVm94ZWxRdWFkc1J1bnRpbWVNZW1vcnkoKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGNvcm5lciB2b3hlbHNcblxuICAgICAgICBjbGVhckFsbFF1YWRzSW5Wb3hlbChxdWFkc01lbS5xdWFkcywgZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluVm94ZWwoMCwgMCkpO1xuICAgICAgICBjbGVhckFsbFF1YWRzSW5Wb3hlbChxdWFkc01lbS5xdWFkcywgZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluVm94ZWwoMCwgTlVNX1ZPWEVMX0NPTFMtMSkpO1xuICAgICAgICBjbGVhckFsbFF1YWRzSW5Wb3hlbChxdWFkc01lbS5xdWFkcywgZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluVm94ZWwoTlVNX1ZPWEVMX1JPV1MtMSwgMCkpO1xuICAgICAgICBjbGVhckFsbFF1YWRzSW5Wb3hlbChxdWFkc01lbS5xdWFkcywgZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluVm94ZWwoTlVNX1ZPWEVMX1JPV1MtMSwgTlVNX1ZPWEVMX0NPTFMtMSkpO1xuICAgICAgICBcbiAgICAgICAgdm94ZWxzWzBdID1cbiAgICAgICAgICAgIG5ldyBWb3hlbChxdWFkc01lbSwgMCwgMCwgMGIwMDAwMDAwMCk7XG4gICAgICAgIHZveGVsc1tOVU1fVk9YRUxfQ09MUy0xXSA9XG4gICAgICAgICAgICBuZXcgVm94ZWwocXVhZHNNZW0sIDAsIE5VTV9WT1hFTF9DT0xTLTEsIDBiMDAwMDAwMDApO1xuICAgICAgICB2b3hlbHNbKE5VTV9WT1hFTF9ST1dTLTEpICogTlVNX1ZPWEVMX0NPTFNdID1cbiAgICAgICAgICAgIG5ldyBWb3hlbChxdWFkc01lbSwgTlVNX1ZPWEVMX1JPV1MtMSwgMCwgMGIwMDAwMDAwMCk7XG4gICAgICAgIHZveGVsc1soTlVNX1ZPWEVMX1JPV1MtMSkgKiBOVU1fVk9YRUxfQ09MUyArIChOVU1fVk9YRUxfQ09MUy0xKV0gPVxuICAgICAgICAgICAgbmV3IFZveGVsKHF1YWRzTWVtLCBOVU1fVk9YRUxfUk9XUy0xLCBOVU1fVk9YRUxfQ09MUy0xLCAwYjAwMDAwMDAwKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGZsb29yIGFuZCBjZWlsaW5nIHF1YWRzXG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gMTsgcm93IDwgTlVNX1ZPWEVMX1JPV1MtMTsgKytyb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDE7IGNvbCA8IE5VTV9WT1hFTF9ST1dTLTE7ICsrY29sKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFwcGx5Rmxvb3JBbmRDZWlsaW5nVGV4dHVyZShxdWFkc01lbS5xdWFkcywgcm93LCBjb2wsIGZsb29yVGV4dHVyZUluZGV4LCBjZWlsaW5nVGV4dHVyZUluZGV4KTtcbiAgICAgICAgICAgICAgICB2b3hlbHNbcm93ICogTlVNX1ZPWEVMX0NPTFMgKyBjb2xdID0gbmV3IFZveGVsKHF1YWRzTWVtLCByb3csIGNvbCwgMGIwMDAwMDAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEluaXRpYWxpemUgYm91bmRhcnkgd2FsbCBxdWFkc1xuXG4gICAgICAgIGZvciAobGV0IGNvbCA9IDE7IGNvbCA8IE5VTV9WT1hFTF9ST1dTLTE7ICsrY29sKVxuICAgICAgICB7XG4gICAgICAgICAgICBhcHBseVdhbGxUZXh0dXJlKHF1YWRzTWVtLnF1YWRzLCAwLCBjb2wsIFwielwiLCBcIitcIiwgd2FsbFRleHR1cmVJbmRleCk7XG4gICAgICAgICAgICBhcHBseVdhbGxUZXh0dXJlKHF1YWRzTWVtLnF1YWRzLCBOVU1fVk9YRUxfUk9XUy0xLCBjb2wsIFwielwiLCBcIi1cIiwgd2FsbFRleHR1cmVJbmRleCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyVm94ZWwgPSBuZXcgVm94ZWwocXVhZHNNZW0sIDAsIGNvbCwgMGIxMTExMTExMSk7XG4gICAgICAgICAgICB2b3hlbHNbY29sXSA9IGxvd2VyVm94ZWw7XG4gICAgICAgICAgICBjb25zdCB1cHBlclZveGVsID0gbmV3IFZveGVsKHF1YWRzTWVtLCBOVU1fVk9YRUxfUk9XUy0xLCBjb2wsIDBiMTExMTExMTEpO1xuICAgICAgICAgICAgdm94ZWxzWyhOVU1fVk9YRUxfUk9XUy0xKSAqIE5VTV9WT1hFTF9DT0xTICsgY29sXSA9IHVwcGVyVm94ZWw7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2xsaXNpb25MYXllciA9IENPTExJU0lPTl9MQVlFUl9NSU47IGNvbGxpc2lvbkxheWVyIDw9IENPTExJU0lPTl9MQVlFUl9NQVg7ICsrY29sbGlzaW9uTGF5ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0Vm94ZWxRdWFkVmlzaWJsZSh0cnVlLCBsb3dlclZveGVsLCBcInpcIiwgXCIrXCIsIGNvbGxpc2lvbkxheWVyLCB3YWxsVGV4dHVyZUluZGV4KTtcbiAgICAgICAgICAgICAgICBzZXRWb3hlbFF1YWRWaXNpYmxlKHRydWUsIHVwcGVyVm94ZWwsIFwielwiLCBcIi1cIiwgY29sbGlzaW9uTGF5ZXIsIHdhbGxUZXh0dXJlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHJvdyA9IDE7IHJvdyA8IE5VTV9WT1hFTF9ST1dTLTE7ICsrcm93KVxuICAgICAgICB7XG4gICAgICAgICAgICBhcHBseVdhbGxUZXh0dXJlKHF1YWRzTWVtLnF1YWRzLCByb3csIDAsIFwieFwiLCBcIitcIiwgd2FsbFRleHR1cmVJbmRleCk7XG4gICAgICAgICAgICBhcHBseVdhbGxUZXh0dXJlKHF1YWRzTWVtLnF1YWRzLCByb3csIE5VTV9WT1hFTF9DT0xTLTEsIFwieFwiLCBcIi1cIiwgd2FsbFRleHR1cmVJbmRleCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyVm94ZWwgPSBuZXcgVm94ZWwocXVhZHNNZW0sIHJvdywgMCwgMGIxMTExMTExMSk7XG4gICAgICAgICAgICB2b3hlbHNbcm93ICogTlVNX1ZPWEVMX0NPTFNdID0gbG93ZXJWb3hlbFxuICAgICAgICAgICAgY29uc3QgdXBwZXJWb3hlbCA9IG5ldyBWb3hlbChxdWFkc01lbSwgcm93LCBOVU1fVk9YRUxfQ09MUy0xLCAwYjExMTExMTExKTtcbiAgICAgICAgICAgIHZveGVsc1tyb3cgKiBOVU1fVk9YRUxfQ09MUyArIE5VTV9WT1hFTF9DT0xTLTFdID0gdXBwZXJWb3hlbDtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbGxpc2lvbkxheWVyID0gQ09MTElTSU9OX0xBWUVSX01JTjsgY29sbGlzaW9uTGF5ZXIgPD0gQ09MTElTSU9OX0xBWUVSX01BWDsgKytjb2xsaXNpb25MYXllcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXRWb3hlbFF1YWRWaXNpYmxlKHRydWUsIGxvd2VyVm94ZWwsIFwieFwiLCBcIitcIiwgY29sbGlzaW9uTGF5ZXIsIHdhbGxUZXh0dXJlSW5kZXgpO1xuICAgICAgICAgICAgICAgIHNldFZveGVsUXVhZFZpc2libGUodHJ1ZSwgdXBwZXJWb3hlbCwgXCJ4XCIsIFwiLVwiLCBjb2xsaXNpb25MYXllciwgd2FsbFRleHR1cmVJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdm94ZWxHcmlkOiBuZXcgVm94ZWxHcmlkKHZveGVscywgcXVhZHNNZW0pLFxuICAgICAgICAgICAgcGVyc2lzdGVudE9iamVjdEdyb3VwOiBuZXcgUGVyc2lzdGVudE9iamVjdEdyb3VwKFtdKSxcbiAgICAgICAgfTtcbiAgICB9LFxufVxuXG5mdW5jdGlvbiBhcHBseUZsb29yQW5kQ2VpbGluZ1RleHR1cmUocXVhZHM6IFVpbnQ4QXJyYXksIHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcixcbiAgICBmbG9vclRleHR1cmVJbmRleDogbnVtYmVyLCBjZWlsaW5nVGV4dHVyZUluZGV4OiBudW1iZXIpXG57XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJblZveGVsKHJvdywgY29sKTtcbiAgICBjbGVhckFsbFF1YWRzSW5Wb3hlbChxdWFkcywgc3RhcnRJbmRleCk7XG4gICAgcXVhZHNbc3RhcnRJbmRleCArIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwtMl0gPSAwYjEwMDAwMDAwIHwgY2VpbGluZ1RleHR1cmVJbmRleDtcbiAgICBxdWFkc1tzdGFydEluZGV4ICsgTlVNX1ZPWEVMX1FVQURTX1BFUl9WT1hFTC0xXSA9IDBiMTAwMDAwMDAgfCBmbG9vclRleHR1cmVJbmRleDtcbn1cblxuZnVuY3Rpb24gYXBwbHlXYWxsVGV4dHVyZShxdWFkczogVWludDhBcnJheSwgcm93OiBudW1iZXIsIGNvbDogbnVtYmVyLFxuICAgIGZhY2luZ0F4aXM6IFwieFwiIHwgXCJ5XCIgfCBcInpcIiwgb3JpZW50YXRpb246IFwiLVwiIHwgXCIrXCIsIHdhbGxUZXh0dXJlSW5kZXg6IG51bWJlcilcbntcbiAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluVm94ZWwocm93LCBjb2wpO1xuICAgIGNsZWFyQWxsUXVhZHNJblZveGVsKHF1YWRzLCBzdGFydEluZGV4KTtcbiAgICBmb3IgKGxldCBjb2xsaXNpb25MYXllciA9IENPTExJU0lPTl9MQVlFUl9NSU47IGNvbGxpc2lvbkxheWVyIDw9IENPTExJU0lPTl9MQVlFUl9NQVg7ICsrY29sbGlzaW9uTGF5ZXIpXG4gICAge1xuICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluTGF5ZXIocm93LCBjb2wsIGNvbGxpc2lvbkxheWVyKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZ2V0Vm94ZWxRdWFkSW5kZXhPZmZzZXRJbnNpZGVMYXllcihmYWNpbmdBeGlzLCBvcmllbnRhdGlvbik7XG4gICAgICAgIHF1YWRzW3N0YXJ0SW5kZXggKyBvZmZzZXRdID0gMGIxMDAwMDAwMCB8IHdhbGxUZXh0dXJlSW5kZXg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbGVhckFsbFF1YWRzSW5Wb3hlbChxdWFkczogVWludDhBcnJheSwgc3RhcnRJbmRleDogbnVtYmVyKVxue1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgc3RhcnRJbmRleCArIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUw7ICsraSlcbiAgICAgICAgcXVhZHNbaV0gPSAwYjAwMDAwMDAwO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSb29tR2VuZXJhdG9yOyIsImltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiO1xuaW1wb3J0IFZveGVsR3JpZCBmcm9tIFwiLi4vLi4vdm94ZWwvdHlwZXMvdm94ZWxHcmlkXCI7XG5pbXBvcnQgUGVyc2lzdGVudE9iamVjdEdyb3VwIGZyb20gXCIuLi8uLi9vYmplY3QvdHlwZXMvcGVyc2lzdGVudE9iamVjdEdyb3VwXCI7XG5pbXBvcnQgRW5jb2RhYmxlQnl0ZVN0cmluZyBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVCeXRlU3RyaW5nXCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXJcIjtcbmltcG9ydCBTUUxSb29tIGZyb20gXCIuLi8uLi9kYi90eXBlcy9zcWxSb29tXCI7XG5pbXBvcnQgRW5jb2RpbmdVdGlsIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3V0aWwvZW5jb2RpbmdVdGlsXCI7XG5pbXBvcnQgeyBSb29tVHlwZSwgUm9vbVR5cGVFbnVtTWFwIH0gZnJvbSBcIi4vcm9vbVR5cGVcIjtcbmltcG9ydCBFbmNvZGFibGVFbnVtIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZUVudW1cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9vbSBleHRlbmRzIEVuY29kYWJsZURhdGFcbntcbiAgICByb29tSUQ6IG51bWJlcjtcbiAgICByb29tTmFtZTogc3RyaW5nO1xuICAgIHJvb21UeXBlOiBSb29tVHlwZTtcbiAgICBvd25lclVzZXJOYW1lOiBzdHJpbmc7XG4gICAgdGV4dHVyZVBhY2tVUkw6IHN0cmluZztcbiAgICB2b3hlbEdyaWQ6IFZveGVsR3JpZDtcbiAgICBwZXJzaXN0ZW50T2JqZWN0R3JvdXA6IFBlcnNpc3RlbnRPYmplY3RHcm91cDtcblxuICAgIGNvbnN0cnVjdG9yKHJvb21JRDogbnVtYmVyLCByb29tTmFtZTogc3RyaW5nLCByb29tVHlwZTogUm9vbVR5cGUsIG93bmVyVXNlck5hbWU6IHN0cmluZyxcbiAgICAgICAgdGV4dHVyZVBhY2tVUkw6IHN0cmluZyxcbiAgICAgICAgdm94ZWxHcmlkOiBWb3hlbEdyaWQsIHBlcnNpc3RlbnRPYmplY3RHcm91cDogUGVyc2lzdGVudE9iamVjdEdyb3VwKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yb29tSUQgPSByb29tSUQ7XG4gICAgICAgIHRoaXMucm9vbU5hbWUgPSByb29tTmFtZTtcbiAgICAgICAgdGhpcy5yb29tVHlwZSA9IHJvb21UeXBlO1xuICAgICAgICB0aGlzLm93bmVyVXNlck5hbWUgPSBvd25lclVzZXJOYW1lO1xuICAgICAgICB0aGlzLnRleHR1cmVQYWNrVVJMID0gdGV4dHVyZVBhY2tVUkw7XG4gICAgICAgIHRoaXMudm94ZWxHcmlkID0gdm94ZWxHcmlkO1xuICAgICAgICB0aGlzLnBlcnNpc3RlbnRPYmplY3RHcm91cCA9IHBlcnNpc3RlbnRPYmplY3RHcm91cDtcbiAgICB9XG5cbiAgICBnZXQgdm94ZWxRdWFkcygpOiBVaW50OEFycmF5XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52b3hlbEdyaWQucXVhZHNNZW0ucXVhZHM7XG4gICAgfVxuXG4gICAgdG9TUUwoKTogU1FMUm9vbVxuICAgIHtcbiAgICAgICAgbGV0IGJ1ZmZlclN0YXRlID0gRW5jb2RpbmdVdGlsLnN0YXJ0RW5jb2RpbmcoKTtcbiAgICAgICAgdGhpcy52b3hlbEdyaWQuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgY29uc3Qgdm94ZWxHcmlkQnVmZmVyID0gRW5jb2RpbmdVdGlsLmVuZEVuY29kaW5nKGJ1ZmZlclN0YXRlKTtcblxuICAgICAgICBidWZmZXJTdGF0ZSA9IEVuY29kaW5nVXRpbC5zdGFydEVuY29kaW5nKGJ1ZmZlclN0YXRlLmJ5dGVJbmRleCk7XG4gICAgICAgIHRoaXMucGVyc2lzdGVudE9iamVjdEdyb3VwLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIGNvbnN0IHBlcnNpc3RlbnRPYmplY3RHcm91cEJ1ZmZlciA9IEVuY29kaW5nVXRpbC5lbmRFbmNvZGluZyhidWZmZXJTdGF0ZSk7XG5cbiAgICAgICAgY29uc3Qgc3FsUm9vbTogU1FMUm9vbSA9IHtcbiAgICAgICAgICAgIHJvb21JRDogdGhpcy5yb29tSUQsXG4gICAgICAgICAgICByb29tTmFtZTogdGhpcy5yb29tTmFtZSxcbiAgICAgICAgICAgIHJvb21UeXBlOiB0aGlzLnJvb21UeXBlLFxuICAgICAgICAgICAgb3duZXJVc2VyTmFtZTogdGhpcy5vd25lclVzZXJOYW1lLFxuICAgICAgICAgICAgdGV4dHVyZVBhY2tVUkw6IHRoaXMudGV4dHVyZVBhY2tVUkwsXG4gICAgICAgICAgICB2b3hlbEdyaWQ6IHZveGVsR3JpZEJ1ZmZlcixcbiAgICAgICAgICAgIHBlcnNpc3RlbnRPYmplY3RHcm91cDogcGVyc2lzdGVudE9iamVjdEdyb3VwQnVmZmVyLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3FsUm9vbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVNRTChzcWxSb29tOiBTUUxSb29tKTogUm9vbVxuICAgIHtcbiAgICAgICAgY29uc3Qgdm94ZWxHcmlkID0gVm94ZWxHcmlkLmRlY29kZShcbiAgICAgICAgICAgIG5ldyBCdWZmZXJTdGF0ZShuZXcgVWludDhBcnJheShzcWxSb29tLnZveGVsR3JpZCkpXG4gICAgICAgICkgYXMgVm94ZWxHcmlkO1xuXG4gICAgICAgIGNvbnN0IHBlcnNpc3RlbnRPYmplY3RHcm91cCA9IFBlcnNpc3RlbnRPYmplY3RHcm91cC5kZWNvZGUoXG4gICAgICAgICAgICBuZXcgQnVmZmVyU3RhdGUobmV3IFVpbnQ4QXJyYXkoc3FsUm9vbS5wZXJzaXN0ZW50T2JqZWN0R3JvdXApKVxuICAgICAgICApIGFzIFBlcnNpc3RlbnRPYmplY3RHcm91cDtcblxuICAgICAgICByZXR1cm4gbmV3IFJvb20oXG4gICAgICAgICAgICBzcWxSb29tLnJvb21JRCxcbiAgICAgICAgICAgIHNxbFJvb20ucm9vbU5hbWUsXG4gICAgICAgICAgICBzcWxSb29tLnJvb21UeXBlLFxuICAgICAgICAgICAgc3FsUm9vbS5vd25lclVzZXJOYW1lLFxuICAgICAgICAgICAgc3FsUm9vbS50ZXh0dXJlUGFja1VSTCxcbiAgICAgICAgICAgIHZveGVsR3JpZCxcbiAgICAgICAgICAgIHBlcnNpc3RlbnRPYmplY3RHcm91cFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBuZXcgRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIodGhpcy5yb29tSUQpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVCeXRlU3RyaW5nKHRoaXMucm9vbU5hbWUpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVFbnVtKHRoaXMucm9vbVR5cGUsIFJvb21UeXBlRW51bU1hcCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgbmV3IEVuY29kYWJsZUJ5dGVTdHJpbmcodGhpcy5vd25lclVzZXJOYW1lKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZVN0cmluZyh0aGlzLnRleHR1cmVQYWNrVVJMKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICB0aGlzLnZveGVsR3JpZC5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICB0aGlzLnBlcnNpc3RlbnRPYmplY3RHcm91cC5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3Qgcm9vbUlEID0gKEVuY29kYWJsZVJhdzRCeXRlTnVtYmVyLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIpLm47XG4gICAgICAgIGNvbnN0IHJvb21OYW1lID0gKEVuY29kYWJsZUJ5dGVTdHJpbmcuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVCeXRlU3RyaW5nKS5zdHI7XG4gICAgICAgIGNvbnN0IHJvb21UeXBlID0gKEVuY29kYWJsZUVudW0uZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZSwgUm9vbVR5cGVFbnVtTWFwKSBhcyBFbmNvZGFibGVFbnVtKS5lbnVtVmFsdWU7XG4gICAgICAgIGNvbnN0IG93bmVyVXNlck5hbWUgPSAoRW5jb2RhYmxlQnl0ZVN0cmluZy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZUJ5dGVTdHJpbmcpLnN0cjtcbiAgICAgICAgY29uc3QgdGV4dHVyZVBhY2tVUkwgPSAoRW5jb2RhYmxlQnl0ZVN0cmluZy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZUJ5dGVTdHJpbmcpLnN0cjtcbiAgICAgICAgY29uc3Qgdm94ZWxHcmlkID0gVm94ZWxHcmlkLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgVm94ZWxHcmlkO1xuICAgICAgICBjb25zdCBwZXJzaXN0ZW50T2JqZWN0R3JvdXAgPSBQZXJzaXN0ZW50T2JqZWN0R3JvdXAuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBQZXJzaXN0ZW50T2JqZWN0R3JvdXA7XG4gICAgICAgIHJldHVybiBuZXcgUm9vbShyb29tSUQsIHJvb21OYW1lLCByb29tVHlwZSwgb3duZXJVc2VyTmFtZSwgdGV4dHVyZVBhY2tVUkwsIHZveGVsR3JpZCwgcGVyc2lzdGVudE9iamVjdEdyb3VwKTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9vbUNoYW5nZVJlcXVlc3RQYXJhbXMgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgcm9vbUlEOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihyb29tSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucm9vbUlEID0gcm9vbUlEO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBuZXcgRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIodGhpcy5yb29tSUQpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCByb29tSUQgPSAoRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXc0Qnl0ZU51bWJlcikubjtcbiAgICAgICAgcmV0dXJuIG5ldyBSb29tQ2hhbmdlUmVxdWVzdFBhcmFtcyhyb29tSUQpO1xuICAgIH1cbn0iLCJpbXBvcnQgT2JqZWN0UnVudGltZU1lbW9yeSBmcm9tIFwiLi4vLi4vb2JqZWN0L3R5cGVzL29iamVjdFJ1bnRpbWVNZW1vcnlcIjtcbmltcG9ydCBSb29tIGZyb20gXCIuLi90eXBlcy9yb29tXCI7XG5pbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZURhdGFcIjtcbmltcG9ydCBFbmNvZGFibGVBcnJheSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVBcnJheVwiO1xuaW1wb3J0IEVuY29kYWJsZUJ5dGVTdHJpbmcgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlQnl0ZVN0cmluZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb29tUnVudGltZU1lbW9yeSBleHRlbmRzIEVuY29kYWJsZURhdGFcbntcbiAgICByb29tOiBSb29tO1xuICAgIHBhcnRpY2lwYW50VXNlck5hbWVzOiB7IFt1c2VyTmFtZTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICAgIG9iamVjdFJ1bnRpbWVNZW1vcmllczoge1tvYmplY3RJZDogc3RyaW5nXTogT2JqZWN0UnVudGltZU1lbW9yeX07XG5cbiAgICBjb25zdHJ1Y3Rvcihyb29tOiBSb29tLCBwYXJ0aWNpcGFudFVzZXJOYW1lczogeyBbdXNlck5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSxcbiAgICAgICAgb2JqZWN0UnVudGltZU1lbW9yaWVzOiB7W29iamVjdElkOiBzdHJpbmddOiBPYmplY3RSdW50aW1lTWVtb3J5fSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucm9vbSA9IHJvb207XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRVc2VyTmFtZXMgPSBwYXJ0aWNpcGFudFVzZXJOYW1lcztcbiAgICAgICAgdGhpcy5vYmplY3RSdW50aW1lTWVtb3JpZXMgPSBvYmplY3RSdW50aW1lTWVtb3JpZXM7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIHRoaXMucm9vbS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlQXJyYXkoXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnBhcnRpY2lwYW50VXNlck5hbWVzKS5tYXAoeCA9PiBuZXcgRW5jb2RhYmxlQnl0ZVN0cmluZyh4KSksXG4gICAgICAgICAgICA2NTUzNVxuICAgICAgICApLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVBcnJheShcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5vYmplY3RSdW50aW1lTWVtb3JpZXMpLFxuICAgICAgICAgICAgNjU1MzVcbiAgICAgICAgKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3Qgcm9vbSA9IFJvb20uZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBSb29tO1xuXG4gICAgICAgIGNvbnN0IGExID0gRW5jb2RhYmxlQXJyYXkuZGVjb2RlV2l0aFBhcmFtcyhidWZmZXJTdGF0ZSwgRW5jb2RhYmxlQnl0ZVN0cmluZy5kZWNvZGUsIDY1NTM1KSBhcyBFbmNvZGFibGVBcnJheTtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRVc2VyTmFtZXM6IHsgW3VzZXJOYW1lOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGExLmFycilcbiAgICAgICAge1xuICAgICAgICAgICAgcGFydGljaXBhbnRVc2VyTmFtZXNbKGVsZW1lbnQgYXMgRW5jb2RhYmxlQnl0ZVN0cmluZykuc3RyXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhMiA9IEVuY29kYWJsZUFycmF5LmRlY29kZVdpdGhQYXJhbXMoYnVmZmVyU3RhdGUsIE9iamVjdFJ1bnRpbWVNZW1vcnkuZGVjb2RlLCA2NTUzNSkgYXMgRW5jb2RhYmxlQXJyYXk7XG4gICAgICAgIGNvbnN0IG9iamVjdFJ1bnRpbWVNZW1vcmllczoge1tvYmplY3RJZDogc3RyaW5nXTogT2JqZWN0UnVudGltZU1lbW9yeX0gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGEyLmFycilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb2JqID0gKGVsZW1lbnQgYXMgT2JqZWN0UnVudGltZU1lbW9yeSk7XG4gICAgICAgICAgICBvYmplY3RSdW50aW1lTWVtb3JpZXNbb2JqLm9iamVjdFNwYXduUGFyYW1zLm9iamVjdElkXSA9IG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUm9vbVJ1bnRpbWVNZW1vcnkocm9vbSwgcGFydGljaXBhbnRVc2VyTmFtZXMsIG9iamVjdFJ1bnRpbWVNZW1vcmllcyk7XG4gICAgfVxufSIsImltcG9ydCB7IEVudW1NYXAgfSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVFbnVtXCJcblxuZXhwb3J0IHR5cGUgUm9vbVR5cGUgPSBudW1iZXI7XG5cbmV4cG9ydCBjb25zdCBSb29tVHlwZUVudW1NYXA6IEVudW1NYXAgPVxue1xuICAgIEh1YjogMCxcbiAgICBSZWd1bGFyOiAxLFxufSIsIi8vIE5ldHdvcmtpbmdcblxuZXhwb3J0IGNvbnN0IExBVEVTVF9EQl9WRVJTSU9OID0gMDtcbmV4cG9ydCBjb25zdCBBVVRIX1RPS0VOX05BTUVfQkFTRSA9IGB0aGluZ3Nwb29sX3Rva2VuX3Yke0xBVEVTVF9EQl9WRVJTSU9OfWA7XG5leHBvcnQgY29uc3QgVVNFUl9BUElfUk9VVEVfUEFUSCA9IFwiYXBpL3VzZXJcIjtcbmV4cG9ydCBjb25zdCBTSUdOQUxfQkFUQ0hfU0VORF9JTlRFUlZBTCA9IDIwMDsgLy8gaW4gbWlsbGlzZWNvbmRzXG5cbi8vIE1hdGhcblxuZXhwb3J0IGNvbnN0IE5FQVJfRVBTSUxPTiA9IDAuMDAwMDAwMDAxO1xuXG4vLyBQaHlzaWNzXG5cbmV4cG9ydCBjb25zdCBOVU1fQ09MTElTSU9OX0xBWUVSUyA9IDg7XG5cbmV4cG9ydCBjb25zdCBDT0xMSVNJT05fTEFZRVJfMDBfVE9fMDUgPSAwO1xuZXhwb3J0IGNvbnN0IENPTExJU0lPTl9MQVlFUl8wNV9UT18xMCA9IDE7XG5leHBvcnQgY29uc3QgQ09MTElTSU9OX0xBWUVSXzEwX1RPXzE1ID0gMjtcbmV4cG9ydCBjb25zdCBDT0xMSVNJT05fTEFZRVJfMTVfVE9fMjAgPSAzO1xuZXhwb3J0IGNvbnN0IENPTExJU0lPTl9MQVlFUl8yMF9UT18yNSA9IDQ7XG5leHBvcnQgY29uc3QgQ09MTElTSU9OX0xBWUVSXzI1X1RPXzMwID0gNTtcbmV4cG9ydCBjb25zdCBDT0xMSVNJT05fTEFZRVJfMzBfVE9fMzUgPSA2O1xuZXhwb3J0IGNvbnN0IENPTExJU0lPTl9MQVlFUl8zNV9UT180MCA9IDc7XG5leHBvcnQgY29uc3QgQ09MTElTSU9OX0xBWUVSX05VTEwgPSA4O1xuXG5leHBvcnQgY29uc3QgQ09MTElTSU9OX0xBWUVSX01JTiA9IENPTExJU0lPTl9MQVlFUl8wMF9UT18wNTtcbmV4cG9ydCBjb25zdCBDT0xMSVNJT05fTEFZRVJfTUFYID0gQ09MTElTSU9OX0xBWUVSXzM1X1RPXzQwO1xuXG5leHBvcnQgY29uc3QgTUlOX09CSkVDVF9MRVZFTF9DSEFOR0VfSU5URVJWQUwgPSAwLjI7XG5cbi8vIFZveGVsIEdyaWQgRGltZW5zaW9uc1xuXG5leHBvcnQgY29uc3QgTlVNX1ZPWEVMX1JPV1MgPSAzMjtcbmV4cG9ydCBjb25zdCBOVU1fVk9YRUxfQ09MUyA9IDMyO1xuXG5leHBvcnQgY29uc3QgTlVNX1ZPWEVMX1FVQURTX1BFUl9DT0xMSVNJT05fTEFZRVIgPSA2OyAvLyBjb3JyZXNwb25kaW5nIHRvIDYgc2lkZXMgb2YgYSAzRCBib3g6IFsteSwgK3ksIC14LCAreCwgLXosICt6XVxuZXhwb3J0IGNvbnN0IE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwgPVxuICAgIChOVU1fVk9YRUxfUVVBRFNfUEVSX0NPTExJU0lPTl9MQVlFUiAqIE5VTV9DT0xMSVNJT05fTEFZRVJTKSArIDI7IC8vIDIgaXMgZm9yIHRoZSBmbG9vciBhbmQgY2VpbGluZyBxdWFkcywgd2hpY2ggc2l0IG91dHNpZGUgb2YgdGhlIGNvbGxpc2lvbiBsYXllcnMgKFRoZXkgYmVsb25nIHRvIFwiQ09MTElTSU9OX0xBWUVSX05VTExcIikuXG5cbmV4cG9ydCBjb25zdCBOVU1fVk9YRUxfUVVBRFNfUEVSX1JPT00gPSBOVU1fVk9YRUxfUVVBRFNfUEVSX1ZPWEVMICogTlVNX1ZPWEVMX1JPV1MgKiBOVU1fVk9YRUxfQ09MUzsgLy8gNTEyMDBcblxuLy8gVm94ZWwgR3JpZCBUYXNrc1xuXG5leHBvcnQgY29uc3QgVk9YRUxfR1JJRF9UQVNLX1RZUEVfTU9WRSA9IDA7XG5leHBvcnQgY29uc3QgVk9YRUxfR1JJRF9UQVNLX1RZUEVfQUREID0gMTtcbmV4cG9ydCBjb25zdCBWT1hFTF9HUklEX1RBU0tfVFlQRV9SRU1PVkUgPSAyO1xuZXhwb3J0IGNvbnN0IFZPWEVMX0dSSURfVEFTS19UWVBFX1RFWCA9IDM7XG4vKmV4cG9ydCBjb25zdCBWT1hFTF9HUklEX1RBU0tfVFlQRV9TSFJJTktfT1JfRVhQQU5EID0gNDsqL1xuXG4vLyBVSVxuXG5leHBvcnQgY29uc3QgWl9JTkRFWF9MT0FESU5HX1NDUkVFTiA9IFwiei0xMDBcIjsgLy8gZS5nLiBmdWxsLXNjcmVlbiBpbmRpY2F0b3IgdGhhdCB0aGUgd2hvbGUgYXBwIGlzIHRyYW5zaXRpb25pbmcgdG8gYW5vdGhlciBzdGF0ZS5cbmV4cG9ydCBjb25zdCBaX0lOREVYX05PVElGSUNBVElPTiA9IFwiei04MFwiOyAvLyBlLmcuIHRvYXN0IG1lc3NhZ2VcbmV4cG9ydCBjb25zdCBaX0lOREVYX1BPUFVQID0gXCJ6LTcwXCI7IC8vIGUuZy4gZXJyb3IgcG9wdXAsIGNvbmZpcm1hdGlvbiBkaWFsb2cgd2luZG93LCBmb3JtIHRvIGZpbGwgb3V0IGFuZCBzdWJtaXRcbmV4cG9ydCBjb25zdCBaX0lOREVYX0lOU1RSVUNUSU9OID0gXCJ6LTYwXCI7IC8vIGUuZy4gdHV0b3JpYWwncyBvbi1zY3JlZW4gaW5zdHJ1Y3Rpb25cbmV4cG9ydCBjb25zdCBaX0lOREVYX0hVRF9PVkVSTEFZID0gXCJ6LTU1XCI7IC8vIGUuZy4gdGVtcG9yYXJ5IGRlYnVnIHBhbmVsXG5leHBvcnQgY29uc3QgWl9JTkRFWF9IVURfTUFJTiA9IFwiei01MFwiOyAvLyBlLmcuIG1lbnUsIGVkaXRvciBwYW5lbCIsImltcG9ydCBWb3hlbFF1YWRDaGFuZ2UgZnJvbSBcIi4uL3ZveGVsL3R5cGVzL3ZveGVsUXVhZENoYW5nZVwiO1xuaW1wb3J0IE9ic2VydmFibGUgZnJvbSBcIi4vdHlwZXMvb2JzZXJ2YWJsZVwiO1xuXG5leHBvcnQgY29uc3Qgdm94ZWxRdWFkQ2hhbmdlT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPFZveGVsUXVhZENoYW5nZT4oKTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBPYnNlcnZhYmxlPFZhbHVlVHlwZT5cbntcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJzOiB7W2tleTogc3RyaW5nXTogKHZhbHVlOiBWYWx1ZVR5cGUpID0+ICh2b2lkIHwgUHJvbWlzZTx2b2lkPil9ID0ge307XG4gICAgcHJvdGVjdGVkIGN1cnJWYWx1ZTogVmFsdWVUeXBlIHwgdW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IoZGVmYXVsdFZhbHVlPzogVmFsdWVUeXBlKVxuICAgIHtcbiAgICAgICAgdGhpcy5jdXJyVmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgbm90aWZ5KHVuaWNhc3RLZXk/OiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkN1cnJlbnQgdmFsdWUgaXMgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodW5pY2FzdEtleSkgLy8gdW5pY2FzdFxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IHRoaXMubGlzdGVuZXJzW3VuaWNhc3RLZXldO1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcih0aGlzLmN1cnJWYWx1ZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5pY2FzdCBrZXkgbm90IGZvdW5kIGluIHRoZSBtYXAgb2YgbGlzdGVuZXJzIChrZXkgPSAke3VuaWNhc3RLZXl9KWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgLy8gYnJvYWRjYXN0XG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLmxpc3RlbmVycykpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5jdXJyVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0KHZhbHVlOiBWYWx1ZVR5cGUsIHVuaWNhc3RLZXk/OiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm5vdGlmeSh1bmljYXN0S2V5KTtcbiAgICB9XG5cbiAgICBjaGFuZ2UoY2hhbmdlRnVuYzogKHByZXZWYWx1ZTogVmFsdWVUeXBlKSA9PiBWYWx1ZVR5cGUsIHVuaWNhc3RLZXk/OiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHJpZWQgdG8gYXBwbHkgYSBjaGFuZ2UgdG8gYW4gdW5kZWZpbmVkIGN1cnJWYWx1ZSBpbiBhbiBPYnNlcnZhYmxlLmApO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGNoYW5nZUZ1bmModGhpcy5jdXJyVmFsdWUpO1xuICAgICAgICB0aGlzLnNldChuZXdWYWx1ZSwgdW5pY2FzdEtleSk7XG4gICAgfVxuXG4gICAgcGVlaygpOiBWYWx1ZVR5cGVcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcmllZCB0byBhY2Nlc3MgYW4gdW5kZWZpbmVkIGN1cnJWYWx1ZSBpbiBhbiBPYnNlcnZhYmxlLmApO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyVmFsdWU7XG4gICAgfVxuXG4gICAgYWRkTGlzdGVuZXIoa2V5OiBzdHJpbmcsIGNhbGxiYWNrOiAodmFsdWU6IFZhbHVlVHlwZSkgPT4gKHZvaWQgfCBQcm9taXNlPHZvaWQ+KSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1trZXldICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGlzdGVuZXIga2V5IGFscmVhZHkgZXhpc3RzIChrZXkgPSAke2tleX0pYCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICByZW1vdmVMaXN0ZW5lcihrZXk6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1trZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExpc3RlbmVyIGtleSBkb2Vzbid0IGV4aXN0IChrZXkgPSAke2tleX0pYCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1trZXldO1xuICAgIH1cbn0iLCJjb25zdCBFcnJvclV0aWwgPVxue1xuICAgIGdldEVycm9yTWVzc2FnZTogKGVycjogdW5rbm93bik6IHN0cmluZyA9PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIChlcnIgaW5zdGFuY2VvZiBFcnJvcikgPyBlcnIubWVzc2FnZSA6IFN0cmluZyhlcnIpO1xuICAgIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yVXRpbDsiLCJpbXBvcnQgU1FMVXNlciBmcm9tIFwiLi4vLi4vZGIvdHlwZXMvc3FsVXNlclwiO1xuaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlQnl0ZVN0cmluZyBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVCeXRlU3RyaW5nXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgRW5jb2RhYmxlRW51bSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVFbnVtXCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXIgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlUmF3NEJ5dGVOdW1iZXJcIjtcbmltcG9ydCBFbmNvZGFibGVSYXdCeXRlTnVtYmVyIGZyb20gXCIuLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZVJhd0J5dGVOdW1iZXJcIjtcbmltcG9ydCB7IFVzZXJUeXBlLCBVc2VyVHlwZUVudW1NYXAgfSBmcm9tIFwiLi91c2VyVHlwZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyIGV4dGVuZHMgRW5jb2RhYmxlRGF0YVxue1xuICAgIHVzZXJJRDogbnVtYmVyO1xuICAgIHVzZXJOYW1lOiBzdHJpbmc7XG4gICAgdXNlclR5cGU6IFVzZXJUeXBlO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgdHV0b3JpYWxTdGVwOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih1c2VySUQ6IG51bWJlciwgdXNlck5hbWU6IHN0cmluZywgdXNlclR5cGU6IFVzZXJUeXBlLCBlbWFpbDogc3RyaW5nLFxuICAgICAgICB0dXRvcmlhbFN0ZXA6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudXNlcklEID0gdXNlcklEO1xuICAgICAgICB0aGlzLnVzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgICAgIHRoaXMudXNlclR5cGUgPSB1c2VyVHlwZTtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgICAgICB0aGlzLnR1dG9yaWFsU3RlcCA9IHR1dG9yaWFsU3RlcDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVN0cmluZyh1c2VyU3RyaW5nOiBzdHJpbmcpOiBVc2VyXG4gICAge1xuICAgICAgICBjb25zdCBmaWVsZHMgPSB1c2VyU3RyaW5nLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgY29uc3QgdXNlcklEID0gcGFyc2VJbnQoZmllbGRzWzBdKTtcbiAgICAgICAgY29uc3QgdXNlck5hbWUgPSBmaWVsZHNbMV07XG4gICAgICAgIGNvbnN0IHVzZXJUeXBlID0gcGFyc2VJbnQoZmllbGRzWzJdKTtcbiAgICAgICAgY29uc3QgZW1haWwgPSBmaWVsZHNbM107XG4gICAgICAgIGNvbnN0IHR1dG9yaWFsU3RlcCA9IHBhcnNlSW50KGZpZWxkc1s0XSk7XG5cbiAgICAgICAgaWYgKGlzTmFOKHVzZXJJRCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVzZXJJRCBpcyBOYU4gKHVzZXJTdHJpbmcgPSBcIiR7dXNlclN0cmluZ31cIilgKTtcbiAgICAgICAgaWYgKGlzTmFOKHVzZXJUeXBlKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdXNlclR5cGUgaXMgTmFOICh1c2VyU3RyaW5nID0gXCIke3VzZXJTdHJpbmd9XCIpYCk7XG4gICAgICAgIGlmIChpc05hTih0dXRvcmlhbFN0ZXApKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0dXRvcmlhbFN0ZXAgaXMgTmFOICh1c2VyU3RyaW5nID0gXCIke3VzZXJTdHJpbmd9XCIpYCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBVc2VyKHVzZXJJRCwgdXNlck5hbWUsIHVzZXJUeXBlLCBlbWFpbCwgdHV0b3JpYWxTdGVwKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnVzZXJJRH0gJHt0aGlzLnVzZXJOYW1lfSAke3RoaXMudXNlclR5cGV9ICR7dGhpcy5lbWFpbH0gJHt0aGlzLnR1dG9yaWFsU3RlcH1gO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tU1FMKHNxbFVzZXI6IFNRTFVzZXIpOiBVc2VyXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFVzZXIoXG4gICAgICAgICAgICBzcWxVc2VyLnVzZXJJRCxcbiAgICAgICAgICAgIHNxbFVzZXIudXNlck5hbWUsXG4gICAgICAgICAgICBzcWxVc2VyLnVzZXJUeXBlLFxuICAgICAgICAgICAgc3FsVXNlci5lbWFpbCxcbiAgICAgICAgICAgIHNxbFVzZXIudHV0b3JpYWxTdGVwXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIG5ldyBFbmNvZGFibGVSYXc0Qnl0ZU51bWJlcih0aGlzLnVzZXJJRCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgbmV3IEVuY29kYWJsZUJ5dGVTdHJpbmcodGhpcy51c2VyTmFtZSkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgbmV3IEVuY29kYWJsZUVudW0odGhpcy51c2VyVHlwZSwgVXNlclR5cGVFbnVtTWFwKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlQnl0ZVN0cmluZyh0aGlzLmVtYWlsKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlcih0aGlzLnR1dG9yaWFsU3RlcCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIGNvbnN0IHVzZXJJRCA9IChFbmNvZGFibGVSYXc0Qnl0ZU51bWJlci5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZVJhdzRCeXRlTnVtYmVyKS5uO1xuICAgICAgICBjb25zdCB1c2VyTmFtZSA9IChFbmNvZGFibGVCeXRlU3RyaW5nLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlQnl0ZVN0cmluZykuc3RyO1xuICAgICAgICBjb25zdCB1c2VyVHlwZSA9IChFbmNvZGFibGVFbnVtLmRlY29kZVdpdGhQYXJhbXMoYnVmZmVyU3RhdGUsIFVzZXJUeXBlRW51bU1hcCkgYXMgRW5jb2RhYmxlRW51bSkuZW51bVZhbHVlO1xuICAgICAgICBjb25zdCBlbWFpbCA9IChFbmNvZGFibGVCeXRlU3RyaW5nLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlQnl0ZVN0cmluZykuc3RyO1xuICAgICAgICBjb25zdCB0dXRvcmlhbFN0ZXAgPSAoRW5jb2RhYmxlUmF3Qnl0ZU51bWJlci5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZVJhd0J5dGVOdW1iZXIpLm47XG4gICAgICAgIHJldHVybiBuZXcgVXNlcih1c2VySUQsIHVzZXJOYW1lLCB1c2VyVHlwZSwgZW1haWwsIHR1dG9yaWFsU3RlcCk7XG4gICAgfVxufSIsImltcG9ydCB7IEVudW1NYXAgfSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVFbnVtXCJcblxuZXhwb3J0IHR5cGUgVXNlclR5cGUgPSBudW1iZXI7XG5cbmV4cG9ydCBjb25zdCBVc2VyVHlwZUVudW1NYXA6IEVudW1NYXAgPVxue1xuICAgIEFkbWluOiAwLFxuICAgIE1lbWJlcjogMSxcbiAgICBHdWVzdDogMixcbn0iLCJpbXBvcnQgeyBMb2NLZXkgfSBmcm9tIFwiLi4vLi4vbG9jYWxpemF0aW9uL3R5cGVzL2xvY0tleVwiO1xuXG5jb25zdCBVc2VySW5wdXRWYWxpZGF0b3IgPVxue1xuICAgIC8vIEZpbmQgZXJyb3IgaW4gdGhlIGdpdmVuIHRleHQsIGFuZCByZXR1cm4gdGhlIGVycm9yIG1lc3NhZ2UncyBsb2NhbGl6YXRpb24ga2V5IChpZiB0aGVyZSBpcyBhbiBlcnJvcikuXG5cbiAgICBmaW5kRXJyb3JJblVzZXJOYW1lOiAodGV4dDogc3RyaW5nKTogTG9jS2V5IHwgbnVsbCA9PlxuICAgIHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoIDwgNCB8fCB0ZXh0Lmxlbmd0aCA+IDE2KVxuICAgICAgICAgICAgcmV0dXJuIFwiYXV0aC9lcnJvci91c2VyTmFtZS9sZW5ndGhcIjtcbiAgICAgICAgaWYgKHRleHQgIT0gVXNlcklucHV0VmFsaWRhdG9yLnNhbml0aXplVXNlck5hbWUodGV4dCkpXG4gICAgICAgICAgICByZXR1cm4gXCJhdXRoL2Vycm9yL3VzZXJOYW1lL2NoYXJzXCI7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZmluZEVycm9ySW5QYXNzd29yZDogKHRleHQ6IHN0cmluZyk6IExvY0tleSB8IG51bGwgPT5cbiAgICB7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA8IDYgfHwgdGV4dC5sZW5ndGggPiAyNClcbiAgICAgICAgICAgIHJldHVybiBcImF1dGgvZXJyb3IvcGFzc3dvcmQvbGVuZ3RoXCI7XG4gICAgICAgIGlmICh0ZXh0ICE9IFVzZXJJbnB1dFZhbGlkYXRvci5zYW5pdGl6ZVBhc3N3b3JkKHRleHQpKVxuICAgICAgICAgICAgcmV0dXJuIFwiYXV0aC9lcnJvci9wYXNzd29yZC9jaGFyc1wiO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGZpbmRFcnJvckluRW1haWxBZGRyZXNzOiAodGV4dDogc3RyaW5nKTogTG9jS2V5IHwgbnVsbCA9PlxuICAgIHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gNjQpXG4gICAgICAgICAgICByZXR1cm4gXCJhdXRoL2Vycm9yL2VtYWlsL2xlbmd0aFwiO1xuICAgICAgICBjb25zdCByZWdleCA9IC9eW15cXHNAXStAW15cXHNAXSsuW15cXHNAXSskLztcbiAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRleHQpKVxuICAgICAgICAgICAgcmV0dXJuIFwiYXV0aC9lcnJvci9lbWFpbC9jaGFyc1wiXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZmluZEVycm9ySW5Sb29tTmFtZTogKHRleHQ6IHN0cmluZyk6IExvY0tleSB8IG51bGwgPT5cbiAgICB7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA8IDQgfHwgdGV4dC5sZW5ndGggPiA2NClcbiAgICAgICAgICAgIHJldHVybiBcImF1dGgvZXJyb3Ivcm9vbU5hbWUvbGVuZ3RoXCI7XG4gICAgICAgIGlmICh0ZXh0ICE9IFVzZXJJbnB1dFZhbGlkYXRvci5zYW5pdGl6ZVJvb21OYW1lKHRleHQpKVxuICAgICAgICAgICAgcmV0dXJuIFwiYXV0aC9lcnJvci9yb29tTmFtZS9jaGFyc1wiO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLy8gUmUtZm9ybWF0IHRoZSBnaXZlbiB0ZXh0IGFwcHJvcHJpYXRlbHkgYW5kIHJldHVybiB0aGUgcmVzdWx0aW5nIHRleHQuXG5cbiAgICBzYW5pdGl6ZVVzZXJOYW1lOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+XG4gICAge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAxNilcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCAxNik7XG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgXCJcIik7XG4gICAgfSxcbiAgICBzYW5pdGl6ZVBhc3N3b3JkOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+XG4gICAge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAyNClcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCAyNCk7XG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1teYS16QS1aMC05fmAhQCNcXCQlXFxeJlxcKlxcKFxcKS1fXFwrPVxce1xcW1xcfVxcXVxcfFxcXFw6O1wiJzw+LFxcLlxcP1xcL10vZywgXCJcIik7XG4gICAgfSxcbiAgICBzYW5pdGl6ZVJvb21OYW1lOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+XG4gICAge1xuICAgICAgICByZXR1cm4gVXNlcklucHV0VmFsaWRhdG9yLnNhbml0aXplUm9vbU5hbWVXaXRob3V0VHJpbW1pbmcodGV4dCkudHJpbSgpO1xuICAgIH0sXG4gICAgc2FuaXRpemVSb29tTmFtZVdpdGhvdXRUcmltbWluZzogKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PlxuICAgIHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gNjQpXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgNjQpO1xuICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bXmEtekEtWjAtOX5gIUAjXFwkJVxcXiZcXCpcXChcXCktX1xcKz1cXHtcXFtcXH1cXF1cXHxcXFxcOjtcIic8PixcXC5cXD9cXC9cXHNdL2csIFwiXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7IC8vIHJlcGxhY2UgbXVsdGlwbGUgY29uc2VjdXRpdmUgc3BhY2VzIHdpdGggYSBzaW5nbGUgc3BhY2UuXG4gICAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlcklucHV0VmFsaWRhdG9yOyIsImltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4uLy4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiO1xuaW1wb3J0IEVuY29kYWJsZVJhdzJCeXRlTnVtYmVyIGZyb20gXCIuLi8uLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZVJhdzJCeXRlTnVtYmVyXCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlciBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVSYXdCeXRlTnVtYmVyXCI7XG5pbXBvcnQgeyBOVU1fVk9YRUxfUVVBRFNfUEVSX0NPTExJU0lPTl9MQVlFUiwgVk9YRUxfR1JJRF9UQVNLX1RZUEVfQUREIH0gZnJvbSBcIi4uLy4uLy4uL3N5c3RlbS9jb25zdGFudHNcIjtcbmltcG9ydCBVcGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zIGZyb20gXCIuL3VwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWRkVm94ZWxCbG9ja1BhcmFtcyBleHRlbmRzIFVwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXNcbntcbiAgICBxdWFkSW5kZXg6IG51bWJlcjtcbiAgICAvKnhTaHJpbms6IGJvb2xlYW47XG4gICAgelNocmluazogYm9vbGVhbjsqL1xuICAgIHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyOiBudW1iZXJbXTtcblxuICAgIGNvbnN0cnVjdG9yKHF1YWRJbmRleDogbnVtYmVyLCAvKnhTaHJpbms6IGJvb2xlYW4sIHpTaHJpbms6IGJvb2xlYW4sKi8gcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXI6IG51bWJlcltdKVxuICAgIHtcbiAgICAgICAgc3VwZXIoVk9YRUxfR1JJRF9UQVNLX1RZUEVfQUREKTtcbiAgICAgICAgdGhpcy5xdWFkSW5kZXggPSBxdWFkSW5kZXg7XG4gICAgICAgIC8qdGhpcy54U2hyaW5rID0geFNocmluaztcbiAgICAgICAgdGhpcy56U2hyaW5rID0gelNocmluazsqL1xuICAgICAgICB0aGlzLnF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyID0gcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXI7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIG5ldyBFbmNvZGFibGVSYXcyQnl0ZU51bWJlcih0aGlzLnF1YWRJbmRleCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgXG4gICAgICAgIC8qYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSAodGhpcy54U2hyaW5rID8gMGIxMCA6IDApIHwgKHRoaXMuelNocmluayA/IDEgOiAwKTsqL1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTlVNX1ZPWEVMX1FVQURTX1BFUl9DT0xMSVNJT05fTEFZRVI7ICsraSlcbiAgICAgICAgICAgIG5ldyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKHRoaXMucXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXJbaV0pLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCBxdWFkSW5kZXggPSAoRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXcyQnl0ZU51bWJlcikubjtcblxuICAgICAgICAvKmNvbnN0IHNocmlua0J5dGUgPSBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXTtcbiAgICAgICAgY29uc3QgeFNocmluayA9IChzaHJpbmtCeXRlICYgMGIxMCkgIT0gMDtcbiAgICAgICAgY29uc3QgelNocmluayA9IChzaHJpbmtCeXRlICYgMSkgIT0gMDsqL1xuXG4gICAgICAgIGNvbnN0IHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyID0gbmV3IEFycmF5PG51bWJlcj4oTlVNX1ZPWEVMX1FVQURTX1BFUl9DT0xMSVNJT05fTEFZRVIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE5VTV9WT1hFTF9RVUFEU19QRVJfQ09MTElTSU9OX0xBWUVSOyArK2kpXG4gICAgICAgICAgICBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllcltpXSA9IChFbmNvZGFibGVSYXdCeXRlTnVtYmVyLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlcikubjtcblxuICAgICAgICByZXR1cm4gbmV3IEFkZFZveGVsQmxvY2tQYXJhbXMocXVhZEluZGV4LCAvKnhTaHJpbmssIHpTaHJpbmssKi8gcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgQnVmZmVyU3RhdGUgZnJvbSBcIi4uLy4uLy4uL25ldHdvcmtpbmcvdHlwZXMvYnVmZmVyU3RhdGVcIjtcbmltcG9ydCBFbmNvZGFibGVEYXRhIGZyb20gXCIuLi8uLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZURhdGFcIjtcbmltcG9ydCBFbmNvZGFibGVSYXcyQnl0ZU51bWJlciBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVSYXcyQnl0ZU51bWJlclwiO1xuaW1wb3J0IEVuY29kYWJsZVJhd1NpZ25lZEJ5dGVOdW1iZXIgZnJvbSBcIi4uLy4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlUmF3U2lnbmVkQnl0ZU51bWJlclwiO1xuaW1wb3J0IHsgVk9YRUxfR1JJRF9UQVNLX1RZUEVfTU9WRSB9IGZyb20gXCIuLi8uLi8uLi9zeXN0ZW0vY29uc3RhbnRzXCI7XG5pbXBvcnQgVXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtcyBmcm9tIFwiLi91cGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdmVWb3hlbEJsb2NrUGFyYW1zIGV4dGVuZHMgVXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtc1xue1xuICAgIHF1YWRJbmRleDogbnVtYmVyO1xuICAgIHJvd09mZnNldDogbnVtYmVyO1xuICAgIGNvbE9mZnNldDogbnVtYmVyO1xuICAgIGNvbGxpc2lvbkxheWVyT2Zmc2V0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihxdWFkSW5kZXg6IG51bWJlcixcbiAgICAgICAgcm93T2Zmc2V0OiBudW1iZXIsIGNvbE9mZnNldDogbnVtYmVyLCBjb2xsaXNpb25MYXllck9mZnNldDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoVk9YRUxfR1JJRF9UQVNLX1RZUEVfTU9WRSk7XG4gICAgICAgIHRoaXMucXVhZEluZGV4ID0gcXVhZEluZGV4O1xuICAgICAgICB0aGlzLnJvd09mZnNldCA9IHJvd09mZnNldDtcbiAgICAgICAgdGhpcy5jb2xPZmZzZXQgPSBjb2xPZmZzZXQ7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uTGF5ZXJPZmZzZXQgPSBjb2xsaXNpb25MYXllck9mZnNldDtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgbmV3IEVuY29kYWJsZVJhdzJCeXRlTnVtYmVyKHRoaXMucXVhZEluZGV4KS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgICAgICBuZXcgRW5jb2RhYmxlUmF3U2lnbmVkQnl0ZU51bWJlcih0aGlzLnJvd09mZnNldCkuZW5jb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgbmV3IEVuY29kYWJsZVJhd1NpZ25lZEJ5dGVOdW1iZXIodGhpcy5jb2xPZmZzZXQpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVSYXdTaWduZWRCeXRlTnVtYmVyKHRoaXMuY29sbGlzaW9uTGF5ZXJPZmZzZXQpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCBxdWFkSW5kZXggPSAoRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXcyQnl0ZU51bWJlcikubjtcbiAgICAgICAgY29uc3Qgcm93T2Zmc2V0ID0gKEVuY29kYWJsZVJhd1NpZ25lZEJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXdTaWduZWRCeXRlTnVtYmVyKS5uO1xuICAgICAgICBjb25zdCBjb2xPZmZzZXQgPSAoRW5jb2RhYmxlUmF3U2lnbmVkQnl0ZU51bWJlci5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZVJhd1NpZ25lZEJ5dGVOdW1iZXIpLm47XG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbkxheWVyT2Zmc2V0ID0gKEVuY29kYWJsZVJhd1NpZ25lZEJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXdTaWduZWRCeXRlTnVtYmVyKS5uO1xuICAgICAgICByZXR1cm4gbmV3IE1vdmVWb3hlbEJsb2NrUGFyYW1zKHF1YWRJbmRleCwgcm93T2Zmc2V0LCBjb2xPZmZzZXQsIGNvbGxpc2lvbkxheWVyT2Zmc2V0KTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIgZnJvbSBcIi4uLy4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXJcIjtcbmltcG9ydCB7IFZPWEVMX0dSSURfVEFTS19UWVBFX1JFTU9WRSB9IGZyb20gXCIuLi8uLi8uLi9zeXN0ZW0vY29uc3RhbnRzXCI7XG5pbXBvcnQgVXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtcyBmcm9tIFwiLi91cGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbW92ZVZveGVsQmxvY2tQYXJhbXMgZXh0ZW5kcyBVcGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zXG57XG4gICAgcXVhZEluZGV4OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihxdWFkSW5kZXg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKFZPWEVMX0dSSURfVEFTS19UWVBFX1JFTU9WRSk7XG4gICAgICAgIHRoaXMucXVhZEluZGV4ID0gcXVhZEluZGV4O1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBuZXcgRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIodGhpcy5xdWFkSW5kZXgpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpOiBFbmNvZGFibGVEYXRhXG4gICAge1xuICAgICAgICBjb25zdCBxdWFkSW5kZXggPSAoRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXcyQnl0ZU51bWJlcikubjtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1vdmVWb3hlbEJsb2NrUGFyYW1zKHF1YWRJbmRleCk7XG4gICAgfVxufSIsImltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4uLy4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiO1xuaW1wb3J0IEVuY29kYWJsZVJhdzJCeXRlTnVtYmVyIGZyb20gXCIuLi8uLi8uLi9uZXR3b3JraW5nL3R5cGVzL2VuY29kYWJsZVJhdzJCeXRlTnVtYmVyXCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlciBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVSYXdCeXRlTnVtYmVyXCI7XG5pbXBvcnQgeyBWT1hFTF9HUklEX1RBU0tfVFlQRV9URVggfSBmcm9tIFwiLi4vLi4vLi4vc3lzdGVtL2NvbnN0YW50c1wiO1xuaW1wb3J0IFVwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXMgZnJvbSBcIi4vdXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXRWb3hlbFF1YWRUZXh0dXJlUGFyYW1zIGV4dGVuZHMgVXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtc1xue1xuICAgIHF1YWRJbmRleDogbnVtYmVyO1xuICAgIHRleHR1cmVJbmRleDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocXVhZEluZGV4OiBudW1iZXIsIHRleHR1cmVJbmRleDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoVk9YRUxfR1JJRF9UQVNLX1RZUEVfVEVYKTtcbiAgICAgICAgdGhpcy5xdWFkSW5kZXggPSBxdWFkSW5kZXg7XG4gICAgICAgIHRoaXMudGV4dHVyZUluZGV4ID0gdGV4dHVyZUluZGV4O1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBuZXcgRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIodGhpcy5xdWFkSW5kZXgpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIG5ldyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKHRoaXMudGV4dHVyZUluZGV4KS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3QgcXVhZEluZGV4ID0gKEVuY29kYWJsZVJhdzJCeXRlTnVtYmVyLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlUmF3MkJ5dGVOdW1iZXIpLm47XG4gICAgICAgIGNvbnN0IHRleHR1cmVJbmRleCA9IChFbmNvZGFibGVSYXdCeXRlTnVtYmVyLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlcikubjtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXRWb3hlbFF1YWRUZXh0dXJlUGFyYW1zKHF1YWRJbmRleCwgdGV4dHVyZUluZGV4KTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlciBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVSYXdCeXRlTnVtYmVyXCI7XG5pbXBvcnQgeyBWT1hFTF9HUklEX1RBU0tfVFlQRV9BREQsIFZPWEVMX0dSSURfVEFTS19UWVBFX01PVkUsIFZPWEVMX0dSSURfVEFTS19UWVBFX1JFTU9WRSwgVk9YRUxfR1JJRF9UQVNLX1RZUEVfVEVYIH0gZnJvbSBcIi4uLy4uLy4uL3N5c3RlbS9jb25zdGFudHNcIjtcbmltcG9ydCBBZGRWb3hlbEJsb2NrUGFyYW1zIGZyb20gXCIuL2FkZFZveGVsQmxvY2tQYXJhbXNcIjtcbmltcG9ydCBNb3ZlVm94ZWxCbG9ja1BhcmFtcyBmcm9tIFwiLi9tb3ZlVm94ZWxCbG9ja1BhcmFtc1wiO1xuaW1wb3J0IFJlbW92ZVZveGVsQmxvY2tQYXJhbXMgZnJvbSBcIi4vcmVtb3ZlVm94ZWxCbG9ja1BhcmFtc1wiO1xuaW1wb3J0IFNldFZveGVsUXVhZFRleHR1cmVQYXJhbXMgZnJvbSBcIi4vc2V0Vm94ZWxRdWFkVGV4dHVyZVBhcmFtc1wiO1xuaW1wb3J0IFVwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXMgZnJvbSBcIi4vdXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcGRhdGVWb3hlbEdyaWRQYXJhbXMgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgdGFza3M6IFVwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXNbXTtcblxuICAgIGNvbnN0cnVjdG9yKHRhc2tzOiBVcGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zW10pXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRhc2tzID0gdGFza3M7XG4gICAgfVxuXG4gICAgZW5jb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgdGFzayBvZiB0aGlzLnRhc2tzKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXcgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlcih0YXNrLnR5cGUpLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgICAgICB0YXNrLmVuY29kZShidWZmZXJTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIGNvbnN0IHRhc2tzOiBVcGRhdGVWb3hlbEdyaWRUYXNrUGFyYW1zW10gPSBbXTtcbiAgICAgICAgd2hpbGUgKGJ1ZmZlclN0YXRlLmJ5dGVJbmRleCA8IGJ1ZmZlclN0YXRlLnZpZXcuYnl0ZUxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGFza1R5cGUgPSAoRW5jb2RhYmxlUmF3Qnl0ZU51bWJlci5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIEVuY29kYWJsZVJhd0J5dGVOdW1iZXIpLm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN3aXRjaCAodGFza1R5cGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSBWT1hFTF9HUklEX1RBU0tfVFlQRV9NT1ZFOlxuICAgICAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKE1vdmVWb3hlbEJsb2NrUGFyYW1zLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgTW92ZVZveGVsQmxvY2tQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFZPWEVMX0dSSURfVEFTS19UWVBFX0FERDpcbiAgICAgICAgICAgICAgICAgICAgdGFza3MucHVzaChBZGRWb3hlbEJsb2NrUGFyYW1zLmRlY29kZShidWZmZXJTdGF0ZSkgYXMgQWRkVm94ZWxCbG9ja1BhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVk9YRUxfR1JJRF9UQVNLX1RZUEVfUkVNT1ZFOlxuICAgICAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKFJlbW92ZVZveGVsQmxvY2tQYXJhbXMuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBSZW1vdmVWb3hlbEJsb2NrUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBWT1hFTF9HUklEX1RBU0tfVFlQRV9URVg6XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzLnB1c2goU2V0Vm94ZWxRdWFkVGV4dHVyZVBhcmFtcy5kZWNvZGUoYnVmZmVyU3RhdGUpIGFzIFNldFZveGVsUXVhZFRleHR1cmVQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvKmNhc2UgVk9YRUxfR1JJRF9UQVNLX1RZUEVfU0hSSU5LX09SX0VYUEFORDpcbiAgICAgICAgICAgICAgICAgICAgdGFza3MucHVzaChTaHJpbmtPckV4cGFuZFZveGVsQmxvY2tQYXJhbXMuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBTaHJpbmtPckV4cGFuZFZveGVsQmxvY2tQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhazsqL1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVua25vd24gdGFzayB0eXBlIDo6ICR7dGFza1R5cGV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVXBkYXRlVm94ZWxHcmlkUGFyYW1zKHRhc2tzKTtcbiAgICB9XG59IiwiaW1wb3J0IEJ1ZmZlclN0YXRlIGZyb20gXCIuLi8uLi8uLi9uZXR3b3JraW5nL3R5cGVzL2J1ZmZlclN0YXRlXCI7XG5pbXBvcnQgRW5jb2RhYmxlRGF0YSBmcm9tIFwiLi4vLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVEYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFVwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXMgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgdHlwZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodHlwZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpZSAnZW5jb2RlJyBtZXRob2QgaW4gVXBkYXRlVm94ZWxHcmlkVGFza1BhcmFtcyBtdXN0IGJlIG92ZXJyaWRlbiBieSBhIGNoaWxkIGNsYXNzLlwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaWUgJ2RlY29kZScgbWV0aG9kIGluIFVwZGF0ZVZveGVsR3JpZFRhc2tQYXJhbXMgbXVzdCBiZSBvdmVycmlkZW4gYnkgYSBjaGlsZCBjbGFzcy5cIik7XG4gICAgfVxufSIsImltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiXG5pbXBvcnQgeyBDT0xMSVNJT05fTEFZRVJfTUFYLCBDT0xMSVNJT05fTEFZRVJfTUlOLCBOVU1fVk9YRUxfUVVBRFNfUEVSX0NPTExJU0lPTl9MQVlFUiwgTlVNX1ZPWEVMX1FVQURTX1BFUl9WT1hFTCB9IGZyb20gXCIuLi8uLi9zeXN0ZW0vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRGaXJzdFZveGVsUXVhZEluZGV4SW5MYXllciwgZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluVm94ZWwsIGdldFZveGVsUXVhZENvbGxpc2lvbkxheWVyRnJvbVF1YWRJbmRleCwgZ2V0Vm94ZWxRdWFkRmFjaW5nQXhpc0Zyb21RdWFkSW5kZXgsIGdldFZveGVsUXVhZE9yaWVudGF0aW9uRnJvbVF1YWRJbmRleCB9IGZyb20gXCIuLi91dGlsL3ZveGVsUXVlcnlVdGlsXCI7XG5pbXBvcnQgVm94ZWxRdWFkc1J1bnRpbWVNZW1vcnkgZnJvbSBcIi4vdm94ZWxRdWFkc1J1bnRpbWVNZW1vcnlcIjtcblxubGV0IHRlbXBfcXVhZHNNZW06IFZveGVsUXVhZHNSdW50aW1lTWVtb3J5O1xubGV0IHRlbXBfcm93ID0gLTE7XG5sZXQgdGVtcF9jb2wgPSAtMTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVm94ZWwgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgcXVhZHNNZW06IFZveGVsUXVhZHNSdW50aW1lTWVtb3J5O1xuICAgIGdhbWVPYmplY3RJZDogc3RyaW5nOyAvLyBUaGlzIGZpZWxkIG11c3QgYmUgbWFudWFsbHkgc2V0IHZpYSB0aGUgXCJzZXRHYW1lT2JqZWN0SWRcIiBtZXRob2QuXG4gICAgcm93OiBudW1iZXI7XG4gICAgY29sOiBudW1iZXI7XG4gICAgLyp4U2hyaW5rTWFzazogbnVtYmVyO1xuICAgIHpTaHJpbmtNYXNrOiBudW1iZXI7Ki9cbiAgICBjb2xsaXNpb25MYXllck1hc2s6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHF1YWRzTWVtOiBWb3hlbFF1YWRzUnVudGltZU1lbW9yeSwgcm93OiBudW1iZXIsIGNvbDogbnVtYmVyLFxuICAgICAgICAvKnhTaHJpbmtNYXNrOiBudW1iZXIsIHpTaHJpbmtNYXNrOiBudW1iZXIsKi8gY29sbGlzaW9uTGF5ZXJNYXNrOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnF1YWRzTWVtID0gcXVhZHNNZW07XG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdElkID0gXCJcIjtcbiAgICAgICAgdGhpcy5yb3cgPSByb3c7XG4gICAgICAgIHRoaXMuY29sID0gY29sO1xuICAgICAgICAvKnRoaXMueFNocmlua01hc2sgPSB4U2hyaW5rTWFzaztcbiAgICAgICAgdGhpcy56U2hyaW5rTWFzayA9IHpTaHJpbmtNYXNrOyovXG4gICAgICAgIHRoaXMuY29sbGlzaW9uTGF5ZXJNYXNrID0gY29sbGlzaW9uTGF5ZXJNYXNrO1xuICAgIH1cblxuICAgIHNldEdhbWVPYmplY3RJZChpZDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0SWQgPSBpZDtcbiAgICB9XG5cbiAgICBlbmNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKVxuICAgIHtcbiAgICAgICAgLyppZiAodGhpcy54U2hyaW5rTWFzayA8IDAgfHwgdGhpcy54U2hyaW5rTWFzayA+IDI1NSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVm94ZWwncyB4U2hyaW5rTWFzayBpcyBvdXQgb2YgaXRzIHJhbmdlICh2YWx1ZSBmb3VuZCA9ICR7dGhpcy54U2hyaW5rTWFza30sIHJhbmdlID0gWzA6MjU1XSlgKTtcbiAgICAgICAgaWYgKHRoaXMuelNocmlua01hc2sgPCAwIHx8IHRoaXMuelNocmlua01hc2sgPiAyNTUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZveGVsJ3MgelNocmlua01hc2sgaXMgb3V0IG9mIGl0cyByYW5nZSAodmFsdWUgZm91bmQgPSAke3RoaXMuelNocmlua01hc2t9LCByYW5nZSA9IFswOjI1NV0pYCk7Ki9cbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uTGF5ZXJNYXNrIDwgMCB8fCB0aGlzLmNvbGxpc2lvbkxheWVyTWFzayA+IDI1NSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVm94ZWwncyBjb2xsaXNpb25MYXllck1hc2sgaXMgb3V0IG9mIGl0cyByYW5nZSAodmFsdWUgZm91bmQgPSAke3RoaXMuY29sbGlzaW9uTGF5ZXJNYXNrfSwgcmFuZ2UgPSBbMDoyNTVdKWApO1xuXG4gICAgICAgIC8qLy8gWC1TaHJpbmsgQnl0ZVxuICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXSA9IHRoaXMueFNocmlua01hc2s7XG5cbiAgICAgICAgLy8gWi1TaHJpbmsgQnl0ZVxuICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXSA9IHRoaXMuelNocmlua01hc2s7Ki9cblxuICAgICAgICBjb25zdCBxdWFkcyA9IHRoaXMucXVhZHNNZW0ucXVhZHM7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBnZXRGaXJzdFZveGVsUXVhZEluZGV4SW5Wb3hlbCh0aGlzLnJvdywgdGhpcy5jb2wpO1xuICAgICAgICBcbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPVxuICAgICAgICAgICAgcXVhZHNbc3RhcnRJbmRleCArIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwgLSAyXTsgLy8gRmxvb3IgQnl0ZSAoPSBzZWNvbmQgbGFzdCBxdWFkIG9mIHRoZSB2b3hlbClcbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPVxuICAgICAgICAgICAgcXVhZHNbc3RhcnRJbmRleCArIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwgLSAxXTsgLy8gQ2VpbGluZyBCeXRlICg9IGxhc3QgcXVhZCBvZiB0aGUgdm94ZWwpXG5cbiAgICAgICAgLy8gQ29sbGlzaW9uTGF5ZXJNYXNrIEJ5dGVcbiAgICAgICAgYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK10gPSB0aGlzLmNvbGxpc2lvbkxheWVyTWFzaztcblxuICAgICAgICAvLyA2LUJ5dGUgQ29sbGlzaW9uTGF5ZXIgQ29udGVudHMgKE5VTV9WT1hFTF9RVUFEU19QRVJfQ09MTElTSU9OX0xBWUVSID0gNilcbiAgICAgICAgbGV0IGNvbGxpc2lvbkxheWVyID0gQ09MTElTSU9OX0xBWUVSX01JTjtcbiAgICAgICAgd2hpbGUgKGNvbGxpc2lvbkxheWVyIDw9IENPTExJU0lPTl9MQVlFUl9NQVgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgoKDEgPDwgY29sbGlzaW9uTGF5ZXIpICYgdGhpcy5jb2xsaXNpb25MYXllck1hc2spICE9IDApIC8vIExheWVyIGlzIG9jY3VwaWVkXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJbkxheWVyKHRoaXMucm93LCB0aGlzLmNvbCwgY29sbGlzaW9uTGF5ZXIpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgc3RhcnRJbmRleCArIE5VTV9WT1hFTF9RVUFEU19QRVJfQ09MTElTSU9OX0xBWUVSOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdID0gcXVhZHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xsaXNpb25MYXllcisrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGRlY29kZVdpdGhQYXJhbXMoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlLCBxdWFkc01lbTogVm94ZWxRdWFkc1J1bnRpbWVNZW1vcnksIHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcik6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIHRlbXBfcXVhZHNNZW0gPSBxdWFkc01lbTtcbiAgICAgICAgdGVtcF9yb3cgPSByb3c7XG4gICAgICAgIHRlbXBfY29sID0gY29sO1xuICAgICAgICByZXR1cm4gVm94ZWwuZGVjb2RlKGJ1ZmZlclN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVjb2RlKGJ1ZmZlclN0YXRlOiBCdWZmZXJTdGF0ZSk6IEVuY29kYWJsZURhdGFcbiAgICB7XG4gICAgICAgIC8qLy8gWC1TaHJpbmsgQnl0ZVxuICAgICAgICBjb25zdCB4U2hyaW5rTWFzayA9IGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdO1xuXG4gICAgICAgIC8vIFotU2hyaW5rIEJ5dGVcbiAgICAgICAgY29uc3QgelNocmlua01hc2sgPSBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXTsqL1xuXG4gICAgICAgIGNvbnN0IHF1YWRzID0gdGVtcF9xdWFkc01lbS5xdWFkcztcbiAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJblZveGVsKHRlbXBfcm93LCB0ZW1wX2NvbCk7XG5cbiAgICAgICAgcXVhZHNbc3RhcnRJbmRleCArIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwgLSAyXSA9XG4gICAgICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXTsgLy8gRmxvb3IgQnl0ZSAoPSBzZWNvbmQgbGFzdCBxdWFkIG9mIHRoZSB2b3hlbClcbiAgICAgICAgcXVhZHNbc3RhcnRJbmRleCArIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwgLSAxXSA9XG4gICAgICAgICAgICBidWZmZXJTdGF0ZS52aWV3W2J1ZmZlclN0YXRlLmJ5dGVJbmRleCsrXTsgLy8gQ2VpbGluZyBCeXRlICg9IGxhc3QgcXVhZCBvZiB0aGUgdm94ZWwpXG5cbiAgICAgICAgLy8gQ29sbGlzaW9uTGF5ZXJNYXNrIEJ5dGVcbiAgICAgICAgY29uc3QgY29sbGlzaW9uTGF5ZXJNYXNrID0gYnVmZmVyU3RhdGUudmlld1tidWZmZXJTdGF0ZS5ieXRlSW5kZXgrK107XG5cbiAgICAgICAgbGV0IG51bUNvbGxpc2lvbkxheWVycyA9IDA7XG4gICAgICAgIGxldCBjb2xsaXNpb25MYXllck1hc2tDb3B5ID0gY29sbGlzaW9uTGF5ZXJNYXNrO1xuICAgICAgICB3aGlsZSAoY29sbGlzaW9uTGF5ZXJNYXNrQ29weSAhPSAwKSAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIDFzIGluIGNvbGxpc2lvbkxheWVyTWFzaydzIGJpbmFyeSByZXByZXNlbnRhdGlvbi5cbiAgICAgICAge1xuICAgICAgICAgICAgbnVtQ29sbGlzaW9uTGF5ZXJzKys7XG4gICAgICAgICAgICBjb2xsaXNpb25MYXllck1hc2tDb3B5ID4+PSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNi1CeXRlIENvbGxpc2lvbkxheWVyIENvbnRlbnRzXG4gICAgICAgIGxldCBjb2xsaXNpb25MYXllciA9IENPTExJU0lPTl9MQVlFUl9NSU47XG4gICAgICAgIHdoaWxlIChjb2xsaXNpb25MYXllciA8PSBDT0xMSVNJT05fTEFZRVJfTUFYKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluTGF5ZXIodGVtcF9yb3csIHRlbXBfY29sLCBjb2xsaXNpb25MYXllcik7XG4gICAgICAgICAgICBpZiAoKCgxIDw8IGNvbGxpc2lvbkxheWVyKSAmIGNvbGxpc2lvbkxheWVyTWFzaykgIT0gMCkgLy8gTGF5ZXIgaXMgb2NjdXBpZWRcbiAgICAgICAgICAgIHsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IHN0YXJ0SW5kZXggKyBOVU1fVk9YRUxfUVVBRFNfUEVSX0NPTExJU0lPTl9MQVlFUjsgKytpKVxuICAgICAgICAgICAgICAgICAgICBxdWFkc1tpXSA9IGJ1ZmZlclN0YXRlLnZpZXdbYnVmZmVyU3RhdGUuYnl0ZUluZGV4KytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSAvLyBMYXllciBpcyBOT1Qgb2NjdXBpZWRcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IHN0YXJ0SW5kZXggKyBOVU1fVk9YRUxfUVVBRFNfUEVSX0NPTExJU0lPTl9MQVlFUjsgKytpKVxuICAgICAgICAgICAgICAgICAgICBxdWFkc1tpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xsaXNpb25MYXllcisrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBWb3hlbCh0ZW1wX3F1YWRzTWVtLCB0ZW1wX3JvdywgdGVtcF9jb2wsIC8qeFNocmlua01hc2ssIHpTaHJpbmtNYXNrLCovIGNvbGxpc2lvbkxheWVyTWFzayk7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBjb25zdCBxdWFkcyA9IHRoaXMucXVhZHNNZW0ucXVhZHM7XG4gICAgICAgIGNvbnN0IHF1YWRTdHJzOiBzdHJpbmdbXSA9IFtgKCR7dGhpcy5yb3d9LCR7dGhpcy5jb2x9KTpgXTtcbiAgICAgICAgY29uc3QgZmlyc3RJbmRleCA9IGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJblZveGVsKHRoaXMucm93LCB0aGlzLmNvbCk7XG4gICAgICAgIGZvciAobGV0IHF1YWRJbmRleCA9IGZpcnN0SW5kZXg7IHF1YWRJbmRleCA8IGZpcnN0SW5kZXggKyBOVU1fVk9YRUxfUVVBRFNfUEVSX1ZPWEVMOyArK3F1YWRJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZmFjaW5nQXhpcyA9IGdldFZveGVsUXVhZEZhY2luZ0F4aXNGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IGdldFZveGVsUXVhZE9yaWVudGF0aW9uRnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uTGF5ZXIgPSBnZXRWb3hlbFF1YWRDb2xsaXNpb25MYXllckZyb21RdWFkSW5kZXgocXVhZEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHF1YWQgPSBxdWFkc1txdWFkSW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hvd1F1YWQgPSAocXVhZCAmIDBiMTAwMDAwMDApICE9IDA7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlSW5kZXggPSBxdWFkICYgMGIwMTExMTExMTtcbiAgICAgICAgICAgIGlmIChzaG93UXVhZClcbiAgICAgICAgICAgICAgICBxdWFkU3Rycy5wdXNoKGAke29yaWVudGF0aW9ufSR7ZmFjaW5nQXhpc30gYXQgJHtjb2xsaXNpb25MYXllcn0gKHRleHR1cmUgJHt0ZXh0dXJlSW5kZXh9KWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWFkU3Rycy5qb2luKFwiXFxuICAgICAgICBcIik7XG4gICAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRWFjaCBWb3hlbCdzIEJpbmFyeS1FbmNvZGVkIEZvcm1hdDpcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gTGF5b3V0OiBbWC1TaHJpbmsgQnl0ZV1bWi1TaHJpbmsgQnl0ZV1bRmxvb3IgQnl0ZV1bQ2VpbGluZyBCeXRlXVtDb2xsaXNpb25MYXllck1hc2sgQnl0ZV1bNi1CeXRlIENvbGxpc2lvbkxheWVyIENvbnRlbnRdWzYtQnl0ZSBDb2xsaXNpb25MYXllciBDb250ZW50XS4uLlxuLy9cbi8vIFtYLVNocmluayBCeXRlXTpcbi8vICAgICA4LWJpdCBiaW5hcnkgbWFzayB0byBpbmRpY2F0ZSB3aGV0aGVyIHRvIHNocmluayBlYWNoIGNvbGxpc2lvbkxheWVyJ3MgYmxvY2sgaW4gdGhlIFggZGlyZWN0aW9uICh0byBhIGZyYWN0aW9uIG9mIHRoZSBmdWxsIGJsb2NrIHNpemUpLlxuLy9cbi8vIFtaLVNocmluayBCeXRlXTpcbi8vICAgICA4LWJpdCBiaW5hcnkgbWFzayB0byBpbmRpY2F0ZSB3aGV0aGVyIHRvIHNocmluayBlYWNoIGNvbGxpc2lvbkxheWVyJ3MgYmxvY2sgaW4gdGhlIFogZGlyZWN0aW9uICh0byBhIGZyYWN0aW9uIG9mIHRoZSBmdWxsIGJsb2NrIHNpemUpLlxuLy9cbi8vIFtGbG9vciBCeXRlXTpcbi8vICAgICA4IGJpdHMgZm9yIHRoZSBmbG9vcidzICgreSkgZmFjaW5nIHF1YWRcbi8vXG4vLyBbQ2VpbGluZyBCeXRlXTpcbi8vICAgICA4IGJpdHMgZm9yIHRoZSBjZWlsaW5nJ3MgKC15KSBmYWNpbmcgcXVhZFxuLy9cbi8vIFtDb2xsaXNpb25MYXllck1hc2sgQnl0ZV06XG4vLyAgICAgOCBiaXRzIGZvciB0aGUgdm94ZWwncyBjb2xsaXNpb25MYXllck1hc2sgKGUuZy4gTGVhc3Qgc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgd2hldGhlciB0aGUgcmFuZ2UgeT1bMCwwLjVdIGlzIG9jY3VwaWVkLCBzZWNvbmQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgd2hldGhlciB0aGUgcmFuZ2UgeT1bMC41LDFdIGlzIG9jY3VwaWVkLCBhbmQgc28gb24pXG4vLyAgICAgU3Vic2VxdWVudCA2LWJ5dGUgY2h1bmtzIHdpbGwgY29ycmVzcG9uZCB0byB0aGUgY29uc2VjdXRpdmUgXCIxXCJzIGluIHRoZSBjb2xsaXNpb25MYXllck1hc2suXG4vLyAgICAgZS5nLiBJZiB0aGUgY29sbGlzaW9uTGF5ZXJNYXNrIGlzIDEwMDAwMTAxOlxuLy8gICAgICAgICAoMSkgVGhlIDFzdCBzdWJzZXF1ZW50IDYtYnl0ZSBjaHVuayB3aWxsIGNvcnJlc3BvbmQgdG8gdGhlIHF1YWRzIHN1cnJvdW5kaW5nIHRoZSB2b2x1bWUgaW4geT1bMCwwLjVdICg9IDFzdCBsYXllciBmcm9tIHk9MClcbi8vICAgICAgICAgKDIpIFRoZSAybmQgc3Vic2VxdWVudCA2LWJ5dGUgY2h1bmsgd2lsbCBjb3JyZXNwb25kIHRvIHRoZSBxdWFkcyBzdXJyb3VuZGluZyB0aGUgdm9sdW1lIGluIHk9WzEsMS41XSAoPSAzcmQgbGF5ZXIgZnJvbSB5PTApXG4vLyAgICAgICAgICgzKSBUaGUgM3JkIHN1YnNlcXVlbnQgNi1ieXRlIGNodW5rIHdpbGwgY29ycmVzcG9uZCB0byB0aGUgcXVhZHMgc3Vycm91bmRpbmcgdGhlIHZvbHVtZSBpbiB5PVszLjUsNF0gKD0gOHRoIGxheWVyIGZyb20geT0wKVxuLy9cbi8vIFs2LUJ5dGUgQ29sbGlzaW9uTGF5ZXIgQ29udGVudF06XG4vLyAgICAgOCBiaXRzIGZvciB0aGUgKC15KSBmYWNpbmcgcXVhZFxuLy8gICAgIDggYml0cyBmb3IgdGhlICgreSkgZmFjaW5nIHF1YWRcbi8vICAgICA4IGJpdHMgZm9yIHRoZSAoLXgpIGZhY2luZyBxdWFkXG4vLyAgICAgOCBiaXRzIGZvciB0aGUgKCt4KSBmYWNpbmcgcXVhZFxuLy8gICAgIDggYml0cyBmb3IgdGhlICgteikgZmFjaW5nIHF1YWRcbi8vICAgICA4IGJpdHMgZm9yIHRoZSAoK3opIGZhY2luZyBxdWFkXG4vL1xuLy8gTm90ZTogKE1heGltdW0gbWVtb3J5IHNpemUgb2YgYSByb29tJ3Mgdm94ZWxHcmlkKSA9IGFib3V0IDUyS0Jcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFYWNoIFZveGVsLVF1YWQncyBCaW5hcnktRW5jb2RlZCBGb3JtYXQ6XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vIDEgYml0IHRvIGluZGljYXRlIHdoZXRoZXIgdGhlIHF1YWQgaXMgc2hvd24gb3IgaGlkZGVuICgxID0gc2hvd24sIDAgPSBoaWRkZW4pXG4vLyA3IGJpdHMgZm9yIHRoZSBxdWFkJ3MgdGV4dHVyZUluZGV4XG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iLCJpbXBvcnQgVm94ZWwgZnJvbSBcIi4vdm94ZWxcIjtcbmltcG9ydCBCdWZmZXJTdGF0ZSBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9idWZmZXJTdGF0ZVwiO1xuaW1wb3J0IEVuY29kYWJsZURhdGEgZnJvbSBcIi4uLy4uL25ldHdvcmtpbmcvdHlwZXMvZW5jb2RhYmxlRGF0YVwiXG5pbXBvcnQgeyBOVU1fVk9YRUxfQ09MUywgTlVNX1ZPWEVMX1JPV1MgfSBmcm9tIFwiLi4vLi4vc3lzdGVtL2NvbnN0YW50c1wiO1xuaW1wb3J0IFZveGVsUXVhZHNSdW50aW1lTWVtb3J5IGZyb20gXCIuL3ZveGVsUXVhZHNSdW50aW1lTWVtb3J5XCI7XG5pbXBvcnQgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlciBmcm9tIFwiLi4vLi4vbmV0d29ya2luZy90eXBlcy9lbmNvZGFibGVSYXdCeXRlTnVtYmVyXCI7XG5cbmNvbnN0IGxhdGVzdFZlcnNpb24gPSAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWb3hlbEdyaWQgZXh0ZW5kcyBFbmNvZGFibGVEYXRhXG57XG4gICAgdm94ZWxzOiBWb3hlbFtdO1xuICAgIHF1YWRzTWVtOiBWb3hlbFF1YWRzUnVudGltZU1lbW9yeTsgLy8gVGhpcyBmaWVsZCBpcyBOT1QgcGFydCBvZiB0aGUgZW5jb2RlZCBkYXRhLlxuXG4gICAgY29uc3RydWN0b3Iodm94ZWxzOiBWb3hlbFtdLCBxdWFkc01lbTogVm94ZWxRdWFkc1J1bnRpbWVNZW1vcnkpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZveGVscyA9IHZveGVscztcbiAgICAgICAgdGhpcy5xdWFkc01lbSA9IHF1YWRzTWVtO1xuICAgIH1cblxuICAgIGVuY29kZShidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpXG4gICAge1xuICAgICAgICBuZXcgRW5jb2RhYmxlUmF3Qnl0ZU51bWJlcihsYXRlc3RWZXJzaW9uKS5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuXG4gICAgICAgIGZvciAoY29uc3Qgdm94ZWwgb2YgdGhpcy52b3hlbHMpXG4gICAgICAgICAgICB2b3hlbC5lbmNvZGUoYnVmZmVyU3RhdGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKTogRW5jb2RhYmxlRGF0YVxuICAgIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbkZvdW5kID0gKEVuY29kYWJsZVJhd0J5dGVOdW1iZXIuZGVjb2RlKGJ1ZmZlclN0YXRlKSBhcyBFbmNvZGFibGVSYXdCeXRlTnVtYmVyKS5uO1xuICAgICAgICBpZiAodmVyc2lvbkZvdW5kIDwgbGF0ZXN0VmVyc2lvbilcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBvbGRlclZlcnNpb25EZWNvZGVyc1t2ZXJzaW9uRm91bmRdKGJ1ZmZlclN0YXRlKTtcbiAgICAgICAgICAgIGZvciAobGV0IHZlcnNpb24gPSB2ZXJzaW9uRm91bmQ7IHZlcnNpb24gPCBsYXRlc3RWZXJzaW9uOyArK3ZlcnNpb24pXG4gICAgICAgICAgICAgICAgZGF0YSA9IHZlcnNpb25Db252ZXJ0ZXJzW3ZlcnNpb25dKGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBudW1Wb3hlbHMgPSBOVU1fVk9YRUxfUk9XUyAqIE5VTV9WT1hFTF9DT0xTO1xuICAgICAgICBjb25zdCB2b3hlbHMgPSBuZXcgQXJyYXk8Vm94ZWw+KG51bVZveGVscyk7XG4gICAgICAgIHZveGVscy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGNvbnN0IG51bUdyaWRDb2xzSW52ID0gMSAvIE5VTV9WT1hFTF9DT0xTO1xuICAgICAgICBsZXQgdm94ZWxJbmRleCA9IDA7XG5cbiAgICAgICAgY29uc3QgcXVhZHNNZW0gPSBuZXcgVm94ZWxRdWFkc1J1bnRpbWVNZW1vcnkoKTtcbiAgICAgICAgd2hpbGUgKHZveGVsSW5kZXggPCBudW1Wb3hlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3Iodm94ZWxJbmRleCAqIG51bUdyaWRDb2xzSW52KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IHZveGVsSW5kZXggJSBOVU1fVk9YRUxfQ09MUztcbiAgICAgICAgICAgIGlmIChyb3cgPCAwIHx8IGNvbCA8IDAgfHwgcm93ID49IE5VTV9WT1hFTF9ST1dTIHx8IGNvbCA+PSBOVU1fVk9YRUxfQ09MUylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY29kZWQgdm94ZWwgY29vcmRpbmF0ZXMgYXJlIG91dCBvZiByYW5nZSAocm93ID0gJHtyb3d9LCBjb2wgPSAke2NvbH0pYCk7XG4gICAgICAgICAgICBjb25zdCB2b3hlbCA9IFZveGVsLmRlY29kZVdpdGhQYXJhbXMoYnVmZmVyU3RhdGUsIHF1YWRzTWVtLCByb3csIGNvbCkgYXMgVm94ZWw7XG4gICAgICAgICAgICB2b3hlbHNbdm94ZWxJbmRleCsrXSA9IHZveGVsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVm94ZWxHcmlkKHZveGVscywgcXVhZHNNZW0pO1xuICAgIH1cbn1cblxuY29uc3Qgb2xkZXJWZXJzaW9uRGVjb2RlcnM6ICgoYnVmZmVyU3RhdGU6IEJ1ZmZlclN0YXRlKSA9PiBFbmNvZGFibGVEYXRhKVtdID0gW1xuICAgIChidWZmZXJTdGF0ZTogQnVmZmVyU3RhdGUpID0+IHsgLy8gdmVyc2lvbiAwXG4gICAgICAgIHJldHVybiBuZXcgVm94ZWxHcmlkKFtdLCBuZXcgVm94ZWxRdWFkc1J1bnRpbWVNZW1vcnkoKSk7IC8vIFRoaXMgaXMganVzdCBhIHBsYWNlaG9sZGVyXG4gICAgfSxcbl07XG5cbmNvbnN0IHZlcnNpb25Db252ZXJ0ZXJzOiAoKG9sZGVyVmVyc2lvbkRhdGE6IEVuY29kYWJsZURhdGEpID0+IEVuY29kYWJsZURhdGEpW10gPSBbXG4gICAgKG9sZGVyVmVyc2lvbkRhdGE6IEVuY29kYWJsZURhdGEpID0+IHsgLy8gdmVyc2lvbiAwIC0+IDFcbiAgICAgICAgcmV0dXJuIG5ldyBWb3hlbEdyaWQoW10sIG5ldyBWb3hlbFF1YWRzUnVudGltZU1lbW9yeSgpKTsgLy8gVGhpcyBpcyBqdXN0IGEgcGxhY2Vob2xkZXJcbiAgICB9LFxuXTtcbiIsImltcG9ydCB7IGdldFZveGVsQ29sRnJvbVF1YWRJbmRleCwgZ2V0Vm94ZWxRdWFkQ29sbGlzaW9uTGF5ZXJGcm9tUXVhZEluZGV4LCBnZXRWb3hlbFF1YWRGYWNpbmdBeGlzRnJvbVF1YWRJbmRleCwgZ2V0Vm94ZWxRdWFkT3JpZW50YXRpb25Gcm9tUXVhZEluZGV4LCBnZXRWb3hlbFJvd0Zyb21RdWFkSW5kZXggfSBmcm9tIFwiLi4vdXRpbC92b3hlbFF1ZXJ5VXRpbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWb3hlbFF1YWRDaGFuZ2VcbntcbiAgICBxdWFkSW5kZXg6IG51bWJlcjtcbiAgICBuZXdRdWFkOiBudW1iZXI7XG4gICAgdm94ZWxRdWFkc1Jlc3VsdFNuYXBzaG90Pzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocXVhZEluZGV4OiBudW1iZXIsIG5ld1F1YWQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucXVhZEluZGV4ID0gcXVhZEluZGV4O1xuICAgICAgICB0aGlzLm5ld1F1YWQgPSBuZXdRdWFkO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgY29uc3Qgcm93ID0gZ2V0Vm94ZWxSb3dGcm9tUXVhZEluZGV4KHRoaXMucXVhZEluZGV4KTtcbiAgICAgICAgY29uc3QgY29sID0gZ2V0Vm94ZWxDb2xGcm9tUXVhZEluZGV4KHRoaXMucXVhZEluZGV4KTtcbiAgICAgICAgY29uc3QgZmFjaW5nQXhpcyA9IGdldFZveGVsUXVhZEZhY2luZ0F4aXNGcm9tUXVhZEluZGV4KHRoaXMucXVhZEluZGV4KTtcbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb24gPSBnZXRWb3hlbFF1YWRPcmllbnRhdGlvbkZyb21RdWFkSW5kZXgodGhpcy5xdWFkSW5kZXgpO1xuICAgICAgICBjb25zdCBjb2xsaXNpb25MYXllciA9IGdldFZveGVsUXVhZENvbGxpc2lvbkxheWVyRnJvbVF1YWRJbmRleCh0aGlzLnF1YWRJbmRleCk7XG4gICAgICAgIGNvbnN0IHNob3dRdWFkID0gKHRoaXMubmV3UXVhZCAmIDBiMTAwMDAwMDApICE9IDA7XG4gICAgICAgIGNvbnN0IHRleHR1cmVJbmRleCA9IHRoaXMubmV3UXVhZCAmIDBiMDExMTExMTE7XG4gICAgICAgIHJldHVybiBgKCR7cm93fSwke2NvbH0pICR7b3JpZW50YXRpb259JHtmYWNpbmdBeGlzfSBhdCAke2NvbGxpc2lvbkxheWVyfSAtLS0+ICR7c2hvd1F1YWQgPyBcInNob3dcIiA6IFwiaGlkZVwifSB0ZXh0dXJlICR7dGV4dHVyZUluZGV4fVxuICAgIFJlc3VsdDogJHt0aGlzLnZveGVsUXVhZHNSZXN1bHRTbmFwc2hvdCB8fCBcIig/KVwifWA7XG4gICAgfVxufSIsImltcG9ydCB7IE5VTV9WT1hFTF9RVUFEU19QRVJfUk9PTSB9IGZyb20gXCIuLi8uLi9zeXN0ZW0vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZveGVsUXVhZHNSdW50aW1lTWVtb3J5XG57XG4gICAgcXVhZHM6IFVpbnQ4QXJyYXk7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLnF1YWRzID0gbmV3IFVpbnQ4QXJyYXkoTlVNX1ZPWEVMX1FVQURTX1BFUl9ST09NKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQ09MTElTSU9OX0xBWUVSX01BWCwgQ09MTElTSU9OX0xBWUVSX01JTiwgQ09MTElTSU9OX0xBWUVSX05VTEwsIE5VTV9WT1hFTF9DT0xTLCBOVU1fVk9YRUxfUk9XUywgTlVNX1ZPWEVMX1FVQURTX1BFUl9DT0xMSVNJT05fTEFZRVIgfSBmcm9tIFwiLi4vLi4vc3lzdGVtL2NvbnN0YW50c1wiO1xuaW1wb3J0IFJvb20gZnJvbSBcIi4uLy4uL3Jvb20vdHlwZXMvcm9vbVwiO1xuaW1wb3J0IHsgc2V0Vm94ZWxRdWFkVmlzaWJsZSB9IGZyb20gXCIuL3ZveGVsUXVhZFVwZGF0ZVV0aWxcIjtcbmltcG9ydCB7IGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJbkxheWVyLCBnZXRWb3hlbCwgZ2V0Vm94ZWxDb2xGcm9tUXVhZEluZGV4LCBnZXRWb3hlbFF1YWRDb2xsaXNpb25MYXllckZyb21RdWFkSW5kZXgsIGdldFZveGVsUXVhZEZhY2luZ0F4aXNGcm9tUXVhZEluZGV4LCBnZXRWb3hlbFF1YWRJbmRleCwgZ2V0Vm94ZWxRdWFkSW5kZXhPZmZzZXRJbnNpZGVMYXllciwgZ2V0Vm94ZWxSb3dGcm9tUXVhZEluZGV4LCBpc1ZveGVsQ29sbGlzaW9uTGF5ZXJPY2N1cGllZCB9IGZyb20gXCIuL3ZveGVsUXVlcnlVdGlsXCI7XG5pbXBvcnQgVm94ZWwgZnJvbSBcIi4uL3R5cGVzL3ZveGVsXCI7XG5cbmxldCBkZWJ1Z0VuYWJsZWQgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFZveGVsQmxvY2tVcGRhdGVVdGlsRGVidWdFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pXG57XG4gICAgZGVidWdFbmFibGVkID0gZW5hYmxlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVWb3hlbEJsb2NrKHJvb206IFJvb20sIHF1YWRJbmRleDogbnVtYmVyLFxuICAgIHJvd09mZnNldDogbnVtYmVyLCBjb2xPZmZzZXQ6IG51bWJlciwgY29sbGlzaW9uTGF5ZXJPZmZzZXQ6IG51bWJlcik6IGJvb2xlYW5cbntcbiAgICBjb25zdCByb3cgPSBnZXRWb3hlbFJvd0Zyb21RdWFkSW5kZXgocXVhZEluZGV4KTtcbiAgICBjb25zdCBjb2wgPSBnZXRWb3hlbENvbEZyb21RdWFkSW5kZXgocXVhZEluZGV4KTtcbiAgICBjb25zdCBjb2xsaXNpb25MYXllciA9IGdldFZveGVsUXVhZENvbGxpc2lvbkxheWVyRnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuXG4gICAgaWYgKGRlYnVnRW5hYmxlZClcbiAgICAgICAgY29uc29sZS5sb2coYFNUQVJUIC0gbW92ZUJsb2NrIC0gcm93OiAke3Jvd30sIGNvbDogJHtjb2x9LCBjb2xsaXNpb25MYXllcjogJHtjb2xsaXNpb25MYXllcn0sIHJvd09mZnNldDogJHtyb3dPZmZzZXR9LCBjb2xPZmZzZXQ6ICR7Y29sT2Zmc2V0fSwgY29sbGlzaW9uTGF5ZXJPZmZzZXQ6ICR7Y29sbGlzaW9uTGF5ZXJPZmZzZXR9YCk7XG5cbiAgICBjb25zdCB2b3hlbCA9IGdldFZveGVsKHJvb20sIHJvdywgY29sKTtcbiAgICBpZiAoIXZveGVsKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTm8gdm94ZWwgZm91bmQgaW4gKHJvdzogJHtyb3d9LCBjb2w6ICR7Y29sfSlgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKmNvbnN0IHhTaHJpbmsgPSAodm94ZWwueFNocmlua01hc2sgJiAoMSA8PCBjb2xsaXNpb25MYXllcikpICE9IDA7XG4gICAgY29uc3QgelNocmluayA9ICh2b3hlbC56U2hyaW5rTWFzayAmICgxIDw8IGNvbGxpc2lvbkxheWVyKSkgIT0gMDsqL1xuXG4gICAgY29uc3QgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXI6IG51bWJlcltdID0gW107XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJbkxheWVyKHJvdywgY29sLCBjb2xsaXNpb25MYXllcik7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBzdGFydEluZGV4ICsgTlVNX1ZPWEVMX1FVQURTX1BFUl9DT0xMSVNJT05fTEFZRVI7ICsraSlcbiAgICAgICAgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXIucHVzaChyb29tLnZveGVsR3JpZC5xdWFkc01lbS5xdWFkc1tpXSAmIDBiMDExMTExMTEpO1xuXG4gICAgbGV0IG5ld0NvbGxpc2lvbkxheWVyID0gY29sbGlzaW9uTGF5ZXIgKyBjb2xsaXNpb25MYXllck9mZnNldDtcbiAgICBpZiAobmV3Q29sbGlzaW9uTGF5ZXIgPCBDT0xMSVNJT05fTEFZRVJfTUlOIHx8IG5ld0NvbGxpc2lvbkxheWVyID4gQ09MTElTSU9OX0xBWUVSX01BWClcbiAgICAgICAgbmV3Q29sbGlzaW9uTGF5ZXIgPSBDT0xMSVNJT05fTEFZRVJfTlVMTDtcblxuICAgIGNvbnN0IHRhcmdldFF1YWRJbmRleCA9IGdldFZveGVsUXVhZEluZGV4KHJvdyArIHJvd09mZnNldCwgY29sICsgY29sT2Zmc2V0LCBcInlcIiwgXCItXCIsXG4gICAgICAgIG5ld0NvbGxpc2lvbkxheWVyKTtcbiAgICBjb25zdCBzdWNjZXNzID0gYWRkVm94ZWxCbG9jayhyb29tLCB0YXJnZXRRdWFkSW5kZXgsIC8qeFNocmluaywgelNocmluaywqLyBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllcilcbiAgICAgICAgJiYgcmVtb3ZlVm94ZWxCbG9jayhyb29tLCBxdWFkSW5kZXgpO1xuXG4gICAgaWYgKGRlYnVnRW5hYmxlZClcbiAgICAgICAgY29uc29sZS5sb2coYEVORCAtIG1vdmVCbG9jayAtIHJvdzogJHtyb3d9LCBjb2w6ICR7Y29sfSwgY29sbGlzaW9uTGF5ZXI6ICR7Y29sbGlzaW9uTGF5ZXJ9LCByb3dPZmZzZXQ6ICR7cm93T2Zmc2V0fSwgY29sT2Zmc2V0OiAke2NvbE9mZnNldH0sIGNvbGxpc2lvbkxheWVyT2Zmc2V0OiAke2NvbGxpc2lvbkxheWVyT2Zmc2V0fWApO1xuICAgIHJldHVybiBzdWNjZXNzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVm94ZWxCbG9jayhyb29tOiBSb29tLCBxdWFkSW5kZXg6IG51bWJlciwgLyp4U2hyaW5rOiBib29sZWFuLCB6U2hyaW5rOiBib29sZWFuLCovXG4gICAgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXI6IG51bWJlcltdKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHJvdyA9IGdldFZveGVsUm93RnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuICAgIGNvbnN0IGNvbCA9IGdldFZveGVsQ29sRnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuICAgIGNvbnN0IGNvbGxpc2lvbkxheWVyID0gZ2V0Vm94ZWxRdWFkQ29sbGlzaW9uTGF5ZXJGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG5cbiAgICBpZiAoZGVidWdFbmFibGVkKVxuICAgICAgICBjb25zb2xlLmxvZyhgU1RBUlQgLSBhZGRCbG9jayAtIHJvdzogJHtyb3d9LCBjb2w6ICR7Y29sfSwgY29sbGlzaW9uTGF5ZXI6ICR7Y29sbGlzaW9uTGF5ZXJ9LCBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllcjogJHtKU09OLnN0cmluZ2lmeShxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllcil9YCk7XG5cbiAgICBpZiAoY29sbGlzaW9uTGF5ZXIgPCBDT0xMSVNJT05fTEFZRVJfTUlOIHx8IGNvbGxpc2lvbkxheWVyID4gQ09MTElTSU9OX0xBWUVSX01BWClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybihgY29sbGlzaW9uTGF5ZXIgaXMgb3V0IG9mIHJhbmdlIChyb3c6ICR7cm93fSwgY29sOiAke2NvbH0sIGNvbGxpc2lvbkxheWVyID0gJHtjb2xsaXNpb25MYXllcn0pYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJvdyA8PSAwIHx8IGNvbCA8PSAwIHx8IHJvdyA+PSBOVU1fVk9YRUxfUk9XUy0xIHx8IGNvbCA+PSBOVU1fVk9YRUxfQ09MUy0xKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgY2hhbmdlIGEgYm91bmRhcnkgdm94ZWwuIChyb3c6ICR7cm93fSwgY29sOiAke2NvbH0sIGNvbGxpc2lvbkxheWVyID0gJHtjb2xsaXNpb25MYXllcn0pYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB2b3hlbCA9IGdldFZveGVsKHJvb20sIHJvdywgY29sKTtcbiAgICBpZiAoIXZveGVsKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTm8gdm94ZWwgZm91bmQgaW4gKHJvdzogJHtyb3d9LCBjb2w6ICR7Y29sfSlgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNWb3hlbENvbGxpc2lvbkxheWVyT2NjdXBpZWQodm94ZWwsIGNvbGxpc2lvbkxheWVyKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFZveGVsIGJsb2NrIGFscmVhZHkgZXhpc3RzIChyb3c6ICR7cm93fSwgY29sOiAke2NvbH0sIGNvbGxpc2lvbkxheWVyOiAke2NvbGxpc2lvbkxheWVyfSlgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2b3hlbC5jb2xsaXNpb25MYXllck1hc2sgXj0gKDEgPDwgY29sbGlzaW9uTGF5ZXIpO1xuXG4gICAgLyppZiAoeFNocmluaylcbiAgICAgICAgdm94ZWwueFNocmlua01hc2sgfD0gKDEgPDwgY29sbGlzaW9uTGF5ZXIpO1xuICAgIGVsc2VcbiAgICAgICAgdm94ZWwueFNocmlua01hc2sgJj0gfigxIDw8IGNvbGxpc2lvbkxheWVyKTtcblxuICAgIGlmICh6U2hyaW5rKVxuICAgICAgICB2b3hlbC56U2hyaW5rTWFzayB8PSAoMSA8PCBjb2xsaXNpb25MYXllcik7XG4gICAgZWxzZVxuICAgICAgICB2b3hlbC56U2hyaW5rTWFzayAmPSB+KDEgPDwgY29sbGlzaW9uTGF5ZXIpOyovXG4gICAgXG4gICAgdXBkYXRlQWxsVm94ZWxCbG9ja1NpZGVzKHJvb20sIHZveGVsLCBjb2xsaXNpb25MYXllciwgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXIpO1xuXG4gICAgaWYgKGRlYnVnRW5hYmxlZClcbiAgICAgICAgY29uc29sZS5sb2coYEVORCAtIGFkZEJsb2NrIC0gcm93OiAke3Jvd30sIGNvbDogJHtjb2x9LCBjb2xsaXNpb25MYXllcjogJHtjb2xsaXNpb25MYXllcn0sIHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyOiAke0pTT04uc3RyaW5naWZ5KHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyKX1gKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVZveGVsQmxvY2socm9vbTogUm9vbSwgcXVhZEluZGV4OiBudW1iZXIpOiBib29sZWFuXG57XG4gICAgY29uc3Qgcm93ID0gZ2V0Vm94ZWxSb3dGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgY29uc3QgY29sID0gZ2V0Vm94ZWxDb2xGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgY29uc3QgY29sbGlzaW9uTGF5ZXIgPSBnZXRWb3hlbFF1YWRDb2xsaXNpb25MYXllckZyb21RdWFkSW5kZXgocXVhZEluZGV4KTtcblxuICAgIGlmIChkZWJ1Z0VuYWJsZWQpXG4gICAgICAgIGNvbnNvbGUubG9nKGBTVEFSVCAtIHJlbW92ZUJsb2NrIC0gcm93OiAke3Jvd30sIGNvbDogJHtjb2x9LCBjb2xsaXNpb25MYXllcjogJHtjb2xsaXNpb25MYXllcn1gKTtcblxuICAgIGlmIChjb2xsaXNpb25MYXllciA8IENPTExJU0lPTl9MQVlFUl9NSU4gfHwgY29sbGlzaW9uTGF5ZXIgPiBDT0xMSVNJT05fTEFZRVJfTUFYKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBjb2xsaXNpb25MYXllciBpcyBvdXQgb2YgcmFuZ2UgKHJvdzogJHtyb3d9LCBjb2w6ICR7Y29sfSwgY29sbGlzaW9uTGF5ZXIgPSAke2NvbGxpc2lvbkxheWVyfSlgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocm93IDw9IDAgfHwgY29sIDw9IDAgfHwgcm93ID49IE5VTV9WT1hFTF9ST1dTLTEgfHwgY29sID49IE5VTV9WT1hFTF9DT0xTLTEpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBjaGFuZ2UgYSBib3VuZGFyeSB2b3hlbC4gKHJvdzogJHtyb3d9LCBjb2w6ICR7Y29sfSwgY29sbGlzaW9uTGF5ZXIgPSAke2NvbGxpc2lvbkxheWVyfSlgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHZveGVsID0gZ2V0Vm94ZWwocm9vbSwgcm93LCBjb2wpO1xuICAgIGlmICghdm94ZWwpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBObyB2b3hlbCBmb3VuZCBpbiAocm93OiAke3Jvd30sIGNvbDogJHtjb2x9KWApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghaXNWb3hlbENvbGxpc2lvbkxheWVyT2NjdXBpZWQodm94ZWwsIGNvbGxpc2lvbkxheWVyKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHZveGVsIGJsb2NrIHRvIHJlbW92ZSAocm93OiAke3Jvd30sIGNvbDogJHtjb2x9LCBjb2xsaXNpb25MYXllcjogJHtjb2xsaXNpb25MYXllcn0pYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdm94ZWwuY29sbGlzaW9uTGF5ZXJNYXNrIF49ICgxIDw8IGNvbGxpc2lvbkxheWVyKTtcblxuICAgIHVwZGF0ZUFsbFZveGVsQmxvY2tTaWRlcyhyb29tLCB2b3hlbCwgY29sbGlzaW9uTGF5ZXIpO1xuXG4gICAgaWYgKGRlYnVnRW5hYmxlZClcbiAgICAgICAgY29uc29sZS5sb2coYEVORCAtIHJlbW92ZUJsb2NrIC0gcm93OiAke3Jvd30sIGNvbDogJHtjb2x9LCBjb2xsaXNpb25MYXllcjogJHtjb2xsaXNpb25MYXllcn1gKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLypleHBvcnQgZnVuY3Rpb24gc2hyaW5rT3JFeHBhbmRWb3hlbEJsb2NrKHJvb206IFJvb20sIHF1YWRJbmRleDogbnVtYmVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHJvdyA9IGdldFZveGVsUm93RnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuICAgIGNvbnN0IGNvbCA9IGdldFZveGVsQ29sRnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuICAgIGNvbnN0IGNvbGxpc2lvbkxheWVyID0gZ2V0Vm94ZWxRdWFkQ29sbGlzaW9uTGF5ZXJGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgY29uc3QgZmFjaW5nQXhpcyA9IGdldFZveGVsUXVhZEZhY2luZ0F4aXNGcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG5cbiAgICBpZiAoZGVidWdFbmFibGVkKVxuICAgICAgICBjb25zb2xlLmxvZyhgU1RBUlQgLSBzaHJpbmtPckV4cGFuZFZveGVsQmxvY2sgLSByb3c6ICR7cm93fSwgY29sOiAke2NvbH0sIGNvbGxpc2lvbkxheWVyOiAke2NvbGxpc2lvbkxheWVyfWApO1xuXG4gICAgaWYgKGNvbGxpc2lvbkxheWVyIDwgQ09MTElTSU9OX0xBWUVSX01JTiB8fCBjb2xsaXNpb25MYXllciA+IENPTExJU0lPTl9MQVlFUl9NQVgpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oYGNvbGxpc2lvbkxheWVyIGlzIG91dCBvZiByYW5nZSAocm93OiAke3Jvd30sIGNvbDogJHtjb2x9LCBjb2xsaXNpb25MYXllciA9ICR7Y29sbGlzaW9uTGF5ZXJ9KWApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyb3cgPD0gMCB8fCBjb2wgPD0gMCB8fCByb3cgPj0gTlVNX1ZPWEVMX1JPV1MtMSB8fCBjb2wgPj0gTlVNX1ZPWEVMX0NPTFMtMSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGNoYW5nZSBhIGJvdW5kYXJ5IHZveGVsLiAocm93OiAke3Jvd30sIGNvbDogJHtjb2x9LCBjb2xsaXNpb25MYXllciA9ICR7Y29sbGlzaW9uTGF5ZXJ9KWApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHZveGVsID0gZ2V0Vm94ZWwocm9vbSwgcm93LCBjb2wpO1xuICAgIGlmICghdm94ZWwpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBObyB2b3hlbCBmb3VuZCBpbiAocm93OiAke3Jvd30sIGNvbDogJHtjb2x9KWApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3dpdGNoIChmYWNpbmdBeGlzKVxuICAgIHtcbiAgICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgICAgIGlmICgodm94ZWwueFNocmlua01hc2sgJiAoMSA8PCBjb2xsaXNpb25MYXllcikpICE9ICh2b3hlbC56U2hyaW5rTWFzayAmICgxIDw8IGNvbGxpc2lvbkxheWVyKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdm94ZWwueFNocmlua01hc2sgfD0gKDEgPDwgY29sbGlzaW9uTGF5ZXIpO1xuICAgICAgICAgICAgICAgIHZveGVsLnpTaHJpbmtNYXNrIHw9ICgxIDw8IGNvbGxpc2lvbkxheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2b3hlbC54U2hyaW5rTWFzayBePSAoMSA8PCBjb2xsaXNpb25MYXllcik7XG4gICAgICAgICAgICAgICAgdm94ZWwuelNocmlua01hc2sgXj0gKDEgPDwgY29sbGlzaW9uTGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICB2b3hlbC56U2hyaW5rTWFzayBePSAoMSA8PCBjb2xsaXNpb25MYXllcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgICAgIHZveGVsLnhTaHJpbmtNYXNrIF49ICgxIDw8IGNvbGxpc2lvbkxheWVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB1cGRhdGVBbGxWb3hlbEJsb2NrU2lkZXMocm9vbSwgdm94ZWwsIGNvbGxpc2lvbkxheWVyKTtcblxuICAgIGlmIChkZWJ1Z0VuYWJsZWQpXG4gICAgICAgIGNvbnNvbGUubG9nKGBFTkQgLSBzaHJpbmtPckV4cGFuZFZveGVsQmxvY2sgLSByb3c6ICR7cm93fSwgY29sOiAke2NvbH0sIGNvbGxpc2lvbkxheWVyOiAke2NvbGxpc2lvbkxheWVyfWApO1xuICAgIHJldHVybiB0cnVlO1xufSovXG5cbmZ1bmN0aW9uIHVwZGF0ZUFsbFZveGVsQmxvY2tTaWRlcyhyb29tOiBSb29tLCB2b3hlbDogVm94ZWwsIGNvbGxpc2lvbkxheWVyOiBudW1iZXIsXG4gICAgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXI/OiBudW1iZXJbXSlcbntcbiAgICBsZXQgbG93ZXJDb2xsaXNpb25MYXllciA9IGNvbGxpc2lvbkxheWVyLTE7XG4gICAgaWYgKGxvd2VyQ29sbGlzaW9uTGF5ZXIgPCBDT0xMSVNJT05fTEFZRVJfTUlOKVxuICAgICAgICBsb3dlckNvbGxpc2lvbkxheWVyID0gQ09MTElTSU9OX0xBWUVSX05VTEw7XG4gICAgbGV0IHVwcGVyQ29sbGlzaW9uTGF5ZXIgPSBjb2xsaXNpb25MYXllcisxO1xuICAgIGlmICh1cHBlckNvbGxpc2lvbkxheWVyID4gQ09MTElTSU9OX0xBWUVSX01BWClcbiAgICAgICAgdXBwZXJDb2xsaXNpb25MYXllciA9IENPTExJU0lPTl9MQVlFUl9OVUxMO1xuXG4gICAgdXBkYXRlVm94ZWxCbG9ja1NpZGUocm9vbSwgdm94ZWwsIGNvbGxpc2lvbkxheWVyLCBsb3dlckNvbGxpc2lvbkxheWVyLCB1cHBlckNvbGxpc2lvbkxheWVyLFxuICAgICAgICBcInlcIiwgXCItXCIsIHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyICE9IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllcltnZXRWb3hlbFF1YWRJbmRleE9mZnNldEluc2lkZUxheWVyKFwieVwiLCBcIi1cIildIDogdW5kZWZpbmVkKTtcbiAgICB1cGRhdGVWb3hlbEJsb2NrU2lkZShyb29tLCB2b3hlbCwgY29sbGlzaW9uTGF5ZXIsIGxvd2VyQ29sbGlzaW9uTGF5ZXIsIHVwcGVyQ29sbGlzaW9uTGF5ZXIsXG4gICAgICAgIFwieVwiLCBcIitcIiwgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXIgIT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyW2dldFZveGVsUXVhZEluZGV4T2Zmc2V0SW5zaWRlTGF5ZXIoXCJ5XCIsIFwiK1wiKV0gOiB1bmRlZmluZWQpO1xuICAgIHVwZGF0ZVZveGVsQmxvY2tTaWRlKHJvb20sIHZveGVsLCBjb2xsaXNpb25MYXllciwgbG93ZXJDb2xsaXNpb25MYXllciwgdXBwZXJDb2xsaXNpb25MYXllcixcbiAgICAgICAgXCJ4XCIsIFwiLVwiLCBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllciAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXJbZ2V0Vm94ZWxRdWFkSW5kZXhPZmZzZXRJbnNpZGVMYXllcihcInhcIiwgXCItXCIpXSA6IHVuZGVmaW5lZCk7XG4gICAgdXBkYXRlVm94ZWxCbG9ja1NpZGUocm9vbSwgdm94ZWwsIGNvbGxpc2lvbkxheWVyLCBsb3dlckNvbGxpc2lvbkxheWVyLCB1cHBlckNvbGxpc2lvbkxheWVyLFxuICAgICAgICBcInhcIiwgXCIrXCIsIHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyICE9IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllcltnZXRWb3hlbFF1YWRJbmRleE9mZnNldEluc2lkZUxheWVyKFwieFwiLCBcIitcIildIDogdW5kZWZpbmVkKTtcbiAgICB1cGRhdGVWb3hlbEJsb2NrU2lkZShyb29tLCB2b3hlbCwgY29sbGlzaW9uTGF5ZXIsIGxvd2VyQ29sbGlzaW9uTGF5ZXIsIHVwcGVyQ29sbGlzaW9uTGF5ZXIsXG4gICAgICAgIFwielwiLCBcIi1cIiwgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXIgIT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIHF1YWRUZXh0dXJlSW5kaWNlc1dpdGhpbkxheWVyW2dldFZveGVsUXVhZEluZGV4T2Zmc2V0SW5zaWRlTGF5ZXIoXCJ6XCIsIFwiLVwiKV0gOiB1bmRlZmluZWQpO1xuICAgIHVwZGF0ZVZveGVsQmxvY2tTaWRlKHJvb20sIHZveGVsLCBjb2xsaXNpb25MYXllciwgbG93ZXJDb2xsaXNpb25MYXllciwgdXBwZXJDb2xsaXNpb25MYXllcixcbiAgICAgICAgXCJ6XCIsIFwiK1wiLCBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllciAhPSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXJbZ2V0Vm94ZWxRdWFkSW5kZXhPZmZzZXRJbnNpZGVMYXllcihcInpcIiwgXCIrXCIpXSA6IHVuZGVmaW5lZCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVZveGVsQmxvY2tTaWRlKHJvb206IFJvb20sIHZveGVsOiBWb3hlbCwgY29sbGlzaW9uTGF5ZXI6IG51bWJlciwgbG93ZXJDb2xsaXNpb25MYXllcjogbnVtYmVyLCB1cHBlckNvbGxpc2lvbkxheWVyOiBudW1iZXIsXG4gICAgZmFjaW5nQXhpczogXCJ4XCIgfCBcInlcIiB8IFwielwiLCBvdXRPcmllbnRhdGlvbjogXCItXCIgfCBcIitcIiwgcXVhZFRleHR1cmVJbmRpY2VzV2l0aGluTGF5ZXI6IG51bWJlciA9IC0xKVxue1xuICAgIGxldCBhZGpCbG9ja1ZveGVsID0gdm94ZWw7XG4gICAgbGV0IGFkakJsb2NrQ29sbGlzaW9uTGF5ZXIgPSBjb2xsaXNpb25MYXllcjtcbiAgICBcbiAgICBzd2l0Y2ggKGZhY2luZ0F4aXMpXG4gICAge1xuICAgICAgICBjYXNlIFwieVwiOlxuICAgICAgICAgICAgYWRqQmxvY2tDb2xsaXNpb25MYXllciA9IChvdXRPcmllbnRhdGlvbiA9PSBcIi1cIiA/IGxvd2VyQ29sbGlzaW9uTGF5ZXIgOiB1cHBlckNvbGxpc2lvbkxheWVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgYWRqQmxvY2tWb3hlbCA9IGdldFZveGVsKHJvb20sIHZveGVsLnJvdywgdm94ZWwuY29sICsgKG91dE9yaWVudGF0aW9uID09IFwiLVwiID8gLTEgOiAxKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgICAgIGFkakJsb2NrVm94ZWwgPSBnZXRWb3hlbChyb29tLCB2b3hlbC5yb3cgKyAob3V0T3JpZW50YXRpb24gPT0gXCItXCIgPyAtMSA6IDEpLCB2b3hlbC5jb2wpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgbXlCbG9ja09jY3VwaWVkID0gaXNWb3hlbENvbGxpc2lvbkxheWVyT2NjdXBpZWQodm94ZWwsIGNvbGxpc2lvbkxheWVyKTtcbiAgICAvKmNvbnN0IG15QmxvY2tYU2hyaW5rID0gKHZveGVsLnhTaHJpbmtNYXNrICYgKDEgPDwgY29sbGlzaW9uTGF5ZXIpKSAhPSAwO1xuICAgIGNvbnN0IG15QmxvY2taU2hyaW5rID0gKHZveGVsLnpTaHJpbmtNYXNrICYgKDEgPDwgY29sbGlzaW9uTGF5ZXIpKSAhPSAwOyovXG5cbiAgICBjb25zdCBhZGpCbG9ja09jY3VwaWVkID0gaXNWb3hlbENvbGxpc2lvbkxheWVyT2NjdXBpZWQoYWRqQmxvY2tWb3hlbCwgYWRqQmxvY2tDb2xsaXNpb25MYXllcik7XG4gICAgLypjb25zdCBhZGpCbG9ja1hTaHJpbmsgPSAoYWRqQmxvY2tDb2xsaXNpb25MYXllciA9PSBDT0xMSVNJT05fTEFZRVJfTlVMTClcbiAgICAgICAgPyBmYWxzZSA6ICgoYWRqQmxvY2tWb3hlbC54U2hyaW5rTWFzayAmICgxIDw8IGFkakJsb2NrQ29sbGlzaW9uTGF5ZXIpKSAhPSAwKTtcbiAgICBjb25zdCBhZGpCbG9ja1pTaHJpbmsgPSAoYWRqQmxvY2tDb2xsaXNpb25MYXllciA9PSBDT0xMSVNJT05fTEFZRVJfTlVMTClcbiAgICAgICAgPyBmYWxzZSA6ICgoYWRqQmxvY2tWb3hlbC56U2hyaW5rTWFzayAmICgxIDw8IGFkakJsb2NrQ29sbGlzaW9uTGF5ZXIpKSAhPSAwKTsqL1xuXG4gICAgY29uc3Qgc2hvd015UXVhZCA9IG15QmxvY2tPY2N1cGllZCAmJiAhYWRqQmxvY2tPY2N1cGllZDtcbiAgICBjb25zdCBzaG93QWRqUXVhZCA9IGFkakJsb2NrT2NjdXBpZWQgJiYgIW15QmxvY2tPY2N1cGllZDtcbiAgICAvKmxldCBzaG93TXlRdWFkOiBib29sZWFuO1xuICAgIGxldCBzaG93QWRqUXVhZDogYm9vbGVhbjtcblxuICAgIHN3aXRjaCAoZmFjaW5nQXhpcylcbiAgICB7XG4gICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgICBzaG93TXlRdWFkID0gbXlCbG9ja09jY3VwaWVkICYmICghYWRqQmxvY2tPY2N1cGllZCB8fFxuICAgICAgICAgICAgICAgICghbXlCbG9ja1hTaHJpbmsgJiYgYWRqQmxvY2tYU2hyaW5rKSB8fCAvLyBCbG9jayBpcyBwYXJ0aWFsbHkgZXhwb3NlZFxuICAgICAgICAgICAgICAgICghbXlCbG9ja1pTaHJpbmsgJiYgYWRqQmxvY2taU2hyaW5rKSAvLyBCbG9jayBpcyBwYXJ0aWFsbHkgZXhwb3NlZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNob3dBZGpRdWFkID0gYWRqQmxvY2tPY2N1cGllZCAmJiAoIW15QmxvY2tPY2N1cGllZCB8fFxuICAgICAgICAgICAgICAgICghYWRqQmxvY2tYU2hyaW5rICYmIG15QmxvY2tYU2hyaW5rKSB8fCAvLyBCbG9jayBpcyBwYXJ0aWFsbHkgZXhwb3NlZFxuICAgICAgICAgICAgICAgICghYWRqQmxvY2taU2hyaW5rICYmIG15QmxvY2taU2hyaW5rKSAvLyBCbG9jayBpcyBwYXJ0aWFsbHkgZXhwb3NlZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgc2hvd015UXVhZCA9IG15QmxvY2tPY2N1cGllZCAmJiAoIWFkakJsb2NrT2NjdXBpZWQgfHxcbiAgICAgICAgICAgICAgICAoYWRqQmxvY2tYU2hyaW5rIHx8IG15QmxvY2tYU2hyaW5rKSB8fCAvLyBUaGVyZSBpcyBhIGdhcCBiZXR3ZWVuIHRoZSB0d28gYmxvY2tzXG4gICAgICAgICAgICAgICAgKCFteUJsb2NrWlNocmluayAmJiBhZGpCbG9ja1pTaHJpbmspIC8vIEJsb2NrIGlzIHBhcnRpYWxseSBleHBvc2VkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc2hvd0FkalF1YWQgPSBhZGpCbG9ja09jY3VwaWVkICYmICghbXlCbG9ja09jY3VwaWVkIHx8XG4gICAgICAgICAgICAgICAgKG15QmxvY2tYU2hyaW5rIHx8IGFkakJsb2NrWFNocmluaykgfHwgLy8gVGhlcmUgaXMgYSBnYXAgYmV0d2VlbiB0aGUgdHdvIGJsb2Nrc1xuICAgICAgICAgICAgICAgICghYWRqQmxvY2taU2hyaW5rICYmIG15QmxvY2taU2hyaW5rKSAvLyBCbG9jayBpcyBwYXJ0aWFsbHkgZXhwb3NlZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwielwiOlxuICAgICAgICAgICAgc2hvd015UXVhZCA9IG15QmxvY2tPY2N1cGllZCAmJiAoIWFkakJsb2NrT2NjdXBpZWQgfHxcbiAgICAgICAgICAgICAgICAoYWRqQmxvY2taU2hyaW5rIHx8IG15QmxvY2taU2hyaW5rKSB8fCAvLyBUaGVyZSBpcyBhIGdhcCBiZXR3ZWVuIHRoZSB0d28gYmxvY2tzXG4gICAgICAgICAgICAgICAgKCFteUJsb2NrWFNocmluayAmJiBhZGpCbG9ja1hTaHJpbmspIC8vIEJsb2NrIGlzIHBhcnRpYWxseSBleHBvc2VkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc2hvd0FkalF1YWQgPSBhZGpCbG9ja09jY3VwaWVkICYmICghbXlCbG9ja09jY3VwaWVkIHx8XG4gICAgICAgICAgICAgICAgKG15QmxvY2taU2hyaW5rIHx8IGFkakJsb2NrWlNocmluaykgfHwgLy8gVGhlcmUgaXMgYSBnYXAgYmV0d2VlbiB0aGUgdHdvIGJsb2Nrc1xuICAgICAgICAgICAgICAgICghYWRqQmxvY2tYU2hyaW5rICYmIG15QmxvY2tYU2hyaW5rKSAvLyBCbG9jayBpcyBwYXJ0aWFsbHkgZXhwb3NlZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH0qL1xuXG4gICAgc2V0Vm94ZWxRdWFkVmlzaWJsZShzaG93TXlRdWFkLCB2b3hlbCwgZmFjaW5nQXhpcywgb3V0T3JpZW50YXRpb24sXG4gICAgICAgIGNvbGxpc2lvbkxheWVyLCBxdWFkVGV4dHVyZUluZGljZXNXaXRoaW5MYXllcik7XG4gICAgc2V0Vm94ZWxRdWFkVmlzaWJsZShzaG93QWRqUXVhZCwgYWRqQmxvY2tWb3hlbCwgZmFjaW5nQXhpcywgb3V0T3JpZW50YXRpb24gPT0gXCItXCIgPyBcIitcIiA6IFwiLVwiLFxuICAgICAgICBhZGpCbG9ja0NvbGxpc2lvbkxheWVyKTtcbn0iLCJpbXBvcnQgeyB2b3hlbFF1YWRDaGFuZ2VPYnNlcnZhYmxlIH0gZnJvbSBcIi4uLy4uL3N5c3RlbS9zaGFyZWRPYnNlcnZhYmxlc1wiO1xuaW1wb3J0IFZveGVsIGZyb20gXCIuLi90eXBlcy92b3hlbFwiO1xuaW1wb3J0IFZveGVsUXVhZENoYW5nZSBmcm9tIFwiLi4vdHlwZXMvdm94ZWxRdWFkQ2hhbmdlXCI7XG5pbXBvcnQgeyBnZXRWb3hlbFF1YWRJbmRleCB9IGZyb20gXCIuL3ZveGVsUXVlcnlVdGlsXCI7XG5cbmxldCBkZWJ1Z0VuYWJsZWQgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFZveGVsUXVhZFVwZGF0ZVV0aWxEZWJ1Z0VuYWJsZWQoZW5hYmxlZDogYm9vbGVhbilcbntcbiAgICBkZWJ1Z0VuYWJsZWQgPSBlbmFibGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Vm94ZWxRdWFkVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuLCB2b3hlbDogVm94ZWwsXG4gICAgZmFjaW5nQXhpczogXCJ4XCIgfCBcInlcIiB8IFwielwiLCBvcmllbnRhdGlvbjogXCItXCIgfCBcIitcIiwgY29sbGlzaW9uTGF5ZXI6IG51bWJlcixcbiAgICB0ZXh0dXJlSW5kZXg6IG51bWJlciA9IC0xKTogYm9vbGVhbiAvLyAodGV4dHVyZUluZGV4ID09IC0xKSBpZiB0aGUgcXVhZCdzIHRleHR1cmVJbmRleCBzaG91bGQgc3RheSB0aGUgc2FtZSBhcyBiZWZvcmVcbntcbiAgICBjb25zdCBxdWFkSW5kZXggPSBnZXRWb3hlbFF1YWRJbmRleCh2b3hlbC5yb3csIHZveGVsLmNvbCwgZmFjaW5nQXhpcywgb3JpZW50YXRpb24sIGNvbGxpc2lvbkxheWVyKTtcbiAgICBjb25zdCBvbGRRdWFkID0gdm94ZWwucXVhZHNNZW0ucXVhZHNbcXVhZEluZGV4XTtcbiAgICBjb25zdCBuZXdUZXh0dXJlSW5kZXggPSAodGV4dHVyZUluZGV4ID49IDApID8gdGV4dHVyZUluZGV4IDogKG9sZFF1YWQgJiAwYjAxMTExMTExKTtcbiAgICBjb25zdCBuZXdRdWFkID0gKG5ld1RleHR1cmVJbmRleCAmIDBiMDExMTExMTEpIHwgKHZpc2libGUgPyAwYjEwMDAwMDAwIDogMGIwMDAwMDAwMCk7XG5cbiAgICBpZiAobmV3UXVhZCA9PSBvbGRRdWFkKVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5vIGNoYW5nZVxuXG4gICAgdm94ZWwucXVhZHNNZW0ucXVhZHNbcXVhZEluZGV4XSA9IG5ld1F1YWQ7XG5cbiAgICBjb25zdCBjaGFuZ2UgPSBuZXcgVm94ZWxRdWFkQ2hhbmdlKHF1YWRJbmRleCwgbmV3UXVhZCk7XG4gICAgaWYgKGRlYnVnRW5hYmxlZClcbiAgICAgICAgY2hhbmdlLnZveGVsUXVhZHNSZXN1bHRTbmFwc2hvdCA9IFN0cmluZyh2b3hlbCk7XG5cbiAgICB2b3hlbFF1YWRDaGFuZ2VPYnNlcnZhYmxlLnNldChjaGFuZ2UpO1xuICAgIHJldHVybiB0cnVlO1xufSIsImltcG9ydCB7IENPTExJU0lPTl9MQVlFUl9NQVgsIENPTExJU0lPTl9MQVlFUl9NSU4sIE5VTV9WT1hFTF9DT0xTLCBOVU1fVk9YRUxfUk9XUywgTlVNX1ZPWEVMX1FVQURTX1BFUl9WT1hFTCwgTlVNX1ZPWEVMX1FVQURTX1BFUl9DT0xMSVNJT05fTEFZRVIsIENPTExJU0lPTl9MQVlFUl9OVUxMIH0gZnJvbSBcIi4uLy4uL3N5c3RlbS9jb25zdGFudHNcIjtcbmltcG9ydCBSb29tIGZyb20gXCIuLi8uLi9yb29tL3R5cGVzL3Jvb21cIjtcbmltcG9ydCBWb3hlbCBmcm9tIFwiLi4vdHlwZXMvdm94ZWxcIjtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBCYXNpY1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWb3hlbChyb29tOiBSb29tLCByb3c6IG51bWJlciwgY29sOiBudW1iZXIpOiBWb3hlbFxue1xuICAgIGlmIChyb3cgPCAwIHx8IHJvdyA+PSBOVU1fVk9YRUxfUk9XUyB8fCBjb2wgPCAwIHx8IGNvbCA+PSBOVU1fVk9YRUxfQ09MUylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWb3hlbCBjb29yZGluYXRlcyBhcmUgb3V0IG9mIHJhbmdlIChyb3c6ICR7cm93fSwgY29sOiAke2NvbH0pYCk7XG4gICAgcmV0dXJuIHJvb20udm94ZWxHcmlkLnZveGVsc1tyb3cgKiBOVU1fVk9YRUxfQ09MUyArIGNvbF07XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUGh5c2ljc1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZveGVsQ29sbGlzaW9uTGF5ZXJPY2N1cGllZCh2b3hlbDogVm94ZWwsIGNvbGxpc2lvbkxheWVyOiBudW1iZXIpOiBib29sZWFuXG57XG4gICAgaWYgKGNvbGxpc2lvbkxheWVyIDwgQ09MTElTSU9OX0xBWUVSX01JTiB8fCBjb2xsaXNpb25MYXllciA+IENPTExJU0lPTl9MQVlFUl9NQVgpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiAodm94ZWwuY29sbGlzaW9uTGF5ZXJNYXNrICYgKDEgPDwgY29sbGlzaW9uTGF5ZXIpKSAhPSAwO1xufVxuXG4vLyBSZXR1cm5zIENPTExJU0lPTl9MQVlFUl9OVUxMIGlmIG5vIGxheWVyIGlzIG9jY3VwaWVkXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGVzdE9jY3VwaWVkVm94ZWxDb2xsaXNpb25MYXllcih2b3hlbDogVm94ZWwpOiBudW1iZXJcbntcbiAgICBsZXQgbGF5ZXIgPSBDT0xMSVNJT05fTEFZRVJfTUFYO1xuICAgIGxldCBtYXNrVGVtcCA9IHZveGVsLmNvbGxpc2lvbkxheWVyTWFzaztcbiAgICB3aGlsZSAoKG1hc2tUZW1wICYgMGIxMDAwMDAwMCkgPT0gMClcbiAgICB7XG4gICAgICAgIG1hc2tUZW1wIDw8PSAxO1xuICAgICAgICBpZiAobWFza1RlbXAgPT0gMClcbiAgICAgICAgICAgIHJldHVybiBDT0xMSVNJT05fTEFZRVJfTlVMTDtcbiAgICAgICAgbGF5ZXItLTtcbiAgICB9XG4gICAgcmV0dXJuIGxheWVyO1xufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdldCBxdWFkSW5kZXggZnJvbSBwcm9wZXJ0aWVzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZveGVsUXVhZEluZGV4KHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgZmFjaW5nQXhpczogXCJ4XCIgfCBcInlcIiB8IFwielwiLCBvcmllbnRhdGlvbjogXCItXCIgfCBcIitcIixcbiAgICBjb2xsaXNpb25MYXllcjogbnVtYmVyKTogbnVtYmVyXG57XG4gICAgY29uc3QgZmlyc3RJbmRleCA9IGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJbkxheWVyKHJvdywgY29sLCBjb2xsaXNpb25MYXllcik7XG4gICAgY29uc3Qgb2Zmc2V0ID0gZ2V0Vm94ZWxRdWFkSW5kZXhPZmZzZXRJbnNpZGVMYXllcihmYWNpbmdBeGlzLCBvcmllbnRhdGlvbik7XG4gICAgaWYgKG9mZnNldCA+PSBOVU1fVk9YRUxfUVVBRFNfUEVSX0NPTExJU0lPTl9MQVlFUilcbiAgICAgICAgcmV0dXJuIC0xOyAvLyBpbnZhbGlkIHF1YWRcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBmaXJzdEluZGV4ICsgb2Zmc2V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3RWb3hlbFF1YWRJbmRleEluTGF5ZXIocm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCBjb2xsaXNpb25MYXllcjogbnVtYmVyKTogbnVtYmVyXG57XG4gICAgcmV0dXJuIGdldEZpcnN0Vm94ZWxRdWFkSW5kZXhJblZveGVsKHJvdywgY29sKSArXG4gICAgICAgIE5VTV9WT1hFTF9RVUFEU19QRVJfQ09MTElTSU9OX0xBWUVSICogY29sbGlzaW9uTGF5ZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdFZveGVsUXVhZEluZGV4SW5Wb3hlbChyb3c6IG51bWJlciwgY29sOiBudW1iZXIpOiBudW1iZXJcbntcbiAgICBjb25zdCB2b3hlbEluZGV4ID0gcm93ICogTlVNX1ZPWEVMX0NPTFMgKyBjb2w7XG4gICAgcmV0dXJuIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwgKiB2b3hlbEluZGV4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm94ZWxRdWFkSW5kZXhPZmZzZXRJbnNpZGVMYXllcihmYWNpbmdBeGlzOiBcInhcIiB8IFwieVwiIHwgXCJ6XCIsIG9yaWVudGF0aW9uOiBcIi1cIiB8IFwiK1wiKTogbnVtYmVyXG57XG4gICAgcmV0dXJuIDIgKiAoZmFjaW5nQXhpcyA9PSBcInlcIiA/IDAgOiAoZmFjaW5nQXhpcyA9PSBcInhcIiA/IDEgOiAyKSkgK1xuICAgICAgICAob3JpZW50YXRpb24gPT0gXCItXCIgPyAwIDogMSk7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gR2V0IHByb3BlcnRpZXMgZnJvbSBxdWFkSW5kZXhcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm94ZWxRdWFkRmFjaW5nQXhpc0Zyb21RdWFkSW5kZXgocXVhZEluZGV4OiBudW1iZXIpOiBcInhcIiB8IFwieVwiIHwgXCJ6XCJcbntcbiAgICBjb25zdCBmYWNpbmdBeGlzQ29kZSA9IE1hdGguZmxvb3IoXG4gICAgICAgICgocXVhZEluZGV4ICUgTlVNX1ZPWEVMX1FVQURTX1BFUl9WT1hFTCkgJSBOVU1fVk9YRUxfUVVBRFNfUEVSX0NPTExJU0lPTl9MQVlFUikgKiAwLjVcbiAgICApO1xuICAgIHJldHVybiAoZmFjaW5nQXhpc0NvZGUgPT0gMCA/IFwieVwiIDogKGZhY2luZ0F4aXNDb2RlID09IDEgPyBcInhcIiA6IFwielwiKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWb3hlbFF1YWRPcmllbnRhdGlvbkZyb21RdWFkSW5kZXgocXVhZEluZGV4OiBudW1iZXIpOiBcIi1cIiB8IFwiK1wiXG57XG4gICAgcmV0dXJuIChxdWFkSW5kZXggJSAyID09IDApID8gXCItXCIgOiBcIitcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZveGVsUXVhZENvbGxpc2lvbkxheWVyRnJvbVF1YWRJbmRleChxdWFkSW5kZXg6IG51bWJlcik6IG51bWJlclxue1xuICAgIHJldHVybiBNYXRoLmZsb29yKChxdWFkSW5kZXggJSBOVU1fVk9YRUxfUVVBRFNfUEVSX1ZPWEVMKSAvIDYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm94ZWxRdWFkQ29sbGlzaW9uTGF5ZXJBZnRlck9mZnNldChxdWFkSW5kZXg6IG51bWJlciwgY29sbGlzaW9uTGF5ZXJPZmZzZXQ6IG51bWJlcik6IG51bWJlclxue1xuICAgIGNvbnN0IG5ld0NvbGxpc2lvbkxheWVyID0gZ2V0Vm94ZWxRdWFkQ29sbGlzaW9uTGF5ZXJGcm9tUXVhZEluZGV4KHF1YWRJbmRleCkgKyBjb2xsaXNpb25MYXllck9mZnNldDtcbiAgICBpZiAobmV3Q29sbGlzaW9uTGF5ZXIgPCBDT0xMSVNJT05fTEFZRVJfTUlOIHx8IG5ld0NvbGxpc2lvbkxheWVyID4gQ09MTElTSU9OX0xBWUVSX01BWClcbiAgICAgICAgcmV0dXJuIENPTExJU0lPTl9MQVlFUl9OVUxMO1xuICAgIHJldHVybiBuZXdDb2xsaXNpb25MYXllcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZveGVsUm93RnJvbVF1YWRJbmRleChxdWFkSW5kZXg6IG51bWJlcik6IG51bWJlclxue1xuICAgIGNvbnN0IHZveGVsSW5kZXggPSBNYXRoLmZsb29yKHF1YWRJbmRleCAvIE5VTV9WT1hFTF9RVUFEU19QRVJfVk9YRUwpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKHZveGVsSW5kZXggLyBOVU1fVk9YRUxfQ09MUyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWb3hlbENvbEZyb21RdWFkSW5kZXgocXVhZEluZGV4OiBudW1iZXIpOiBudW1iZXJcbntcbiAgICBjb25zdCB2b3hlbEluZGV4ID0gTWF0aC5mbG9vcihxdWFkSW5kZXggLyBOVU1fVk9YRUxfUVVBRFNfUEVSX1ZPWEVMKTtcbiAgICByZXR1cm4gdm94ZWxJbmRleCAlIE5VTV9WT1hFTF9DT0xTO1xufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdldCB0cmFuc2Zvcm0gZGltZW5zaW9ucyBmcm9tIHByb3BlcnRpZXNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm94ZWxRdWFkVHJhbnNmb3JtRGltZW5zaW9ucyh2b3hlbDogVm94ZWwsIHF1YWRJbmRleDogbnVtYmVyKVxuICAgIDogeyBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlciwgb2Zmc2V0WjogbnVtYmVyLFxuICAgICAgICBkaXJYOiBudW1iZXIsIGRpclk6IG51bWJlciwgZGlyWjogbnVtYmVyLFxuICAgICAgICBzY2FsZVg6IG51bWJlciwgc2NhbGVZOiBudW1iZXIsIHNjYWxlWjogbnVtYmVyIH1cbntcbiAgICBjb25zdCBxdWFkID0gdm94ZWwucXVhZHNNZW0ucXVhZHNbcXVhZEluZGV4XTtcbiAgICBpZiAoKHF1YWQgJiAwYjEwMDAwMDAwKSA9PSAwKSAvLyBxdWFkIGlzIGhpZGRlblxuICAgICAgICByZXR1cm4geyBvZmZzZXRYOiAwLCBvZmZzZXRZOiAtOTk5OSwgb2Zmc2V0WjogMCwgZGlyWDogMCwgZGlyWTogLTEsIGRpclo6IDAsIHNjYWxlWDogMSwgc2NhbGVZOiAxLCBzY2FsZVo6IDEgfTtcblxuICAgIGNvbnN0IGZhY2luZ0F4aXMgPSBnZXRWb3hlbFF1YWRGYWNpbmdBeGlzRnJvbVF1YWRJbmRleChxdWFkSW5kZXgpO1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gZ2V0Vm94ZWxRdWFkT3JpZW50YXRpb25Gcm9tUXVhZEluZGV4KHF1YWRJbmRleCk7XG4gICAgY29uc3QgY29sbGlzaW9uTGF5ZXIgPSBnZXRWb3hlbFF1YWRDb2xsaXNpb25MYXllckZyb21RdWFkSW5kZXgocXVhZEluZGV4KTtcblxuICAgIC8qY29uc3QgeFNocmluayA9ICh2b3hlbC54U2hyaW5rTWFzayAmICgxIDw8IGNvbGxpc2lvbkxheWVyKSkgIT0gMDtcbiAgICBjb25zdCB6U2hyaW5rID0gKHZveGVsLnpTaHJpbmtNYXNrICYgKDEgPDwgY29sbGlzaW9uTGF5ZXIpKSAhPSAwOyovXG5cbiAgICBsZXQgb2Zmc2V0WCA9IDAsIG9mZnNldFkgPSAwLCBvZmZzZXRaID0gMCxcbiAgICAgICAgZGlyWCA9IDAsIGRpclkgPSAwLCBkaXJaID0gMCwgc2NhbGVYID0gMSwgc2NhbGVZID0gMC41LCBzY2FsZVogPSAxO1xuXG4gICAgaWYgKGZhY2luZ0F4aXMgPT0gXCJ5XCIpXG4gICAgICAgIHNjYWxlWSA9IDE7XG4gICAgLypzd2l0Y2ggKGZhY2luZ0F4aXMpXG4gICAge1xuICAgICAgICBjYXNlIFwieVwiOlxuICAgICAgICAgICAgc2NhbGVYID0geFNocmluayA/IDAuNSA6IDE7XG4gICAgICAgICAgICBzY2FsZVkgPSB6U2hyaW5rID8gMC41IDogMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgc2NhbGVYID0gelNocmluayA/IDAuNSA6IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgICAgIHNjYWxlWCA9IHhTaHJpbmsgPyAwLjUgOiAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfSovXG5cbiAgICBpZiAoY29sbGlzaW9uTGF5ZXIgPCBDT0xMSVNJT05fTEFZRVJfTUlOIHx8IGNvbGxpc2lvbkxheWVyID4gQ09MTElTSU9OX0xBWUVSX01BWClcbiAgICB7XG4gICAgICAgIG9mZnNldFkgPSAob3JpZW50YXRpb24gPT0gXCIrXCIpID8gMCA6IDQ7IC8vIGZsb29yIG9yIGNlaWxpbmdcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgaWYgKGZhY2luZ0F4aXMgPT0gXCJ5XCIpXG4gICAgICAgICAgICBvZmZzZXRZID0gKChvcmllbnRhdGlvbiA9PSBcIi1cIikgPyAwIDogMC41KSArIDAuNSAqIGNvbGxpc2lvbkxheWVyO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBvZmZzZXRZID0gMC4yNSArIDAuNSAqIGNvbGxpc2lvbkxheWVyO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZmFjaW5nQXhpcylcbiAgICB7XG4gICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gXCIrXCIpIHsgZGlyWCA9IDE7IGRpclkgPSAwOyBkaXJaID0gMDsgb2Zmc2V0WCArPSAwLjU7IH1cbiAgICAgICAgICAgIGVsc2UgeyBkaXJYID0gLTE7IGRpclkgPSAwOyBkaXJaID0gMDsgb2Zmc2V0WCAtPSAwLjU7IH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieVwiOlxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09IFwiK1wiKSB7IGRpclggPSAwOyBkaXJZID0gMTsgZGlyWiA9IDA7IH1cbiAgICAgICAgICAgIGVsc2UgeyBkaXJYID0gMDsgZGlyWSA9IC0xOyBkaXJaID0gMDsgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gXCIrXCIpIHsgZGlyWCA9IDA7IGRpclkgPSAwOyBkaXJaID0gMTsgb2Zmc2V0WiArPSAwLjU7IH1cbiAgICAgICAgICAgIGVsc2UgeyBkaXJYID0gMDsgZGlyWSA9IDA7IGRpclogPSAtMTsgb2Zmc2V0WiAtPSAwLjU7IH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZhY2luZ0F4aXMgKCR7ZmFjaW5nQXhpc30pYCk7XG4gICAgfVxuICAgIC8qc3dpdGNoIChmYWNpbmdBeGlzKVxuICAgIHtcbiAgICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSBcIitcIikgeyBkaXJYID0gMTsgZGlyWSA9IDA7IGRpclogPSAwOyBvZmZzZXRYICs9IHhTaHJpbmsgPyAwLjI1IDogMC41OyB9XG4gICAgICAgICAgICBlbHNlIHsgZGlyWCA9IC0xOyBkaXJZID0gMDsgZGlyWiA9IDA7IG9mZnNldFggLT0geFNocmluayA/IDAuMjUgOiAwLjU7IH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieVwiOlxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09IFwiK1wiKSB7IGRpclggPSAwOyBkaXJZID0gMTsgZGlyWiA9IDA7IH1cbiAgICAgICAgICAgIGVsc2UgeyBkaXJYID0gMDsgZGlyWSA9IC0xOyBkaXJaID0gMDsgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gXCIrXCIpIHsgZGlyWCA9IDA7IGRpclkgPSAwOyBkaXJaID0gMTsgb2Zmc2V0WiArPSB6U2hyaW5rID8gMC4yNSA6IDAuNTsgfVxuICAgICAgICAgICAgZWxzZSB7IGRpclggPSAwOyBkaXJZID0gMDsgZGlyWiA9IC0xOyBvZmZzZXRaIC09IHpTaHJpbmsgPyAwLjI1IDogMC41OyB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmYWNpbmdBeGlzICgke2ZhY2luZ0F4aXN9KWApO1xuICAgIH0qL1xuICAgIHJldHVybiB7IG9mZnNldFgsIG9mZnNldFksIG9mZnNldFosIGRpclgsIGRpclksIGRpclosIHNjYWxlWCwgc2NhbGVZLCBzY2FsZVogfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJheGlvc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiY3J5cHRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29va2llXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRvdGVudlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlanNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmcy9wcm9taXNlc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJocHBcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibXlzcWwyL3Byb21pc2VcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwib3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzb2NrZXQuaW9cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXJsXCIpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tIFwiY29va2llLXBhcnNlclwiO1xuaW1wb3J0IGhwcCBmcm9tIFwiaHBwXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IFNTRyBmcm9tIFwiLi9zc2cvc3NnXCI7XG5pbXBvcnQgREIgZnJvbSBcIi4vZGIvZGJcIjtcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIi4vcm91dGVyL3JvdXRlclwiO1xuaW1wb3J0IFNvY2tldHMgZnJvbSBcIi4vc29ja2V0cy9zb2NrZXRzXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcbmltcG9ydCBSb29tREIgZnJvbSBcIi4vZGIvcm9vbURCXCI7XG5pbXBvcnQgQWRkcmVzc1V0aWwgZnJvbSBcIi4vbmV0d29ya2luZy91dGlsL2FkZHJlc3NVdGlsXCI7XG5pbXBvcnQgZGJUYXNrX2luaXQgZnJvbSBcIi4vZGIvdGFza3MvZGJUYXNrX2luaXRcIjtcbmltcG9ydCB7IExBVEVTVF9EQl9WRVJTSU9OIH0gZnJvbSBcIi4uL3NoYXJlZC9zeXN0ZW0vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBSb29tVHlwZUVudW1NYXAgfSBmcm9tIFwiLi4vc2hhcmVkL3Jvb20vdHlwZXMvcm9vbVR5cGVcIjtcbmltcG9ydCBTZWFyY2hEQiBmcm9tIFwiLi9kYi9zZWFyY2hEQlwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5hc3luYyBmdW5jdGlvbiBTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIC8vIFNTRyA9IFwiU3RhdGljIFNpdGUgR2VuZXJhdG9yXCJcbiAgICBpZiAoIXByb2Nlc3MuZW52LlNLSVBfU1NHKVxuICAgIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk1PREUgPT0gXCJkZXZcIikgLy8gSWYgeW91IGFyZSBpbiBkZXYgbW9kZSwgcmVidWlsZCB0aGUgc3RhdGljIHBhZ2VzIG9uIHJlc3RhcnQuXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF3YWl0IFNTRygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk1PREUgPT0gXCJzc2dcIikgLy8gSWYgeW91IGFyZSBpbiBzc2cgbW9kZSwganVzdCByZWJ1aWxkIHRoZSBzdGF0aWMgcGFnZXMgYW5kIHF1aXQgaW1tZWRpYXRlbHkuXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF3YWl0IFNTRygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0YWJhc2UgaW5pdGlhbGl6YXRpb25cblxuICAgIGlmICghKGF3YWl0IERCLnJ1blF1ZXJ5KGBEUk9QIERBVEFCQVNFIElGIEVYSVNUUyBtYWluO2ApKS5zdWNjZXNzKSByZXR1cm47IC8vIDwtLS0gUmVzZXQgdGhlIERCIGV2ZXJ5IHRpbWUgdGhlIHNlcnZlciByZXN0YXJ0cyAoVE9ETzogUmVtb3ZlIHRoaXMgb25jZSB0aGUgREIgc3lzdGVtIGdldHMgZnVsbHkgc3RhYmlsaXplZC4pXG4gICAgaWYgKCEoYXdhaXQgREIucnVuUXVlcnkoYENSRUFURSBEQVRBQkFTRSBJRiBOT1QgRVhJU1RTIG1haW47YCkpLnN1Y2Nlc3MpIHJldHVybjtcbiAgICBpZiAoIShhd2FpdCBEQi5ydW5RdWVyeShgVVNFIG1haW47YCkpLnN1Y2Nlc3MpIHJldHVybjtcbiAgICBpZiAoIShhd2FpdCBEQi5ydW5RdWVyeShgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZ2xvYmFsRGF0YSAoZGJWZXJzaW9uIElOVCBOT1QgTlVMTCk7YCkpLnN1Y2Nlc3MpIHJldHVybjtcbiAgICBcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgREIucnVuUXVlcnk8bnVtYmVyPihgU0VMRUNUIGRiVmVyc2lvbiBGUk9NIGdsb2JhbERhdGE7YCk7XG4gICAgaWYgKCFyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgaWYgKCFyZXN1bHQuZGF0YSB8fCByZXN1bHQuZGF0YS5sZW5ndGggPT0gMCkgLy8gZGJWZXJzaW9uIGRvZXNuJ3QgZXhpc3QgeWV0LiAoaS5lLiBUaGlzIGlzIHRoZSBmaXJzdC10aW1lIHNldHVwKVxuICAgIHtcbiAgICAgICAgaWYgKCEoYXdhaXQgZGJUYXNrX2luaXQoKSkpIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSAvLyBkYlZlcnNpb24gYWxyZWFkeSBleGlzdHMuIChpLmUuIFRoaXMgaXMgZWl0aGVyIGFuIHVwLXRvLWRhdGUgb3Igb3V0ZGF0ZWQgREIpXG4gICAge1xuICAgICAgICBsZXQgZGJWZXJzaW9uID0gcmVzdWx0LmRhdGFbMF07XG4gICAgICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IERCIFZlcnNpb246ICR7ZGJWZXJzaW9ufWApO1xuXG4gICAgICAgIHdoaWxlIChkYlZlcnNpb24gPCBMQVRFU1RfREJfVkVSU0lPTilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSW1wbGVtZW50IHZlcnNpb24gbWlncmF0aW9uIHJvdXRpbmVzIGhlcmU6XG4gICAgICAgICAgICAvLyAuLi5cbiAgICAgICAgICAgIGRiVmVyc2lvbisrO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJvb21TZWFyY2hSZXN1bHQgPSBhd2FpdCBTZWFyY2hEQi5yb29tcy53aXRoUm9vbVR5cGUoUm9vbVR5cGVFbnVtTWFwLkh1Yik7XG4gICAgaWYgKCFyb29tU2VhcmNoUmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgIHJldHVybjtcblxuICAgIGlmIChyb29tU2VhcmNoUmVzdWx0LmRhdGEubGVuZ3RoID09IDApXG4gICAge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IGF3YWl0IFJvb21EQi5jcmVhdGVSb29tKFwiaHViXCIsIFJvb21UeXBlRW51bU1hcC5IdWIsIFwiXCIsIDAsIDEsIDIsIGAke3Byb2Nlc3MuZW52Lk1PREUgPT0gXCJkZXZcIiA/IGBodHRwOi8vJHtBZGRyZXNzVXRpbC5nZXRMb2NhbElwQWRkcmVzcygpfToke3Byb2Nlc3MuZW52LlBPUlR9YCA6IHByb2Nlc3MuZW52LlVSTF9TVEFUSUN9L2FwcC9hc3NldHMvdGV4dHVyZV9wYWNrcy9kZWZhdWx0LmpwZ2ApO1xuICAgICAgICBpZiAoIXN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZXhwcmVzcyBhcHBcbiAgICBjb25zdCBhcHAgPSBleHByZXNzKCk7XG4gICAgY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcblxuICAgIC8vIGNvbmZpZ1xuICAgIGFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKTtcblxuICAgIC8vIG1pZGRsZXdhcmVcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbiAgICBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbiAgICBhcHAudXNlKGhwcCgpKTsgLy8gZm9yIEhUVFAgcGFyYW1ldGVyIHBvbGx1dGlvbiBwcmV2ZW50aW9uXG4gICAgLyppZiAocHJvY2Vzcy5lbnYuTU9ERSA9PSBcImRldlwiKVxuICAgIHtcbiAgICAgICAgYXBwLnVzZShjb3JzKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCIqXCIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgIH0qL1xuXG4gICAgLy8gcm91dGVyXG4gICAgUm91dGVyKGFwcCk7XG5cbiAgICAvLyBzZXJ2ZXIgY29ubmVjdGlvblxuICAgIHNlcnZlci5saXN0ZW4ocHJvY2Vzcy5lbnYuUE9SVCwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coYExpc3RlbmluZyB0byBwb3J0ICR7cHJvY2Vzcy5lbnYuUE9SVH0uYCk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gc29ja2V0IGNvbm5lY3Rpb25cbiAgICBTb2NrZXRzKHNlcnZlcik7XG59XG5cblNlcnZlcigpO1xuXG4vLyBQcmV2ZW50IGF1dG9tYXRpYyByZXN0YXJ0IHdoZW4gdGhlIHNlcnZlciBhcHAgY3Jhc2hlcyAob25seSBvbiBkZXYgbW9kZSlcbmlmIChwcm9jZXNzLmVudi5NT0RFID09IFwiZGV2XCIpXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge30sIDM2MDAwMDAwKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=